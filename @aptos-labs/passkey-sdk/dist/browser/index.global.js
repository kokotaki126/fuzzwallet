"use strict";var aptosSDK=(()=>{var w1=Object.create;var pc=Object.defineProperty;var Wm=Object.getOwnPropertyDescriptor;var v1=Object.getOwnPropertyNames;var S1=Object.getPrototypeOf,T1=Object.prototype.hasOwnProperty;var ap=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var ia=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),yn=(r,e)=>{for(var t in e)pc(r,t,{get:e[t],enumerable:!0})},Qm=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of v1(e))!T1.call(r,o)&&o!==t&&pc(r,o,{get:()=>e[o],enumerable:!(n=Wm(e,o))||n.enumerable});return r};var Vr=(r,e,t)=>(t=r!=null?w1(S1(r)):{},Qm(e||!r||!r.__esModule?pc(t,"default",{value:r,enumerable:!0}):t,r)),E1=r=>Qm(pc({},"__esModule",{value:!0}),r),Ar=(r,e,t,n)=>{for(var o=n>1?void 0:n?Wm(e,t):e,i=r.length-1,s;i>=0;i--)(s=r[i])&&(o=(n?s(e,t,o):s(o))||o);return n&&o&&pc(e,t,o),o};var Ag=ia(()=>{"use strict"});var xg=ia((GC,Sf)=>{"use strict";(function(r){"use strict";var e=function(d){var A,g=new Float64Array(16);if(d)for(A=0;A<d.length;A++)g[A]=d[A];return g},t=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=e(),s=e([1]),a=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),w=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(d,A,g,u){d[A]=g>>24&255,d[A+1]=g>>16&255,d[A+2]=g>>8&255,d[A+3]=g&255,d[A+4]=u>>24&255,d[A+5]=u>>16&255,d[A+6]=u>>8&255,d[A+7]=u&255}function m(d,A,g,u,x){var O,N=0;for(O=0;O<x;O++)N|=d[A+O]^g[u+O];return(1&N-1>>>8)-1}function y(d,A,g,u){return m(d,A,g,u,16)}function b(d,A,g,u){return m(d,A,g,u,32)}function S(d,A,g,u){for(var x=u[0]&255|(u[1]&255)<<8|(u[2]&255)<<16|(u[3]&255)<<24,O=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,N=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,Q=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,te=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,xe=u[4]&255|(u[5]&255)<<8|(u[6]&255)<<16|(u[7]&255)<<24,ue=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,rt=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,pe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ce=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Be=u[8]&255|(u[9]&255)<<8|(u[10]&255)<<16|(u[11]&255)<<24,Ne=g[16]&255|(g[17]&255)<<8|(g[18]&255)<<16|(g[19]&255)<<24,ke=g[20]&255|(g[21]&255)<<8|(g[22]&255)<<16|(g[23]&255)<<24,Ie=g[24]&255|(g[25]&255)<<8|(g[26]&255)<<16|(g[27]&255)<<24,Re=g[28]&255|(g[29]&255)<<8|(g[30]&255)<<16|(g[31]&255)<<24,Pe=u[12]&255|(u[13]&255)<<8|(u[14]&255)<<16|(u[15]&255)<<24,he=x,we=O,fe=N,me=Q,Ae=te,ae=xe,H=ue,G=rt,J=pe,j=Ce,Y=Be,ee=Ne,Se=ke,De=Ie,He=Re,Me=Pe,C,Fe=0;Fe<20;Fe+=2)C=he+Se|0,Ae^=C<<7|C>>>25,C=Ae+he|0,J^=C<<9|C>>>23,C=J+Ae|0,Se^=C<<13|C>>>19,C=Se+J|0,he^=C<<18|C>>>14,C=ae+we|0,j^=C<<7|C>>>25,C=j+ae|0,De^=C<<9|C>>>23,C=De+j|0,we^=C<<13|C>>>19,C=we+De|0,ae^=C<<18|C>>>14,C=Y+H|0,He^=C<<7|C>>>25,C=He+Y|0,fe^=C<<9|C>>>23,C=fe+He|0,H^=C<<13|C>>>19,C=H+fe|0,Y^=C<<18|C>>>14,C=Me+ee|0,me^=C<<7|C>>>25,C=me+Me|0,G^=C<<9|C>>>23,C=G+me|0,ee^=C<<13|C>>>19,C=ee+G|0,Me^=C<<18|C>>>14,C=he+me|0,we^=C<<7|C>>>25,C=we+he|0,fe^=C<<9|C>>>23,C=fe+we|0,me^=C<<13|C>>>19,C=me+fe|0,he^=C<<18|C>>>14,C=ae+Ae|0,H^=C<<7|C>>>25,C=H+ae|0,G^=C<<9|C>>>23,C=G+H|0,Ae^=C<<13|C>>>19,C=Ae+G|0,ae^=C<<18|C>>>14,C=Y+j|0,ee^=C<<7|C>>>25,C=ee+Y|0,J^=C<<9|C>>>23,C=J+ee|0,j^=C<<13|C>>>19,C=j+J|0,Y^=C<<18|C>>>14,C=Me+He|0,Se^=C<<7|C>>>25,C=Se+Me|0,De^=C<<9|C>>>23,C=De+Se|0,He^=C<<13|C>>>19,C=He+De|0,Me^=C<<18|C>>>14;he=he+x|0,we=we+O|0,fe=fe+N|0,me=me+Q|0,Ae=Ae+te|0,ae=ae+xe|0,H=H+ue|0,G=G+rt|0,J=J+pe|0,j=j+Ce|0,Y=Y+Be|0,ee=ee+Ne|0,Se=Se+ke|0,De=De+Ie|0,He=He+Re|0,Me=Me+Pe|0,d[0]=he>>>0&255,d[1]=he>>>8&255,d[2]=he>>>16&255,d[3]=he>>>24&255,d[4]=we>>>0&255,d[5]=we>>>8&255,d[6]=we>>>16&255,d[7]=we>>>24&255,d[8]=fe>>>0&255,d[9]=fe>>>8&255,d[10]=fe>>>16&255,d[11]=fe>>>24&255,d[12]=me>>>0&255,d[13]=me>>>8&255,d[14]=me>>>16&255,d[15]=me>>>24&255,d[16]=Ae>>>0&255,d[17]=Ae>>>8&255,d[18]=Ae>>>16&255,d[19]=Ae>>>24&255,d[20]=ae>>>0&255,d[21]=ae>>>8&255,d[22]=ae>>>16&255,d[23]=ae>>>24&255,d[24]=H>>>0&255,d[25]=H>>>8&255,d[26]=H>>>16&255,d[27]=H>>>24&255,d[28]=G>>>0&255,d[29]=G>>>8&255,d[30]=G>>>16&255,d[31]=G>>>24&255,d[32]=J>>>0&255,d[33]=J>>>8&255,d[34]=J>>>16&255,d[35]=J>>>24&255,d[36]=j>>>0&255,d[37]=j>>>8&255,d[38]=j>>>16&255,d[39]=j>>>24&255,d[40]=Y>>>0&255,d[41]=Y>>>8&255,d[42]=Y>>>16&255,d[43]=Y>>>24&255,d[44]=ee>>>0&255,d[45]=ee>>>8&255,d[46]=ee>>>16&255,d[47]=ee>>>24&255,d[48]=Se>>>0&255,d[49]=Se>>>8&255,d[50]=Se>>>16&255,d[51]=Se>>>24&255,d[52]=De>>>0&255,d[53]=De>>>8&255,d[54]=De>>>16&255,d[55]=De>>>24&255,d[56]=He>>>0&255,d[57]=He>>>8&255,d[58]=He>>>16&255,d[59]=He>>>24&255,d[60]=Me>>>0&255,d[61]=Me>>>8&255,d[62]=Me>>>16&255,d[63]=Me>>>24&255}function P(d,A,g,u){for(var x=u[0]&255|(u[1]&255)<<8|(u[2]&255)<<16|(u[3]&255)<<24,O=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,N=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,Q=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,te=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,xe=u[4]&255|(u[5]&255)<<8|(u[6]&255)<<16|(u[7]&255)<<24,ue=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,rt=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,pe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ce=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Be=u[8]&255|(u[9]&255)<<8|(u[10]&255)<<16|(u[11]&255)<<24,Ne=g[16]&255|(g[17]&255)<<8|(g[18]&255)<<16|(g[19]&255)<<24,ke=g[20]&255|(g[21]&255)<<8|(g[22]&255)<<16|(g[23]&255)<<24,Ie=g[24]&255|(g[25]&255)<<8|(g[26]&255)<<16|(g[27]&255)<<24,Re=g[28]&255|(g[29]&255)<<8|(g[30]&255)<<16|(g[31]&255)<<24,Pe=u[12]&255|(u[13]&255)<<8|(u[14]&255)<<16|(u[15]&255)<<24,he=x,we=O,fe=N,me=Q,Ae=te,ae=xe,H=ue,G=rt,J=pe,j=Ce,Y=Be,ee=Ne,Se=ke,De=Ie,He=Re,Me=Pe,C,Fe=0;Fe<20;Fe+=2)C=he+Se|0,Ae^=C<<7|C>>>25,C=Ae+he|0,J^=C<<9|C>>>23,C=J+Ae|0,Se^=C<<13|C>>>19,C=Se+J|0,he^=C<<18|C>>>14,C=ae+we|0,j^=C<<7|C>>>25,C=j+ae|0,De^=C<<9|C>>>23,C=De+j|0,we^=C<<13|C>>>19,C=we+De|0,ae^=C<<18|C>>>14,C=Y+H|0,He^=C<<7|C>>>25,C=He+Y|0,fe^=C<<9|C>>>23,C=fe+He|0,H^=C<<13|C>>>19,C=H+fe|0,Y^=C<<18|C>>>14,C=Me+ee|0,me^=C<<7|C>>>25,C=me+Me|0,G^=C<<9|C>>>23,C=G+me|0,ee^=C<<13|C>>>19,C=ee+G|0,Me^=C<<18|C>>>14,C=he+me|0,we^=C<<7|C>>>25,C=we+he|0,fe^=C<<9|C>>>23,C=fe+we|0,me^=C<<13|C>>>19,C=me+fe|0,he^=C<<18|C>>>14,C=ae+Ae|0,H^=C<<7|C>>>25,C=H+ae|0,G^=C<<9|C>>>23,C=G+H|0,Ae^=C<<13|C>>>19,C=Ae+G|0,ae^=C<<18|C>>>14,C=Y+j|0,ee^=C<<7|C>>>25,C=ee+Y|0,J^=C<<9|C>>>23,C=J+ee|0,j^=C<<13|C>>>19,C=j+J|0,Y^=C<<18|C>>>14,C=Me+He|0,Se^=C<<7|C>>>25,C=Se+Me|0,De^=C<<9|C>>>23,C=De+Se|0,He^=C<<13|C>>>19,C=He+De|0,Me^=C<<18|C>>>14;d[0]=he>>>0&255,d[1]=he>>>8&255,d[2]=he>>>16&255,d[3]=he>>>24&255,d[4]=ae>>>0&255,d[5]=ae>>>8&255,d[6]=ae>>>16&255,d[7]=ae>>>24&255,d[8]=Y>>>0&255,d[9]=Y>>>8&255,d[10]=Y>>>16&255,d[11]=Y>>>24&255,d[12]=Me>>>0&255,d[13]=Me>>>8&255,d[14]=Me>>>16&255,d[15]=Me>>>24&255,d[16]=H>>>0&255,d[17]=H>>>8&255,d[18]=H>>>16&255,d[19]=H>>>24&255,d[20]=G>>>0&255,d[21]=G>>>8&255,d[22]=G>>>16&255,d[23]=G>>>24&255,d[24]=J>>>0&255,d[25]=J>>>8&255,d[26]=J>>>16&255,d[27]=J>>>24&255,d[28]=j>>>0&255,d[29]=j>>>8&255,d[30]=j>>>16&255,d[31]=j>>>24&255}function D(d,A,g,u){S(d,A,g,u)}function $(d,A,g,u){P(d,A,g,u)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function V(d,A,g,u,x,O,N){var Q=new Uint8Array(16),te=new Uint8Array(64),xe,ue;for(ue=0;ue<16;ue++)Q[ue]=0;for(ue=0;ue<8;ue++)Q[ue]=O[ue];for(;x>=64;){for(D(te,Q,N,W),ue=0;ue<64;ue++)d[A+ue]=g[u+ue]^te[ue];for(xe=1,ue=8;ue<16;ue++)xe=xe+(Q[ue]&255)|0,Q[ue]=xe&255,xe>>>=8;x-=64,A+=64,u+=64}if(x>0)for(D(te,Q,N,W),ue=0;ue<x;ue++)d[A+ue]=g[u+ue]^te[ue];return 0}function Z(d,A,g,u,x){var O=new Uint8Array(16),N=new Uint8Array(64),Q,te;for(te=0;te<16;te++)O[te]=0;for(te=0;te<8;te++)O[te]=u[te];for(;g>=64;){for(D(N,O,x,W),te=0;te<64;te++)d[A+te]=N[te];for(Q=1,te=8;te<16;te++)Q=Q+(O[te]&255)|0,O[te]=Q&255,Q>>>=8;g-=64,A+=64}if(g>0)for(D(N,O,x,W),te=0;te<g;te++)d[A+te]=N[te];return 0}function X(d,A,g,u,x){var O=new Uint8Array(32);$(O,u,x,W);for(var N=new Uint8Array(8),Q=0;Q<8;Q++)N[Q]=u[Q+16];return Z(d,A,g,N,O)}function _e(d,A,g,u,x,O,N){var Q=new Uint8Array(32);$(Q,O,N,W);for(var te=new Uint8Array(8),xe=0;xe<8;xe++)te[xe]=O[xe+16];return V(d,A,g,u,x,te,Q)}var de=function(d){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var A,g,u,x,O,N,Q,te;A=d[0]&255|(d[1]&255)<<8,this.r[0]=A&8191,g=d[2]&255|(d[3]&255)<<8,this.r[1]=(A>>>13|g<<3)&8191,u=d[4]&255|(d[5]&255)<<8,this.r[2]=(g>>>10|u<<6)&7939,x=d[6]&255|(d[7]&255)<<8,this.r[3]=(u>>>7|x<<9)&8191,O=d[8]&255|(d[9]&255)<<8,this.r[4]=(x>>>4|O<<12)&255,this.r[5]=O>>>1&8190,N=d[10]&255|(d[11]&255)<<8,this.r[6]=(O>>>14|N<<2)&8191,Q=d[12]&255|(d[13]&255)<<8,this.r[7]=(N>>>11|Q<<5)&8065,te=d[14]&255|(d[15]&255)<<8,this.r[8]=(Q>>>8|te<<8)&8191,this.r[9]=te>>>5&127,this.pad[0]=d[16]&255|(d[17]&255)<<8,this.pad[1]=d[18]&255|(d[19]&255)<<8,this.pad[2]=d[20]&255|(d[21]&255)<<8,this.pad[3]=d[22]&255|(d[23]&255)<<8,this.pad[4]=d[24]&255|(d[25]&255)<<8,this.pad[5]=d[26]&255|(d[27]&255)<<8,this.pad[6]=d[28]&255|(d[29]&255)<<8,this.pad[7]=d[30]&255|(d[31]&255)<<8};de.prototype.blocks=function(d,A,g){for(var u=this.fin?0:2048,x,O,N,Q,te,xe,ue,rt,pe,Ce,Be,Ne,ke,Ie,Re,Pe,he,we,fe,me=this.h[0],Ae=this.h[1],ae=this.h[2],H=this.h[3],G=this.h[4],J=this.h[5],j=this.h[6],Y=this.h[7],ee=this.h[8],Se=this.h[9],De=this.r[0],He=this.r[1],Me=this.r[2],C=this.r[3],Fe=this.r[4],nt=this.r[5],ot=this.r[6],Ke=this.r[7],Ze=this.r[8],et=this.r[9];g>=16;)x=d[A+0]&255|(d[A+1]&255)<<8,me+=x&8191,O=d[A+2]&255|(d[A+3]&255)<<8,Ae+=(x>>>13|O<<3)&8191,N=d[A+4]&255|(d[A+5]&255)<<8,ae+=(O>>>10|N<<6)&8191,Q=d[A+6]&255|(d[A+7]&255)<<8,H+=(N>>>7|Q<<9)&8191,te=d[A+8]&255|(d[A+9]&255)<<8,G+=(Q>>>4|te<<12)&8191,J+=te>>>1&8191,xe=d[A+10]&255|(d[A+11]&255)<<8,j+=(te>>>14|xe<<2)&8191,ue=d[A+12]&255|(d[A+13]&255)<<8,Y+=(xe>>>11|ue<<5)&8191,rt=d[A+14]&255|(d[A+15]&255)<<8,ee+=(ue>>>8|rt<<8)&8191,Se+=rt>>>5|u,pe=0,Ce=pe,Ce+=me*De,Ce+=Ae*(5*et),Ce+=ae*(5*Ze),Ce+=H*(5*Ke),Ce+=G*(5*ot),pe=Ce>>>13,Ce&=8191,Ce+=J*(5*nt),Ce+=j*(5*Fe),Ce+=Y*(5*C),Ce+=ee*(5*Me),Ce+=Se*(5*He),pe+=Ce>>>13,Ce&=8191,Be=pe,Be+=me*He,Be+=Ae*De,Be+=ae*(5*et),Be+=H*(5*Ze),Be+=G*(5*Ke),pe=Be>>>13,Be&=8191,Be+=J*(5*ot),Be+=j*(5*nt),Be+=Y*(5*Fe),Be+=ee*(5*C),Be+=Se*(5*Me),pe+=Be>>>13,Be&=8191,Ne=pe,Ne+=me*Me,Ne+=Ae*He,Ne+=ae*De,Ne+=H*(5*et),Ne+=G*(5*Ze),pe=Ne>>>13,Ne&=8191,Ne+=J*(5*Ke),Ne+=j*(5*ot),Ne+=Y*(5*nt),Ne+=ee*(5*Fe),Ne+=Se*(5*C),pe+=Ne>>>13,Ne&=8191,ke=pe,ke+=me*C,ke+=Ae*Me,ke+=ae*He,ke+=H*De,ke+=G*(5*et),pe=ke>>>13,ke&=8191,ke+=J*(5*Ze),ke+=j*(5*Ke),ke+=Y*(5*ot),ke+=ee*(5*nt),ke+=Se*(5*Fe),pe+=ke>>>13,ke&=8191,Ie=pe,Ie+=me*Fe,Ie+=Ae*C,Ie+=ae*Me,Ie+=H*He,Ie+=G*De,pe=Ie>>>13,Ie&=8191,Ie+=J*(5*et),Ie+=j*(5*Ze),Ie+=Y*(5*Ke),Ie+=ee*(5*ot),Ie+=Se*(5*nt),pe+=Ie>>>13,Ie&=8191,Re=pe,Re+=me*nt,Re+=Ae*Fe,Re+=ae*C,Re+=H*Me,Re+=G*He,pe=Re>>>13,Re&=8191,Re+=J*De,Re+=j*(5*et),Re+=Y*(5*Ze),Re+=ee*(5*Ke),Re+=Se*(5*ot),pe+=Re>>>13,Re&=8191,Pe=pe,Pe+=me*ot,Pe+=Ae*nt,Pe+=ae*Fe,Pe+=H*C,Pe+=G*Me,pe=Pe>>>13,Pe&=8191,Pe+=J*He,Pe+=j*De,Pe+=Y*(5*et),Pe+=ee*(5*Ze),Pe+=Se*(5*Ke),pe+=Pe>>>13,Pe&=8191,he=pe,he+=me*Ke,he+=Ae*ot,he+=ae*nt,he+=H*Fe,he+=G*C,pe=he>>>13,he&=8191,he+=J*Me,he+=j*He,he+=Y*De,he+=ee*(5*et),he+=Se*(5*Ze),pe+=he>>>13,he&=8191,we=pe,we+=me*Ze,we+=Ae*Ke,we+=ae*ot,we+=H*nt,we+=G*Fe,pe=we>>>13,we&=8191,we+=J*C,we+=j*Me,we+=Y*He,we+=ee*De,we+=Se*(5*et),pe+=we>>>13,we&=8191,fe=pe,fe+=me*et,fe+=Ae*Ze,fe+=ae*Ke,fe+=H*ot,fe+=G*nt,pe=fe>>>13,fe&=8191,fe+=J*Fe,fe+=j*C,fe+=Y*Me,fe+=ee*He,fe+=Se*De,pe+=fe>>>13,fe&=8191,pe=(pe<<2)+pe|0,pe=pe+Ce|0,Ce=pe&8191,pe=pe>>>13,Be+=pe,me=Ce,Ae=Be,ae=Ne,H=ke,G=Ie,J=Re,j=Pe,Y=he,ee=we,Se=fe,A+=16,g-=16;this.h[0]=me,this.h[1]=Ae,this.h[2]=ae,this.h[3]=H,this.h[4]=G,this.h[5]=J,this.h[6]=j,this.h[7]=Y,this.h[8]=ee,this.h[9]=Se},de.prototype.finish=function(d,A){var g=new Uint16Array(10),u,x,O,N;if(this.leftover){for(N=this.leftover,this.buffer[N++]=1;N<16;N++)this.buffer[N]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(u=this.h[1]>>>13,this.h[1]&=8191,N=2;N<10;N++)this.h[N]+=u,u=this.h[N]>>>13,this.h[N]&=8191;for(this.h[0]+=u*5,u=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=u,u=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=u,g[0]=this.h[0]+5,u=g[0]>>>13,g[0]&=8191,N=1;N<10;N++)g[N]=this.h[N]+u,u=g[N]>>>13,g[N]&=8191;for(g[9]-=8192,x=(u^1)-1,N=0;N<10;N++)g[N]&=x;for(x=~x,N=0;N<10;N++)this.h[N]=this.h[N]&x|g[N];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,O=this.h[0]+this.pad[0],this.h[0]=O&65535,N=1;N<8;N++)O=(this.h[N]+this.pad[N]|0)+(O>>>16)|0,this.h[N]=O&65535;d[A+0]=this.h[0]>>>0&255,d[A+1]=this.h[0]>>>8&255,d[A+2]=this.h[1]>>>0&255,d[A+3]=this.h[1]>>>8&255,d[A+4]=this.h[2]>>>0&255,d[A+5]=this.h[2]>>>8&255,d[A+6]=this.h[3]>>>0&255,d[A+7]=this.h[3]>>>8&255,d[A+8]=this.h[4]>>>0&255,d[A+9]=this.h[4]>>>8&255,d[A+10]=this.h[5]>>>0&255,d[A+11]=this.h[5]>>>8&255,d[A+12]=this.h[6]>>>0&255,d[A+13]=this.h[6]>>>8&255,d[A+14]=this.h[7]>>>0&255,d[A+15]=this.h[7]>>>8&255},de.prototype.update=function(d,A,g){var u,x;if(this.leftover){for(x=16-this.leftover,x>g&&(x=g),u=0;u<x;u++)this.buffer[this.leftover+u]=d[A+u];if(g-=x,A+=x,this.leftover+=x,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(g>=16&&(x=g-g%16,this.blocks(d,A,x),A+=x,g-=x),g){for(u=0;u<g;u++)this.buffer[this.leftover+u]=d[A+u];this.leftover+=g}};function B(d,A,g,u,x,O){var N=new de(O);return N.update(g,u,x),N.finish(d,A),0}function F(d,A,g,u,x,O){var N=new Uint8Array(16);return B(N,0,g,u,x,O),y(d,A,N,0)}function ie(d,A,g,u,x){var O;if(g<32)return-1;for(_e(d,0,A,0,g,u,x),B(d,16,d,32,g-32,d),O=0;O<16;O++)d[O]=0;return 0}function U(d,A,g,u,x){var O,N=new Uint8Array(32);if(g<32||(X(N,0,32,u,x),F(A,16,A,32,g-32,N)!==0))return-1;for(_e(d,0,A,0,g,u,x),O=0;O<32;O++)d[O]=0;return 0}function T(d,A){var g;for(g=0;g<16;g++)d[g]=A[g]|0}function E(d){var A,g,u=1;for(A=0;A<16;A++)g=d[A]+u+65535,u=Math.floor(g/65536),d[A]=g-u*65536;d[0]+=u-1+37*(u-1)}function k(d,A,g){for(var u,x=~(g-1),O=0;O<16;O++)u=x&(d[O]^A[O]),d[O]^=u,A[O]^=u}function L(d,A){var g,u,x,O=e(),N=e();for(g=0;g<16;g++)N[g]=A[g];for(E(N),E(N),E(N),u=0;u<2;u++){for(O[0]=N[0]-65517,g=1;g<15;g++)O[g]=N[g]-65535-(O[g-1]>>16&1),O[g-1]&=65535;O[15]=N[15]-32767-(O[14]>>16&1),x=O[15]>>16&1,O[14]&=65535,k(N,O,1-x)}for(g=0;g<16;g++)d[2*g]=N[g]&255,d[2*g+1]=N[g]>>8}function K(d,A){var g=new Uint8Array(32),u=new Uint8Array(32);return L(g,d),L(u,A),b(g,0,u,0)}function ne(d){var A=new Uint8Array(32);return L(A,d),A[0]&1}function ce(d,A){var g;for(g=0;g<16;g++)d[g]=A[2*g]+(A[2*g+1]<<8);d[15]&=32767}function oe(d,A,g){for(var u=0;u<16;u++)d[u]=A[u]+g[u]}function ye(d,A,g){for(var u=0;u<16;u++)d[u]=A[u]-g[u]}function ve(d,A,g){var u,x,O=0,N=0,Q=0,te=0,xe=0,ue=0,rt=0,pe=0,Ce=0,Be=0,Ne=0,ke=0,Ie=0,Re=0,Pe=0,he=0,we=0,fe=0,me=0,Ae=0,ae=0,H=0,G=0,J=0,j=0,Y=0,ee=0,Se=0,De=0,He=0,Me=0,C=g[0],Fe=g[1],nt=g[2],ot=g[3],Ke=g[4],Ze=g[5],et=g[6],Pt=g[7],ct=g[8],wt=g[9],vt=g[10],St=g[11],Dt=g[12],Jt=g[13],Xt=g[14],Zt=g[15];u=A[0],O+=u*C,N+=u*Fe,Q+=u*nt,te+=u*ot,xe+=u*Ke,ue+=u*Ze,rt+=u*et,pe+=u*Pt,Ce+=u*ct,Be+=u*wt,Ne+=u*vt,ke+=u*St,Ie+=u*Dt,Re+=u*Jt,Pe+=u*Xt,he+=u*Zt,u=A[1],N+=u*C,Q+=u*Fe,te+=u*nt,xe+=u*ot,ue+=u*Ke,rt+=u*Ze,pe+=u*et,Ce+=u*Pt,Be+=u*ct,Ne+=u*wt,ke+=u*vt,Ie+=u*St,Re+=u*Dt,Pe+=u*Jt,he+=u*Xt,we+=u*Zt,u=A[2],Q+=u*C,te+=u*Fe,xe+=u*nt,ue+=u*ot,rt+=u*Ke,pe+=u*Ze,Ce+=u*et,Be+=u*Pt,Ne+=u*ct,ke+=u*wt,Ie+=u*vt,Re+=u*St,Pe+=u*Dt,he+=u*Jt,we+=u*Xt,fe+=u*Zt,u=A[3],te+=u*C,xe+=u*Fe,ue+=u*nt,rt+=u*ot,pe+=u*Ke,Ce+=u*Ze,Be+=u*et,Ne+=u*Pt,ke+=u*ct,Ie+=u*wt,Re+=u*vt,Pe+=u*St,he+=u*Dt,we+=u*Jt,fe+=u*Xt,me+=u*Zt,u=A[4],xe+=u*C,ue+=u*Fe,rt+=u*nt,pe+=u*ot,Ce+=u*Ke,Be+=u*Ze,Ne+=u*et,ke+=u*Pt,Ie+=u*ct,Re+=u*wt,Pe+=u*vt,he+=u*St,we+=u*Dt,fe+=u*Jt,me+=u*Xt,Ae+=u*Zt,u=A[5],ue+=u*C,rt+=u*Fe,pe+=u*nt,Ce+=u*ot,Be+=u*Ke,Ne+=u*Ze,ke+=u*et,Ie+=u*Pt,Re+=u*ct,Pe+=u*wt,he+=u*vt,we+=u*St,fe+=u*Dt,me+=u*Jt,Ae+=u*Xt,ae+=u*Zt,u=A[6],rt+=u*C,pe+=u*Fe,Ce+=u*nt,Be+=u*ot,Ne+=u*Ke,ke+=u*Ze,Ie+=u*et,Re+=u*Pt,Pe+=u*ct,he+=u*wt,we+=u*vt,fe+=u*St,me+=u*Dt,Ae+=u*Jt,ae+=u*Xt,H+=u*Zt,u=A[7],pe+=u*C,Ce+=u*Fe,Be+=u*nt,Ne+=u*ot,ke+=u*Ke,Ie+=u*Ze,Re+=u*et,Pe+=u*Pt,he+=u*ct,we+=u*wt,fe+=u*vt,me+=u*St,Ae+=u*Dt,ae+=u*Jt,H+=u*Xt,G+=u*Zt,u=A[8],Ce+=u*C,Be+=u*Fe,Ne+=u*nt,ke+=u*ot,Ie+=u*Ke,Re+=u*Ze,Pe+=u*et,he+=u*Pt,we+=u*ct,fe+=u*wt,me+=u*vt,Ae+=u*St,ae+=u*Dt,H+=u*Jt,G+=u*Xt,J+=u*Zt,u=A[9],Be+=u*C,Ne+=u*Fe,ke+=u*nt,Ie+=u*ot,Re+=u*Ke,Pe+=u*Ze,he+=u*et,we+=u*Pt,fe+=u*ct,me+=u*wt,Ae+=u*vt,ae+=u*St,H+=u*Dt,G+=u*Jt,J+=u*Xt,j+=u*Zt,u=A[10],Ne+=u*C,ke+=u*Fe,Ie+=u*nt,Re+=u*ot,Pe+=u*Ke,he+=u*Ze,we+=u*et,fe+=u*Pt,me+=u*ct,Ae+=u*wt,ae+=u*vt,H+=u*St,G+=u*Dt,J+=u*Jt,j+=u*Xt,Y+=u*Zt,u=A[11],ke+=u*C,Ie+=u*Fe,Re+=u*nt,Pe+=u*ot,he+=u*Ke,we+=u*Ze,fe+=u*et,me+=u*Pt,Ae+=u*ct,ae+=u*wt,H+=u*vt,G+=u*St,J+=u*Dt,j+=u*Jt,Y+=u*Xt,ee+=u*Zt,u=A[12],Ie+=u*C,Re+=u*Fe,Pe+=u*nt,he+=u*ot,we+=u*Ke,fe+=u*Ze,me+=u*et,Ae+=u*Pt,ae+=u*ct,H+=u*wt,G+=u*vt,J+=u*St,j+=u*Dt,Y+=u*Jt,ee+=u*Xt,Se+=u*Zt,u=A[13],Re+=u*C,Pe+=u*Fe,he+=u*nt,we+=u*ot,fe+=u*Ke,me+=u*Ze,Ae+=u*et,ae+=u*Pt,H+=u*ct,G+=u*wt,J+=u*vt,j+=u*St,Y+=u*Dt,ee+=u*Jt,Se+=u*Xt,De+=u*Zt,u=A[14],Pe+=u*C,he+=u*Fe,we+=u*nt,fe+=u*ot,me+=u*Ke,Ae+=u*Ze,ae+=u*et,H+=u*Pt,G+=u*ct,J+=u*wt,j+=u*vt,Y+=u*St,ee+=u*Dt,Se+=u*Jt,De+=u*Xt,He+=u*Zt,u=A[15],he+=u*C,we+=u*Fe,fe+=u*nt,me+=u*ot,Ae+=u*Ke,ae+=u*Ze,H+=u*et,G+=u*Pt,J+=u*ct,j+=u*wt,Y+=u*vt,ee+=u*St,Se+=u*Dt,De+=u*Jt,He+=u*Xt,Me+=u*Zt,O+=38*we,N+=38*fe,Q+=38*me,te+=38*Ae,xe+=38*ae,ue+=38*H,rt+=38*G,pe+=38*J,Ce+=38*j,Be+=38*Y,Ne+=38*ee,ke+=38*Se,Ie+=38*De,Re+=38*He,Pe+=38*Me,x=1,u=O+x+65535,x=Math.floor(u/65536),O=u-x*65536,u=N+x+65535,x=Math.floor(u/65536),N=u-x*65536,u=Q+x+65535,x=Math.floor(u/65536),Q=u-x*65536,u=te+x+65535,x=Math.floor(u/65536),te=u-x*65536,u=xe+x+65535,x=Math.floor(u/65536),xe=u-x*65536,u=ue+x+65535,x=Math.floor(u/65536),ue=u-x*65536,u=rt+x+65535,x=Math.floor(u/65536),rt=u-x*65536,u=pe+x+65535,x=Math.floor(u/65536),pe=u-x*65536,u=Ce+x+65535,x=Math.floor(u/65536),Ce=u-x*65536,u=Be+x+65535,x=Math.floor(u/65536),Be=u-x*65536,u=Ne+x+65535,x=Math.floor(u/65536),Ne=u-x*65536,u=ke+x+65535,x=Math.floor(u/65536),ke=u-x*65536,u=Ie+x+65535,x=Math.floor(u/65536),Ie=u-x*65536,u=Re+x+65535,x=Math.floor(u/65536),Re=u-x*65536,u=Pe+x+65535,x=Math.floor(u/65536),Pe=u-x*65536,u=he+x+65535,x=Math.floor(u/65536),he=u-x*65536,O+=x-1+37*(x-1),x=1,u=O+x+65535,x=Math.floor(u/65536),O=u-x*65536,u=N+x+65535,x=Math.floor(u/65536),N=u-x*65536,u=Q+x+65535,x=Math.floor(u/65536),Q=u-x*65536,u=te+x+65535,x=Math.floor(u/65536),te=u-x*65536,u=xe+x+65535,x=Math.floor(u/65536),xe=u-x*65536,u=ue+x+65535,x=Math.floor(u/65536),ue=u-x*65536,u=rt+x+65535,x=Math.floor(u/65536),rt=u-x*65536,u=pe+x+65535,x=Math.floor(u/65536),pe=u-x*65536,u=Ce+x+65535,x=Math.floor(u/65536),Ce=u-x*65536,u=Be+x+65535,x=Math.floor(u/65536),Be=u-x*65536,u=Ne+x+65535,x=Math.floor(u/65536),Ne=u-x*65536,u=ke+x+65535,x=Math.floor(u/65536),ke=u-x*65536,u=Ie+x+65535,x=Math.floor(u/65536),Ie=u-x*65536,u=Re+x+65535,x=Math.floor(u/65536),Re=u-x*65536,u=Pe+x+65535,x=Math.floor(u/65536),Pe=u-x*65536,u=he+x+65535,x=Math.floor(u/65536),he=u-x*65536,O+=x-1+37*(x-1),d[0]=O,d[1]=N,d[2]=Q,d[3]=te,d[4]=xe,d[5]=ue,d[6]=rt,d[7]=pe,d[8]=Ce,d[9]=Be,d[10]=Ne,d[11]=ke,d[12]=Ie,d[13]=Re,d[14]=Pe,d[15]=he}function pt(d,A){ve(d,A,A)}function gr(d,A){var g=e(),u;for(u=0;u<16;u++)g[u]=A[u];for(u=253;u>=0;u--)pt(g,g),u!==2&&u!==4&&ve(g,g,A);for(u=0;u<16;u++)d[u]=g[u]}function Rt(d,A){var g=e(),u;for(u=0;u<16;u++)g[u]=A[u];for(u=250;u>=0;u--)pt(g,g),u!==1&&ve(g,g,A);for(u=0;u<16;u++)d[u]=g[u]}function Fr(d,A,g){var u=new Uint8Array(32),x=new Float64Array(80),O,N,Q=e(),te=e(),xe=e(),ue=e(),rt=e(),pe=e();for(N=0;N<31;N++)u[N]=A[N];for(u[31]=A[31]&127|64,u[0]&=248,ce(x,g),N=0;N<16;N++)te[N]=x[N],ue[N]=Q[N]=xe[N]=0;for(Q[0]=ue[0]=1,N=254;N>=0;--N)O=u[N>>>3]>>>(N&7)&1,k(Q,te,O),k(xe,ue,O),oe(rt,Q,xe),ye(Q,Q,xe),oe(xe,te,ue),ye(te,te,ue),pt(ue,rt),pt(pe,Q),ve(Q,xe,Q),ve(xe,te,rt),oe(rt,Q,xe),ye(Q,Q,xe),pt(te,Q),ye(xe,ue,pe),ve(Q,xe,a),oe(Q,Q,ue),ve(xe,xe,Q),ve(Q,ue,pe),ve(ue,te,x),pt(te,rt),k(Q,te,O),k(xe,ue,O);for(N=0;N<16;N++)x[N+16]=Q[N],x[N+32]=xe[N],x[N+48]=te[N],x[N+64]=ue[N];var Ce=x.subarray(32),Be=x.subarray(16);return gr(Ce,Ce),ve(Be,Be,Ce),L(d,Be),0}function Ot(d,A){return Fr(d,A,o)}function Yt(d,A){return t(A,32),Ot(d,A)}function Mn(d,A,g){var u=new Uint8Array(32);return Fr(u,g,A),$(d,n,u,W)}var mt=ie,or=U;function hn(d,A,g,u,x,O){var N=new Uint8Array(32);return Mn(N,x,O),mt(d,A,g,u,N)}function Oi(d,A,g,u,x,O){var N=new Uint8Array(32);return Mn(N,x,O),or(d,A,g,u,N)}var Ho=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Km(d,A,g,u){for(var x=new Int32Array(16),O=new Int32Array(16),N,Q,te,xe,ue,rt,pe,Ce,Be,Ne,ke,Ie,Re,Pe,he,we,fe,me,Ae,ae,H,G,J,j,Y,ee,Se=d[0],De=d[1],He=d[2],Me=d[3],C=d[4],Fe=d[5],nt=d[6],ot=d[7],Ke=A[0],Ze=A[1],et=A[2],Pt=A[3],ct=A[4],wt=A[5],vt=A[6],St=A[7],Dt=0;u>=128;){for(Ae=0;Ae<16;Ae++)ae=8*Ae+Dt,x[Ae]=g[ae+0]<<24|g[ae+1]<<16|g[ae+2]<<8|g[ae+3],O[Ae]=g[ae+4]<<24|g[ae+5]<<16|g[ae+6]<<8|g[ae+7];for(Ae=0;Ae<80;Ae++)if(N=Se,Q=De,te=He,xe=Me,ue=C,rt=Fe,pe=nt,Ce=ot,Be=Ke,Ne=Ze,ke=et,Ie=Pt,Re=ct,Pe=wt,he=vt,we=St,H=ot,G=St,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=(C>>>14|ct<<18)^(C>>>18|ct<<14)^(ct>>>9|C<<23),G=(ct>>>14|C<<18)^(ct>>>18|C<<14)^(C>>>9|ct<<23),J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,H=C&Fe^~C&nt,G=ct&wt^~ct&vt,J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,H=Ho[Ae*2],G=Ho[Ae*2+1],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,H=x[Ae%16],G=O[Ae%16],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,fe=Y&65535|ee<<16,me=J&65535|j<<16,H=fe,G=me,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=(Se>>>28|Ke<<4)^(Ke>>>2|Se<<30)^(Ke>>>7|Se<<25),G=(Ke>>>28|Se<<4)^(Se>>>2|Ke<<30)^(Se>>>7|Ke<<25),J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,H=Se&De^Se&He^De&He,G=Ke&Ze^Ke&et^Ze&et,J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,Ce=Y&65535|ee<<16,we=J&65535|j<<16,H=xe,G=Ie,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=fe,G=me,J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,xe=Y&65535|ee<<16,Ie=J&65535|j<<16,De=N,He=Q,Me=te,C=xe,Fe=ue,nt=rt,ot=pe,Se=Ce,Ze=Be,et=Ne,Pt=ke,ct=Ie,wt=Re,vt=Pe,St=he,Ke=we,Ae%16===15)for(ae=0;ae<16;ae++)H=x[ae],G=O[ae],J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=x[(ae+9)%16],G=O[(ae+9)%16],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,fe=x[(ae+1)%16],me=O[(ae+1)%16],H=(fe>>>1|me<<31)^(fe>>>8|me<<24)^fe>>>7,G=(me>>>1|fe<<31)^(me>>>8|fe<<24)^(me>>>7|fe<<25),J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,fe=x[(ae+14)%16],me=O[(ae+14)%16],H=(fe>>>19|me<<13)^(me>>>29|fe<<3)^fe>>>6,G=(me>>>19|fe<<13)^(fe>>>29|me<<3)^(me>>>6|fe<<26),J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,x[ae]=Y&65535|ee<<16,O[ae]=J&65535|j<<16;H=Se,G=Ke,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[0],G=A[0],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[0]=Se=Y&65535|ee<<16,A[0]=Ke=J&65535|j<<16,H=De,G=Ze,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[1],G=A[1],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[1]=De=Y&65535|ee<<16,A[1]=Ze=J&65535|j<<16,H=He,G=et,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[2],G=A[2],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[2]=He=Y&65535|ee<<16,A[2]=et=J&65535|j<<16,H=Me,G=Pt,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[3],G=A[3],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[3]=Me=Y&65535|ee<<16,A[3]=Pt=J&65535|j<<16,H=C,G=ct,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[4],G=A[4],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[4]=C=Y&65535|ee<<16,A[4]=ct=J&65535|j<<16,H=Fe,G=wt,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[5],G=A[5],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[5]=Fe=Y&65535|ee<<16,A[5]=wt=J&65535|j<<16,H=nt,G=vt,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[6],G=A[6],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[6]=nt=Y&65535|ee<<16,A[6]=vt=J&65535|j<<16,H=ot,G=St,J=G&65535,j=G>>>16,Y=H&65535,ee=H>>>16,H=d[7],G=A[7],J+=G&65535,j+=G>>>16,Y+=H&65535,ee+=H>>>16,j+=J>>>16,Y+=j>>>16,ee+=Y>>>16,d[7]=ot=Y&65535|ee<<16,A[7]=St=J&65535|j<<16,Dt+=128,u-=128}return u}function ki(d,A,g){var u=new Int32Array(8),x=new Int32Array(8),O=new Uint8Array(256),N,Q=g;for(u[0]=1779033703,u[1]=3144134277,u[2]=1013904242,u[3]=2773480762,u[4]=1359893119,u[5]=2600822924,u[6]=528734635,u[7]=1541459225,x[0]=4089235720,x[1]=2227873595,x[2]=4271175723,x[3]=1595750129,x[4]=2917565137,x[5]=725511199,x[6]=4215389547,x[7]=327033209,Km(u,x,A,g),g%=128,N=0;N<g;N++)O[N]=A[Q-g+N];for(O[g]=128,g=256-128*(g<112?1:0),O[g-9]=0,h(O,g-8,Q/536870912|0,Q<<3),Km(u,x,O,g),N=0;N<8;N++)h(d,8*N,u[N],x[N]);return 0}function ef(d,A){var g=e(),u=e(),x=e(),O=e(),N=e(),Q=e(),te=e(),xe=e(),ue=e();ye(g,d[1],d[0]),ye(ue,A[1],A[0]),ve(g,g,ue),oe(u,d[0],d[1]),oe(ue,A[0],A[1]),ve(u,u,ue),ve(x,d[3],A[3]),ve(x,x,f),ve(O,d[2],A[2]),oe(O,O,O),ye(N,u,g),ye(Q,O,x),oe(te,O,x),oe(xe,u,g),ve(d[0],N,Q),ve(d[1],xe,te),ve(d[2],te,Q),ve(d[3],N,xe)}function Fm(d,A,g){var u;for(u=0;u<4;u++)k(d[u],A[u],g)}function Jd(d,A){var g=e(),u=e(),x=e();gr(x,A[2]),ve(g,A[0],x),ve(u,A[1],x),L(d,u),d[31]^=ne(g)<<7}function Xd(d,A,g){var u,x;for(T(d[0],i),T(d[1],s),T(d[2],s),T(d[3],i),x=255;x>=0;--x)u=g[x/8|0]>>(x&7)&1,Fm(d,A,u),ef(A,d),ef(d,d),Fm(d,A,u)}function tf(d,A){var g=[e(),e(),e(),e()];T(g[0],p),T(g[1],l),T(g[2],s),ve(g[3],p,l),Xd(d,g,A)}function Zd(d,A,g){var u=new Uint8Array(64),x=[e(),e(),e(),e()],O;for(g||t(A,32),ki(u,A,32),u[0]&=248,u[31]&=127,u[31]|=64,tf(x,u),Jd(d,x),O=0;O<32;O++)A[O+32]=d[O];return 0}var rf=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ep(d,A){var g,u,x,O;for(u=63;u>=32;--u){for(g=0,x=u-32,O=u-12;x<O;++x)A[x]+=g-16*A[u]*rf[x-(u-32)],g=Math.floor((A[x]+128)/256),A[x]-=g*256;A[x]+=g,A[u]=0}for(g=0,x=0;x<32;x++)A[x]+=g-(A[31]>>4)*rf[x],g=A[x]>>8,A[x]&=255;for(x=0;x<32;x++)A[x]-=g*rf[x];for(u=0;u<32;u++)A[u+1]+=A[u]>>8,d[u]=A[u]&255}function tp(d){var A=new Float64Array(64),g;for(g=0;g<64;g++)A[g]=d[g];for(g=0;g<64;g++)d[g]=0;ep(d,A)}function Vm(d,A,g,u){var x=new Uint8Array(64),O=new Uint8Array(64),N=new Uint8Array(64),Q,te,xe=new Float64Array(64),ue=[e(),e(),e(),e()];ki(x,u,32),x[0]&=248,x[31]&=127,x[31]|=64;var rt=g+64;for(Q=0;Q<g;Q++)d[64+Q]=A[Q];for(Q=0;Q<32;Q++)d[32+Q]=x[32+Q];for(ki(N,d.subarray(32),g+32),tp(N),tf(ue,N),Jd(d,ue),Q=32;Q<64;Q++)d[Q]=u[Q];for(ki(O,d,g+64),tp(O),Q=0;Q<64;Q++)xe[Q]=0;for(Q=0;Q<32;Q++)xe[Q]=N[Q];for(Q=0;Q<32;Q++)for(te=0;te<32;te++)xe[Q+te]+=O[Q]*x[te];return ep(d.subarray(32),xe),rt}function g1(d,A){var g=e(),u=e(),x=e(),O=e(),N=e(),Q=e(),te=e();return T(d[2],s),ce(d[1],A),pt(x,d[1]),ve(O,x,c),ye(x,x,d[2]),oe(O,d[2],O),pt(N,O),pt(Q,N),ve(te,Q,N),ve(g,te,x),ve(g,g,O),Rt(g,g),ve(g,g,x),ve(g,g,O),ve(g,g,O),ve(d[0],g,O),pt(u,d[0]),ve(u,u,O),K(u,x)&&ve(d[0],d[0],w),pt(u,d[0]),ve(u,u,O),K(u,x)?-1:(ne(d[0])===A[31]>>7&&ye(d[0],i,d[0]),ve(d[3],d[0],d[1]),0)}function rp(d,A,g,u){var x,O=new Uint8Array(32),N=new Uint8Array(64),Q=[e(),e(),e(),e()],te=[e(),e(),e(),e()];if(g<64||g1(te,u))return-1;for(x=0;x<g;x++)d[x]=A[x];for(x=0;x<32;x++)d[x+32]=u[x];if(ki(N,d,g),tp(N),Xd(Q,te,N),tf(te,A.subarray(32)),ef(Q,te),Jd(O,Q),g-=64,b(A,0,O,0)){for(x=0;x<g;x++)d[x]=0;return-1}for(x=0;x<g;x++)d[x]=A[x+64];return g}var np=32,nf=24,uc=32,na=16,fc=32,of=32,lc=32,dc=32,op=32,qm=nf,A1=uc,x1=na,ao=64,Ni=32,oa=64,ip=32,sp=64;r.lowlevel={crypto_core_hsalsa20:$,crypto_stream_xor:_e,crypto_stream:X,crypto_stream_salsa20_xor:V,crypto_stream_salsa20:Z,crypto_onetimeauth:B,crypto_onetimeauth_verify:F,crypto_verify_16:y,crypto_verify_32:b,crypto_secretbox:ie,crypto_secretbox_open:U,crypto_scalarmult:Fr,crypto_scalarmult_base:Ot,crypto_box_beforenm:Mn,crypto_box_afternm:mt,crypto_box:hn,crypto_box_open:Oi,crypto_box_keypair:Yt,crypto_hash:ki,crypto_sign:Vm,crypto_sign_keypair:Zd,crypto_sign_open:rp,crypto_secretbox_KEYBYTES:np,crypto_secretbox_NONCEBYTES:nf,crypto_secretbox_ZEROBYTES:uc,crypto_secretbox_BOXZEROBYTES:na,crypto_scalarmult_BYTES:fc,crypto_scalarmult_SCALARBYTES:of,crypto_box_PUBLICKEYBYTES:lc,crypto_box_SECRETKEYBYTES:dc,crypto_box_BEFORENMBYTES:op,crypto_box_NONCEBYTES:qm,crypto_box_ZEROBYTES:A1,crypto_box_BOXZEROBYTES:x1,crypto_sign_BYTES:ao,crypto_sign_PUBLICKEYBYTES:Ni,crypto_sign_SECRETKEYBYTES:oa,crypto_sign_SEEDBYTES:ip,crypto_hash_BYTES:sp,gf:e,D:c,L:rf,pack25519:L,unpack25519:ce,M:ve,A:oe,S:pt,Z:ye,pow2523:Rt,add:ef,set25519:T,modL:ep,scalarmult:Xd,scalarbase:tf};function $m(d,A){if(d.length!==np)throw new Error("bad key size");if(A.length!==nf)throw new Error("bad nonce size")}function b1(d,A){if(d.length!==lc)throw new Error("bad public key size");if(A.length!==dc)throw new Error("bad secret key size")}function Br(){for(var d=0;d<arguments.length;d++)if(!(arguments[d]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function jm(d){for(var A=0;A<d.length;A++)d[A]=0}r.randomBytes=function(d){var A=new Uint8Array(d);return t(A,d),A},r.secretbox=function(d,A,g){Br(d,A,g),$m(g,A);for(var u=new Uint8Array(uc+d.length),x=new Uint8Array(u.length),O=0;O<d.length;O++)u[O+uc]=d[O];return ie(x,u,u.length,A,g),x.subarray(na)},r.secretbox.open=function(d,A,g){Br(d,A,g),$m(g,A);for(var u=new Uint8Array(na+d.length),x=new Uint8Array(u.length),O=0;O<d.length;O++)u[O+na]=d[O];return u.length<32||U(x,u,u.length,A,g)!==0?null:x.subarray(uc)},r.secretbox.keyLength=np,r.secretbox.nonceLength=nf,r.secretbox.overheadLength=na,r.scalarMult=function(d,A){if(Br(d,A),d.length!==of)throw new Error("bad n size");if(A.length!==fc)throw new Error("bad p size");var g=new Uint8Array(fc);return Fr(g,d,A),g},r.scalarMult.base=function(d){if(Br(d),d.length!==of)throw new Error("bad n size");var A=new Uint8Array(fc);return Ot(A,d),A},r.scalarMult.scalarLength=of,r.scalarMult.groupElementLength=fc,r.box=function(d,A,g,u){var x=r.box.before(g,u);return r.secretbox(d,A,x)},r.box.before=function(d,A){Br(d,A),b1(d,A);var g=new Uint8Array(op);return Mn(g,d,A),g},r.box.after=r.secretbox,r.box.open=function(d,A,g,u){var x=r.box.before(g,u);return r.secretbox.open(d,A,x)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var d=new Uint8Array(lc),A=new Uint8Array(dc);return Yt(d,A),{publicKey:d,secretKey:A}},r.box.keyPair.fromSecretKey=function(d){if(Br(d),d.length!==dc)throw new Error("bad secret key size");var A=new Uint8Array(lc);return Ot(A,d),{publicKey:A,secretKey:new Uint8Array(d)}},r.box.publicKeyLength=lc,r.box.secretKeyLength=dc,r.box.sharedKeyLength=op,r.box.nonceLength=qm,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(d,A){if(Br(d,A),A.length!==oa)throw new Error("bad secret key size");var g=new Uint8Array(ao+d.length);return Vm(g,d,d.length,A),g},r.sign.open=function(d,A){if(Br(d,A),A.length!==Ni)throw new Error("bad public key size");var g=new Uint8Array(d.length),u=rp(g,d,d.length,A);if(u<0)return null;for(var x=new Uint8Array(u),O=0;O<x.length;O++)x[O]=g[O];return x},r.sign.detached=function(d,A){for(var g=r.sign(d,A),u=new Uint8Array(ao),x=0;x<u.length;x++)u[x]=g[x];return u},r.sign.detached.verify=function(d,A,g){if(Br(d,A,g),A.length!==ao)throw new Error("bad signature size");if(g.length!==Ni)throw new Error("bad public key size");var u=new Uint8Array(ao+d.length),x=new Uint8Array(ao+d.length),O;for(O=0;O<ao;O++)u[O]=A[O];for(O=0;O<d.length;O++)u[O+ao]=d[O];return rp(x,u,u.length,g)>=0},r.sign.keyPair=function(){var d=new Uint8Array(Ni),A=new Uint8Array(oa);return Zd(d,A),{publicKey:d,secretKey:A}},r.sign.keyPair.fromSecretKey=function(d){if(Br(d),d.length!==oa)throw new Error("bad secret key size");for(var A=new Uint8Array(Ni),g=0;g<A.length;g++)A[g]=d[32+g];return{publicKey:A,secretKey:new Uint8Array(d)}},r.sign.keyPair.fromSeed=function(d){if(Br(d),d.length!==ip)throw new Error("bad seed size");for(var A=new Uint8Array(Ni),g=new Uint8Array(oa),u=0;u<32;u++)g[u]=d[u];return Zd(A,g,!0),{publicKey:A,secretKey:g}},r.sign.publicKeyLength=Ni,r.sign.secretKeyLength=oa,r.sign.seedLength=ip,r.sign.signatureLength=ao,r.hash=function(d){Br(d);var A=new Uint8Array(sp);return ki(A,d,d.length),A},r.hash.hashLength=sp,r.verify=function(d,A){return Br(d,A),d.length===0||A.length===0||d.length!==A.length?!1:m(d,0,A,0,d.length)===0},r.setPRNG=function(d){t=d},function(){var d=typeof self<"u"?self.crypto||self.msCrypto:null;if(d&&d.getRandomValues){var A=65536;r.setPRNG(function(g,u){var x,O=new Uint8Array(u);for(x=0;x<u;x+=A)d.getRandomValues(O.subarray(x,x+Math.min(u-x,A)));for(x=0;x<u;x++)g[x]=O[x];jm(O)})}else typeof ap<"u"&&(d=Ag(),d&&d.randomBytes&&r.setPRNG(function(g,u){var x,O=d.randomBytes(u);for(x=0;x<u;x++)g[x]=O[x];jm(O)}))}()})(typeof Sf<"u"&&Sf.exports?Sf.exports:self.nacl=self.nacl||{})});var fx=ia((pi,ux)=>{"use strict";var Rl=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,Ol=function(){function r(){this.fetch=!1,this.DOMException=Rl.DOMException}return r.prototype=Rl,new r}();(function(r){var e=function(t){var n=typeof r<"u"&&r||typeof self<"u"&&self||typeof n<"u"&&n,o={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function i(B){return B&&DataView.prototype.isPrototypeOf(B)}if(o.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(B){return B&&s.indexOf(Object.prototype.toString.call(B))>-1};function c(B){if(typeof B!="string"&&(B=String(B)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(B)||B==="")throw new TypeError('Invalid character in header field name: "'+B+'"');return B.toLowerCase()}function f(B){return typeof B!="string"&&(B=String(B)),B}function p(B){var F={next:function(){var ie=B.shift();return{done:ie===void 0,value:ie}}};return o.iterable&&(F[Symbol.iterator]=function(){return F}),F}function l(B){this.map={},B instanceof l?B.forEach(function(F,ie){this.append(ie,F)},this):Array.isArray(B)?B.forEach(function(F){this.append(F[0],F[1])},this):B&&Object.getOwnPropertyNames(B).forEach(function(F){this.append(F,B[F])},this)}l.prototype.append=function(B,F){B=c(B),F=f(F);var ie=this.map[B];this.map[B]=ie?ie+", "+F:F},l.prototype.delete=function(B){delete this.map[c(B)]},l.prototype.get=function(B){return B=c(B),this.has(B)?this.map[B]:null},l.prototype.has=function(B){return this.map.hasOwnProperty(c(B))},l.prototype.set=function(B,F){this.map[c(B)]=f(F)},l.prototype.forEach=function(B,F){for(var ie in this.map)this.map.hasOwnProperty(ie)&&B.call(F,this.map[ie],ie,this)},l.prototype.keys=function(){var B=[];return this.forEach(function(F,ie){B.push(ie)}),p(B)},l.prototype.values=function(){var B=[];return this.forEach(function(F){B.push(F)}),p(B)},l.prototype.entries=function(){var B=[];return this.forEach(function(F,ie){B.push([ie,F])}),p(B)},o.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function w(B){if(B.bodyUsed)return Promise.reject(new TypeError("Already read"));B.bodyUsed=!0}function h(B){return new Promise(function(F,ie){B.onload=function(){F(B.result)},B.onerror=function(){ie(B.error)}})}function m(B){var F=new FileReader,ie=h(F);return F.readAsArrayBuffer(B),ie}function y(B){var F=new FileReader,ie=h(F);return F.readAsText(B),ie}function b(B){for(var F=new Uint8Array(B),ie=new Array(F.length),U=0;U<F.length;U++)ie[U]=String.fromCharCode(F[U]);return ie.join("")}function S(B){if(B.slice)return B.slice(0);var F=new Uint8Array(B.byteLength);return F.set(new Uint8Array(B)),F.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(B){this.bodyUsed=this.bodyUsed,this._bodyInit=B,B?typeof B=="string"?this._bodyText=B:o.blob&&Blob.prototype.isPrototypeOf(B)?this._bodyBlob=B:o.formData&&FormData.prototype.isPrototypeOf(B)?this._bodyFormData=B:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)?this._bodyText=B.toString():o.arrayBuffer&&o.blob&&i(B)?(this._bodyArrayBuffer=S(B.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(B)||a(B))?this._bodyArrayBuffer=S(B):this._bodyText=B=Object.prototype.toString.call(B):this._bodyText="",this.headers.get("content-type")||(typeof B=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(B)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var B=w(this);if(B)return B;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var B=w(this);return B||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(m)}),this.text=function(){var B=w(this);if(B)return B;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function $(B){var F=B.toUpperCase();return D.indexOf(F)>-1?F:B}function W(B,F){if(!(this instanceof W))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F=F||{};var ie=F.body;if(B instanceof W){if(B.bodyUsed)throw new TypeError("Already read");this.url=B.url,this.credentials=B.credentials,F.headers||(this.headers=new l(B.headers)),this.method=B.method,this.mode=B.mode,this.signal=B.signal,!ie&&B._bodyInit!=null&&(ie=B._bodyInit,B.bodyUsed=!0)}else this.url=String(B);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new l(F.headers)),this.method=$(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ie)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ie),(this.method==="GET"||this.method==="HEAD")&&(F.cache==="no-store"||F.cache==="no-cache")){var U=/([?&])_=[^&]*/;if(U.test(this.url))this.url=this.url.replace(U,"$1_="+new Date().getTime());else{var T=/\?/;this.url+=(T.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function V(B){var F=new FormData;return B.trim().split("&").forEach(function(ie){if(ie){var U=ie.split("="),T=U.shift().replace(/\+/g," "),E=U.join("=").replace(/\+/g," ");F.append(decodeURIComponent(T),decodeURIComponent(E))}}),F}function Z(B){var F=new l,ie=B.replace(/\r?\n[\t ]+/g," ");return ie.split("\r").map(function(U){return U.indexOf(`
`)===0?U.substr(1,U.length):U}).forEach(function(U){var T=U.split(":"),E=T.shift().trim();if(E){var k=T.join(":").trim();F.append(E,k)}}),F}P.call(W.prototype);function X(B,F){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.ok=this.status>=200&&this.status<300,this.statusText=F.statusText===void 0?"":""+F.statusText,this.headers=new l(F.headers),this.url=F.url||"",this._initBody(B)}P.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},X.error=function(){var B=new X(null,{status:0,statusText:""});return B.type="error",B};var _e=[301,302,303,307,308];X.redirect=function(B,F){if(_e.indexOf(F)===-1)throw new RangeError("Invalid status code");return new X(null,{status:F,headers:{location:B}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(F,ie){this.message=F,this.name=ie;var U=Error(F);this.stack=U.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function de(B,F){return new Promise(function(ie,U){var T=new W(B,F);if(T.signal&&T.signal.aborted)return U(new t.DOMException("Aborted","AbortError"));var E=new XMLHttpRequest;function k(){E.abort()}E.onload=function(){var K={status:E.status,statusText:E.statusText,headers:Z(E.getAllResponseHeaders()||"")};K.url="responseURL"in E?E.responseURL:K.headers.get("X-Request-URL");var ne="response"in E?E.response:E.responseText;setTimeout(function(){ie(new X(ne,K))},0)},E.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},E.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},E.onabort=function(){setTimeout(function(){U(new t.DOMException("Aborted","AbortError"))},0)};function L(K){try{return K===""&&n.location.href?n.location.href:K}catch{return K}}E.open(T.method,L(T.url),!0),T.credentials==="include"?E.withCredentials=!0:T.credentials==="omit"&&(E.withCredentials=!1),"responseType"in E&&(o.blob?E.responseType="blob":o.arrayBuffer&&T.headers.get("Content-Type")&&T.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(E.responseType="arraybuffer")),F&&typeof F.headers=="object"&&!(F.headers instanceof l)?Object.getOwnPropertyNames(F.headers).forEach(function(K){E.setRequestHeader(K,f(F.headers[K]))}):T.headers.forEach(function(K,ne){E.setRequestHeader(ne,K)}),T.signal&&(T.signal.addEventListener("abort",k),E.onreadystatechange=function(){E.readyState===4&&T.signal.removeEventListener("abort",k)}),E.send(typeof T._bodyInit>"u"?null:T._bodyInit)})}return de.polyfill=!0,n.fetch||(n.fetch=de,n.Headers=l,n.Request=W,n.Response=X),t.Headers=l,t.Request=W,t.Response=X,t.fetch=de,t}({})})(Ol);Ol.fetch.ponyfill=!0;delete Ol.fetch.polyfill;var Ea=Rl.fetch?Rl:Ol;pi=Ea.fetch;pi.default=Ea.fetch;pi.fetch=Ea.fetch;pi.Headers=Ea.Headers;pi.Request=Ea.Request;pi.Response=Ea.Response;ux.exports=pi});var hi=ia(_a=>{"use strict";var kT="[object ArrayBuffer]",Bo=class r{static isArrayBuffer(e){return Object.prototype.toString.call(e)===kT}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let n=r.toUint8Array(e),o=r.toUint8Array(t);if(n.length!==o.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==o[i])return!1;return!0}static concat(...e){let t;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?t=e[0]:e[e.length-1]instanceof Function?t=e.slice(0,e.length-1):t=e;let n=0;for(let s of t)n+=s.byteLength;let o=new Uint8Array(n),i=0;for(let s of t){let a=this.toUint8Array(s);o.set(a,i),i+=a.length}return e[e.length-1]instanceof Function?this.toView(o,e[e.length-1]):o.buffer}},gy="string",NT=/^[0-9a-f]+$/i,DT=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,MT=/^[a-zA-Z0-9-_]+$/,kl=class{static fromString(e){let t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n.buffer}static toString(e){let t=Bo.toUint8Array(e),n="";for(let i=0;i<t.length;i++)n+=String.fromCharCode(t[i]);return decodeURIComponent(escape(n))}},tn=class{static toString(e,t=!1){let n=Bo.toArrayBuffer(e),o=new DataView(n),i="";for(let s=0;s<n.byteLength;s+=2){let a=o.getUint16(s,t);i+=String.fromCharCode(a)}return i}static fromString(e,t=!1){let n=new ArrayBuffer(e.length*2),o=new DataView(n);for(let i=0;i<e.length;i++)o.setUint16(i*2,e.charCodeAt(i),t);return n}},Nl=class r{static isHex(e){return typeof e===gy&&NT.test(e)}static isBase64(e){return typeof e===gy&&DT.test(e)}static isBase64Url(e){return typeof e===gy&&MT.test(e)}static ToString(e,t="utf8"){let n=Bo.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return tn.toString(n,!0);case"utf16":case"utf16be":return tn.toString(n);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return tn.fromString(e,!0);case"utf16":case"utf16be":return tn.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=Bo.toUint8Array(e);if(typeof btoa<"u"){let n=this.ToString(t,"binary");return btoa(n)}else return Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!r.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!r.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=r.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return kl.fromString(e);case"utf16":case"utf16be":return tn.fromString(e);case"utf16le":case"usc2":return tn.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=r.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return kl.toString(e);case"utf16":case"utf16be":return tn.toString(e);case"utf16le":case"usc2":return tn.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,n=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);return n.buffer}static ToBinary(e){let t=Bo.toUint8Array(e),n="";for(let o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);return n}static ToHex(e){let t=Bo.toUint8Array(e),n="",o=t.length;for(let i=0;i<o;i++){let s=t[i];s<16&&(n+="0"),n+=s.toString(16)}return n}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!r.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let n=new Uint8Array(t.length/2);for(let o=0;o<t.length;o=o+2){let i=t.slice(o,o+2);n[o/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(e,t=!1){return tn.toString(e,t)}static FromUtf16String(e,t=!1){return tn.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let n=0;n<t;n++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}};Nl.DEFAULT_UTF8_ENCODING="utf8";function LT(r,...e){let t=arguments[0];for(let n=1;n<arguments.length;n++){let o=arguments[n];for(let i in o)t[i]=o[i]}return t}function HT(...r){let e=r.map(o=>o.byteLength).reduce((o,i)=>o+i),t=new Uint8Array(e),n=0;return r.map(o=>new Uint8Array(o)).forEach(o=>{for(let i of o)t[n++]=i}),t.buffer}function GT(r,e){if(!(r&&e)||r.byteLength!==e.byteLength)return!1;let t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<r.byteLength;o++)if(t[o]!==n[o])return!1;return!0}_a.BufferSourceConverter=Bo;_a.Convert=Nl;_a.assign=LT;_a.combine=HT;_a.isEqual=GT});var eb=ia((Zx,ed)=>{"use strict";(function(r){"use strict";let e="(0?\\d+|0x[a-f0-9]+)",t={fourOctet:new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`,"i"),threeOctet:new RegExp(`^${e}\\.${e}\\.${e}$`,"i"),twoOctet:new RegExp(`^${e}\\.${e}$`,"i"),longValue:new RegExp(`^${e}$`,"i")},n=new RegExp("^0[0-7]+$","i"),o=new RegExp("^0x[a-f0-9]+$","i"),i="%[0-9a-z]{1,}",s="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(i,"i"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${i})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${e}\\.${e}\\.${e}\\.${e}(${i})?)$`,"i"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${e}\\.${e}\\.${e}\\.${e}(${i})?$`,"i")};function c(h,m){if(h.indexOf("::")!==h.lastIndexOf("::"))return null;let y=0,b=-1,S=(h.match(a.zoneIndex)||[])[0],P,D;for(S&&(S=S.substring(1),h=h.replace(/%.+$/,""));(b=h.indexOf(":",b+1))>=0;)y++;if(h.substr(0,2)==="::"&&y--,h.substr(-2,2)==="::"&&y--,y>m)return null;for(D=m-y,P=":";D--;)P+="0:";return h=h.replace("::",P),h[0]===":"&&(h=h.slice(1)),h[h.length-1]===":"&&(h=h.slice(0,-1)),m=function(){let $=h.split(":"),W=[];for(let V=0;V<$.length;V++)W.push(parseInt($[V],16));return W}(),{parts:m,zoneId:S}}function f(h,m,y,b){if(h.length!==m.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let S=0,P;for(;b>0;){if(P=y-b,P<0&&(P=0),h[S]>>P!==m[S]>>P)return!1;b-=y,S+=1}return!0}function p(h){if(o.test(h))return parseInt(h,16);if(h[0]==="0"&&!isNaN(parseInt(h[1],10))){if(n.test(h))return parseInt(h,8);throw new Error(`ipaddr: cannot parse ${h} as octal`)}return parseInt(h,10)}function l(h,m){for(;h.length<m;)h=`0${h}`;return h}let w={};w.IPv4=function(){function h(m){if(m.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let y,b;for(y=0;y<m.length;y++)if(b=m[y],!(0<=b&&b<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=m}return h.prototype.SpecialRanges={unspecified:[[new h([0,0,0,0]),8]],broadcast:[[new h([255,255,255,255]),32]],multicast:[[new h([224,0,0,0]),4]],linkLocal:[[new h([169,254,0,0]),16]],loopback:[[new h([127,0,0,0]),8]],carrierGradeNat:[[new h([100,64,0,0]),10]],private:[[new h([10,0,0,0]),8],[new h([172,16,0,0]),12],[new h([192,168,0,0]),16]],reserved:[[new h([192,0,0,0]),24],[new h([192,0,2,0]),24],[new h([192,88,99,0]),24],[new h([198,18,0,0]),15],[new h([198,51,100,0]),24],[new h([203,0,113,0]),24],[new h([240,0,0,0]),4]]},h.prototype.kind=function(){return"ipv4"},h.prototype.match=function(m,y){let b;if(y===void 0&&(b=m,m=b[0],y=b[1]),m.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return f(this.octets,m.octets,8,y)},h.prototype.prefixLengthFromSubnetMask=function(){let m=0,y=!1,b={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},S,P,D;for(S=3;S>=0;S-=1)if(P=this.octets[S],P in b){if(D=b[P],y&&D!==0)return null;D!==8&&(y=!0),m+=D}else return null;return 32-m},h.prototype.range=function(){return w.subnetMatch(this,this.SpecialRanges)},h.prototype.toByteArray=function(){return this.octets.slice(0)},h.prototype.toIPv4MappedAddress=function(){return w.IPv6.parse(`::ffff:${this.toString()}`)},h.prototype.toNormalizedString=function(){return this.toString()},h.prototype.toString=function(){return this.octets.join(".")},h}(),w.IPv4.broadcastAddressFromCIDR=function(h){try{let m=this.parseCIDR(h),y=m[0].toByteArray(),b=this.subnetMaskFromPrefixLength(m[1]).toByteArray(),S=[],P=0;for(;P<4;)S.push(parseInt(y[P],10)|parseInt(b[P],10)^255),P++;return new this(S)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},w.IPv4.isIPv4=function(h){return this.parser(h)!==null},w.IPv4.isValid=function(h){try{return new this(this.parser(h)),!0}catch{return!1}},w.IPv4.isValidFourPartDecimal=function(h){return!!(w.IPv4.isValid(h)&&h.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},w.IPv4.networkAddressFromCIDR=function(h){let m,y,b,S,P;try{for(m=this.parseCIDR(h),b=m[0].toByteArray(),P=this.subnetMaskFromPrefixLength(m[1]).toByteArray(),S=[],y=0;y<4;)S.push(parseInt(b[y],10)&parseInt(P[y],10)),y++;return new this(S)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},w.IPv4.parse=function(h){let m=this.parser(h);if(m===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(m)},w.IPv4.parseCIDR=function(h){let m;if(m=h.match(/^(.+)\/(\d+)$/)){let y=parseInt(m[2]);if(y>=0&&y<=32){let b=[this.parse(m[1]),y];return Object.defineProperty(b,"toString",{value:function(){return this.join("/")}}),b}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},w.IPv4.parser=function(h){let m,y,b;if(m=h.match(t.fourOctet))return function(){let S=m.slice(1,6),P=[];for(let D=0;D<S.length;D++)y=S[D],P.push(p(y));return P}();if(m=h.match(t.longValue)){if(b=p(m[1]),b>4294967295||b<0)throw new Error("ipaddr: address outside defined range");return function(){let S=[],P;for(P=0;P<=24;P+=8)S.push(b>>P&255);return S}().reverse()}else return(m=h.match(t.twoOctet))?function(){let S=m.slice(1,4),P=[];if(b=p(S[1]),b>16777215||b<0)throw new Error("ipaddr: address outside defined range");return P.push(p(S[0])),P.push(b>>16&255),P.push(b>>8&255),P.push(b&255),P}():(m=h.match(t.threeOctet))?function(){let S=m.slice(1,5),P=[];if(b=p(S[2]),b>65535||b<0)throw new Error("ipaddr: address outside defined range");return P.push(p(S[0])),P.push(p(S[1])),P.push(b>>8&255),P.push(b&255),P}():null},w.IPv4.subnetMaskFromPrefixLength=function(h){if(h=parseInt(h),h<0||h>32)throw new Error("ipaddr: invalid IPv4 prefix length");let m=[0,0,0,0],y=0,b=Math.floor(h/8);for(;y<b;)m[y]=255,y++;return b<4&&(m[b]=Math.pow(2,h%8)-1<<8-h%8),new this(m)},w.IPv6=function(){function h(m,y){let b,S;if(m.length===16)for(this.parts=[],b=0;b<=14;b+=2)this.parts.push(m[b]<<8|m[b+1]);else if(m.length===8)this.parts=m;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(b=0;b<this.parts.length;b++)if(S=this.parts[b],!(0<=S&&S<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");y&&(this.zoneId=y)}return h.prototype.SpecialRanges={unspecified:[new h([0,0,0,0,0,0,0,0]),128],linkLocal:[new h([65152,0,0,0,0,0,0,0]),10],multicast:[new h([65280,0,0,0,0,0,0,0]),8],loopback:[new h([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new h([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new h([0,0,0,0,0,65535,0,0]),96],rfc6145:[new h([0,0,0,0,65535,0,0,0]),96],rfc6052:[new h([100,65435,0,0,0,0,0,0]),96],"6to4":[new h([8194,0,0,0,0,0,0,0]),16],teredo:[new h([8193,0,0,0,0,0,0,0]),32],reserved:[[new h([8193,3512,0,0,0,0,0,0]),32]],benchmarking:[new h([8193,2,0,0,0,0,0,0]),48],amt:[new h([8193,3,0,0,0,0,0,0]),32],as112v6:[new h([8193,4,274,0,0,0,0,0]),48],deprecated:[new h([8193,16,0,0,0,0,0,0]),28],orchid2:[new h([8193,32,0,0,0,0,0,0]),28]},h.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},h.prototype.kind=function(){return"ipv6"},h.prototype.match=function(m,y){let b;if(y===void 0&&(b=m,m=b[0],y=b[1]),m.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return f(this.parts,m.parts,16,y)},h.prototype.prefixLengthFromSubnetMask=function(){let m=0,y=!1,b={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},S,P;for(let D=7;D>=0;D-=1)if(S=this.parts[D],S in b){if(P=b[S],y&&P!==0)return null;P!==16&&(y=!0),m+=P}else return null;return 128-m},h.prototype.range=function(){return w.subnetMatch(this,this.SpecialRanges)},h.prototype.toByteArray=function(){let m,y=[],b=this.parts;for(let S=0;S<b.length;S++)m=b[S],y.push(m>>8),y.push(m&255);return y},h.prototype.toFixedLengthString=function(){let m=function(){let b=[];for(let S=0;S<this.parts.length;S++)b.push(l(this.parts[S].toString(16),4));return b}.call(this).join(":"),y="";return this.zoneId&&(y=`%${this.zoneId}`),m+y},h.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let m=this.parts.slice(-2),y=m[0],b=m[1];return new w.IPv4([y>>8,y&255,b>>8,b&255])},h.prototype.toNormalizedString=function(){let m=function(){let b=[];for(let S=0;S<this.parts.length;S++)b.push(this.parts[S].toString(16));return b}.call(this).join(":"),y="";return this.zoneId&&(y=`%${this.zoneId}`),m+y},h.prototype.toRFC5952String=function(){let m=/((^|:)(0(:|$)){2,})/g,y=this.toNormalizedString(),b=0,S=-1,P;for(;P=m.exec(y);)P[0].length>S&&(b=P.index,S=P[0].length);return S<0?y:`${y.substring(0,b)}::${y.substring(b+S)}`},h.prototype.toString=function(){return this.toRFC5952String()},h}(),w.IPv6.broadcastAddressFromCIDR=function(h){try{let m=this.parseCIDR(h),y=m[0].toByteArray(),b=this.subnetMaskFromPrefixLength(m[1]).toByteArray(),S=[],P=0;for(;P<16;)S.push(parseInt(y[P],10)|parseInt(b[P],10)^255),P++;return new this(S)}catch(m){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${m})`)}},w.IPv6.isIPv6=function(h){return this.parser(h)!==null},w.IPv6.isValid=function(h){if(typeof h=="string"&&h.indexOf(":")===-1)return!1;try{let m=this.parser(h);return new this(m.parts,m.zoneId),!0}catch{return!1}},w.IPv6.networkAddressFromCIDR=function(h){let m,y,b,S,P;try{for(m=this.parseCIDR(h),b=m[0].toByteArray(),P=this.subnetMaskFromPrefixLength(m[1]).toByteArray(),S=[],y=0;y<16;)S.push(parseInt(b[y],10)&parseInt(P[y],10)),y++;return new this(S)}catch(D){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${D})`)}},w.IPv6.parse=function(h){let m=this.parser(h);if(m.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(m.parts,m.zoneId)},w.IPv6.parseCIDR=function(h){let m,y,b;if((y=h.match(/^(.+)\/(\d+)$/))&&(m=parseInt(y[2]),m>=0&&m<=128))return b=[this.parse(y[1]),m],Object.defineProperty(b,"toString",{value:function(){return this.join("/")}}),b;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},w.IPv6.parser=function(h){let m,y,b,S,P,D;if(b=h.match(a.deprecatedTransitional))return this.parser(`::ffff:${b[1]}`);if(a.native.test(h))return c(h,8);if((b=h.match(a.transitional))&&(D=b[6]||"",m=c(b[1].slice(0,-1)+D,6),m.parts)){for(P=[parseInt(b[2]),parseInt(b[3]),parseInt(b[4]),parseInt(b[5])],y=0;y<P.length;y++)if(S=P[y],!(0<=S&&S<=255))return null;return m.parts.push(P[0]<<8|P[1]),m.parts.push(P[2]<<8|P[3]),{parts:m.parts,zoneId:m.zoneId}}return null},w.IPv6.subnetMaskFromPrefixLength=function(h){if(h=parseInt(h),h<0||h>128)throw new Error("ipaddr: invalid IPv6 prefix length");let m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=0,b=Math.floor(h/8);for(;y<b;)m[y]=255,y++;return b<16&&(m[b]=Math.pow(2,h%8)-1<<8-h%8),new this(m)},w.fromByteArray=function(h){let m=h.length;if(m===4)return new w.IPv4(h);if(m===16)return new w.IPv6(h);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},w.isValid=function(h){return w.IPv6.isValid(h)||w.IPv4.isValid(h)},w.parse=function(h){if(w.IPv6.isValid(h))return w.IPv6.parse(h);if(w.IPv4.isValid(h))return w.IPv4.parse(h);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},w.parseCIDR=function(h){try{return w.IPv6.parseCIDR(h)}catch{try{return w.IPv4.parseCIDR(h)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},w.process=function(h){let m=this.parse(h);return m.kind()==="ipv6"&&m.isIPv4MappedAddress()?m.toIPv4Address():m},w.subnetMatch=function(h,m,y){let b,S,P,D;y==null&&(y="unicast");for(S in m)if(Object.prototype.hasOwnProperty.call(m,S)){for(P=m[S],P[0]&&!(P[0]instanceof Array)&&(P=[P]),b=0;b<P.length;b++)if(D=P[b],h.kind()===D[0].kind()&&h.match.apply(h,D))return S}return y},typeof ed<"u"&&ed.exports?ed.exports=w:r.ipaddr=w})(Zx)});var y1=ia((O$,Hm)=>{"use strict";var T_=Object.prototype.hasOwnProperty,mr="~";function Yu(){}Object.create&&(Yu.prototype=Object.create(null),new Yu().__proto__||(mr=!1));function E_(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function h1(r,e,t,n,o){if(typeof t!="function")throw new TypeError("The listener must be a function");var i=new E_(t,n||r,o),s=mr?mr+e:e;return r._events[s]?r._events[s].fn?r._events[s]=[r._events[s],i]:r._events[s].push(i):(r._events[s]=i,r._eventsCount++),r}function jd(r,e){--r._eventsCount===0?r._events=new Yu:delete r._events[e]}function nr(){this._events=new Yu,this._eventsCount=0}nr.prototype.eventNames=function(){var e=[],t,n;if(this._eventsCount===0)return e;for(n in t=this._events)T_.call(t,n)&&e.push(mr?n.slice(1):n);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};nr.prototype.listeners=function(e){var t=mr?mr+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,s=new Array(i);o<i;o++)s[o]=n[o].fn;return s};nr.prototype.listenerCount=function(e){var t=mr?mr+e:e,n=this._events[t];return n?n.fn?1:n.length:0};nr.prototype.emit=function(e,t,n,o,i,s){var a=mr?mr+e:e;if(!this._events[a])return!1;var c=this._events[a],f=arguments.length,p,l;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,o),!0;case 5:return c.fn.call(c.context,t,n,o,i),!0;case 6:return c.fn.call(c.context,t,n,o,i,s),!0}for(l=1,p=new Array(f-1);l<f;l++)p[l-1]=arguments[l];c.fn.apply(c.context,p)}else{var w=c.length,h;for(l=0;l<w;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,o);break;default:if(!p)for(h=1,p=new Array(f-1);h<f;h++)p[h-1]=arguments[h];c[l].fn.apply(c[l].context,p)}}return!0};nr.prototype.on=function(e,t,n){return h1(this,e,t,n,!1)};nr.prototype.once=function(e,t,n){return h1(this,e,t,n,!0)};nr.prototype.removeListener=function(e,t,n,o){var i=mr?mr+e:e;if(!this._events[i])return this;if(!t)return jd(this,i),this;var s=this._events[i];if(s.fn)s.fn===t&&(!o||s.once)&&(!n||s.context===n)&&jd(this,i);else{for(var a=0,c=[],f=s.length;a<f;a++)(s[a].fn!==t||o&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[i]=c.length===1?c[0]:c:jd(this,i)}return this};nr.prototype.removeAllListeners=function(e){var t;return e?(t=mr?mr+e:e,this._events[t]&&jd(this,t)):(this._events=new Yu,this._eventsCount=0),this};nr.prototype.off=nr.prototype.removeListener;nr.prototype.addListener=nr.prototype.on;nr.prefixed=mr;nr.EventEmitter=nr;typeof Hm<"u"&&(Hm.exports=nr)});var __={};yn(__,{APTOS_BIP44_REGEX:()=>Tg,APTOS_COIN:()=>Ac,APTOS_HARDENED_REGEX:()=>Sg,Account:()=>_o,AccountAddress:()=>re,AccountAuthenticator:()=>_r,AccountAuthenticatorEd25519:()=>ro,AccountAuthenticatorMultiEd25519:()=>Uu,AccountAuthenticatorMultiKey:()=>Ls,AccountAuthenticatorSingleKey:()=>Kr,AccountAuthenticatorVariant:()=>dp,AccountSequenceNumber:()=>Ju,AddressInvalidReason:()=>fg,AnyPublicKey:()=>dt,AnyPublicKeyVariant:()=>pp,AnySignature:()=>kr,AnySignatureVariant:()=>hp,Aptos:()=>Cr,AptosApiError:()=>Ln,AptosApiType:()=>mc,AptosConfig:()=>Hc,AssertionSignatureVariant:()=>yp,AuthenticationKey:()=>Nr,Bool:()=>Tt,CKDPriv:()=>Lp,ChainId:()=>Fs,DEFAULT_MAX_GAS_AMOUNT:()=>Ap,DEFAULT_NETWORK:()=>gp,DEFAULT_TXN_EXP_SEC_FROM_NOW:()=>xp,DEFAULT_TXN_TIMEOUT_SEC:()=>gc,DeriveScheme:()=>eg,Deserializer:()=>Rp,Ed25519PrivateKey:()=>go,Ed25519PublicKey:()=>lt,Ed25519Signature:()=>Et,EntryFunction:()=>ea,EntryFunctionBytes:()=>wc,FeePayerRawTransaction:()=>so,FixedBytes:()=>Fo,HARDENED_OFFSET:()=>Np,Hex:()=>Ue,HexInvalidReason:()=>cg,Identifier:()=>bt,KeyType:()=>Eg,MimeType:()=>sf,ModuleId:()=>Ya,MoveAbility:()=>Xm,MoveFunctionVisibility:()=>Jm,MoveOption:()=>ho,MoveString:()=>er,MoveVector:()=>ft,MultiAgentRawTransaction:()=>io,MultiEd25519PublicKey:()=>bn,MultiEd25519Signature:()=>Vi,MultiKey:()=>rs,MultiSig:()=>tc,MultiSigTransactionPayload:()=>rc,Network:()=>yc,NetworkToChainId:()=>lf,NetworkToFaucetAPI:()=>ff,NetworkToIndexerAPI:()=>cf,NetworkToNetworkName:()=>D1,NetworkToNodeAPI:()=>uf,ParsingError:()=>ir,PrivateKey:()=>yo,ProcessorType:()=>Di,PublicKey:()=>sr,RAW_TRANSACTION_SALT:()=>bp,RAW_TRANSACTION_WITH_DATA_SALT:()=>df,RawTransaction:()=>dn,RawTransactionWithData:()=>Ou,RoleType:()=>Zm,RotationProofChallenge:()=>Gc,Script:()=>ec,ScriptTransactionArgumentVariants:()=>sa,Secp256k1PrivateKey:()=>So,Secp256k1PublicKey:()=>xr,Secp256k1Signature:()=>To,Secp256r1PrivateKey:()=>Sh,Secp256r1PublicKey:()=>cr,Secp256r1Signature:()=>En,Serializable:()=>Te,Serializer:()=>An,Signature:()=>tr,SignedTransaction:()=>Nn,SigningScheme:()=>aa,SigningSchemeInput:()=>mp,StructTag:()=>oo,TransactionAuthenticator:()=>no,TransactionAuthenticatorEd25519:()=>Hs,TransactionAuthenticatorFeePayer:()=>zs,TransactionAuthenticatorMultiAgent:()=>Gs,TransactionAuthenticatorMultiEd25519:()=>_d,TransactionAuthenticatorSingleSender:()=>Ks,TransactionAuthenticatorVariant:()=>lp,TransactionPayload:()=>Pi,TransactionPayloadEntryFunction:()=>Xa,TransactionPayloadMultiSig:()=>Za,TransactionPayloadScript:()=>Ja,TransactionPayloadVariants:()=>up,TransactionResponseType:()=>af,TransactionVariants:()=>fp,TransactionWorker:()=>Xu,TransactionWorkerEventsEnum:()=>zm,TypeTag:()=>It,TypeTagAddress:()=>Js,TypeTagBool:()=>Vs,TypeTagGeneric:()=>Xs,TypeTagParserError:()=>yt,TypeTagParserErrorType:()=>fw,TypeTagReference:()=>Ru,TypeTagSigner:()=>Ii,TypeTagStruct:()=>Mo,TypeTagU128:()=>Qs,TypeTagU16:()=>$s,TypeTagU256:()=>Ys,TypeTagU32:()=>js,TypeTagU64:()=>Ws,TypeTagU8:()=>qs,TypeTagVariants:()=>cp,TypeTagVector:()=>Zs,U128:()=>jr,U16:()=>qr,U256:()=>Wr,U32:()=>$r,U64:()=>Ft,U8:()=>jt,aptosCoinStructTag:()=>s_,aptosRequest:()=>hc,buildTransaction:()=>Ld,checkOrConvertArgument:()=>ra,convertArgument:()=>_m,deriveKey:()=>Ef,deriveTransactionType:()=>Gd,deserializeFromScriptArgument:()=>aw,ensureBoolean:()=>Af,fetchEntryFunctionAbi:()=>Em,findFirstNonSignerArg:()=>vm,generateMultiSignersSignedTransaction:()=>yw,generateRawTransaction:()=>hw,generateSignedTransaction:()=>Im,generateSignedTransactionForSimulation:()=>Cm,generateSigningMessage:()=>zd,generateTransactionPayload:()=>Lu,generateTransactionPayloadWithABI:()=>dw,get:()=>wp,getAptosFullNode:()=>Ir,getAuthenticatorForSimulation:()=>Mu,getAuthenticatorForWebAuthn:()=>h_,getFunctionParts:()=>Md,isBcsAddress:()=>Du,isBcsBool:()=>Bd,isBcsFixedBytes:()=>lw,isBcsString:()=>Id,isBcsU128:()=>kd,isBcsU16:()=>Ud,isBcsU256:()=>Nd,isBcsU32:()=>Rd,isBcsU64:()=>Od,isBcsU8:()=>Pd,isBlockMetadataTransactionResponse:()=>I1,isBool:()=>xm,isEd25519Signature:()=>U1,isEncodedEntryFunctionArgument:()=>wm,isFeePayerSignature:()=>k1,isGenesisTransactionResponse:()=>B1,isLargeNumber:()=>Nu,isMultiAgentSignature:()=>O1,isMultiEd25519Signature:()=>N1,isNull:()=>bm,isNumber:()=>ku,isPendingTransactionResponse:()=>_1,isScriptDataInput:()=>Dd,isSecp256k1Signature:()=>R1,isStateCheckpointTransactionResponse:()=>P1,isString:()=>ta,isUserTransactionResponse:()=>C1,isValidBIP44Path:()=>Dp,isValidHardenedPath:()=>Mp,mnemonicToSeed:()=>vc,objectStructTag:()=>u_,optionStructTag:()=>c_,outOfRangeErrorMessage:()=>ug,paginateWithCursor:()=>Mi,parseTypeTag:()=>nc,post:()=>pf,postAptosFaucet:()=>Sp,postAptosFullNode:()=>Li,postAptosIndexer:()=>vp,promiseFulfilledStatus:()=>Gm,request:()=>rg,sign:()=>Bm,signWithPasskey:()=>Hd,splitPath:()=>Hp,standardizeTypeTags:()=>Tm,stringStructTag:()=>a_,throwTypeMismatch:()=>At,validateNumberInRange:()=>fo});var Ln=class extends Error{constructor(t,n,o){super(o);this.name="AptosApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.data=n.data,this.request=t}};var Ym="1.6.0";var sf=(n=>(n.JSON="application/json",n.BCS="application/x-bcs",n.BCS_SIGNED_TRANSACTION="application/x.aptos.signed_transaction+bcs",n))(sf||{}),cp=(h=>(h[h.Bool=0]="Bool",h[h.U8=1]="U8",h[h.U64=2]="U64",h[h.U128=3]="U128",h[h.Address=4]="Address",h[h.Signer=5]="Signer",h[h.Vector=6]="Vector",h[h.Struct=7]="Struct",h[h.U16=8]="U16",h[h.U32=9]="U32",h[h.U256=10]="U256",h[h.Reference=254]="Reference",h[h.Generic=255]="Generic",h))(cp||{}),sa=(f=>(f[f.U8=0]="U8",f[f.U64=1]="U64",f[f.U128=2]="U128",f[f.Address=3]="Address",f[f.U8Vector=4]="U8Vector",f[f.Bool=5]="Bool",f[f.U16=6]="U16",f[f.U32=7]="U32",f[f.U256=8]="U256",f))(sa||{}),up=(n=>(n[n.Script=0]="Script",n[n.EntryFunction=2]="EntryFunction",n[n.Multisig=3]="Multisig",n))(up||{}),fp=(t=>(t[t.MultiAgentTransaction=0]="MultiAgentTransaction",t[t.FeePayerTransaction=1]="FeePayerTransaction",t))(fp||{}),lp=(i=>(i[i.Ed25519=0]="Ed25519",i[i.MultiEd25519=1]="MultiEd25519",i[i.MultiAgent=2]="MultiAgent",i[i.FeePayer=3]="FeePayer",i[i.SingleSender=4]="SingleSender",i))(lp||{}),dp=(o=>(o[o.Ed25519=0]="Ed25519",o[o.MultiEd25519=1]="MultiEd25519",o[o.SingleKey=2]="SingleKey",o[o.MultiKey=3]="MultiKey",o))(dp||{}),pp=(n=>(n[n.Ed25519=0]="Ed25519",n[n.Secp256k1=1]="Secp256k1",n[n.Secp256r1=2]="Secp256r1",n))(pp||{}),hp=(n=>(n[n.Ed25519=0]="Ed25519",n[n.Secp256k1=1]="Secp256k1",n[n.WebAuthn=2]="WebAuthn",n))(hp||{}),yp=(e=>(e[e.Secp256r1=0]="Secp256r1",e))(yp||{}),af=(i=>(i.Pending="pending_transaction",i.User="user_transaction",i.Genesis="genesis_transaction",i.BlockMetadata="block_metadata_transaction",i.StateCheckpoint="state_checkpoint_transaction",i))(af||{});function _1(r){return r.type==="pending_transaction"}function C1(r){return r.type==="user_transaction"}function B1(r){return r.type==="genesis_transaction"}function I1(r){return r.type==="block_metadata_transaction"}function P1(r){return r.type==="state_checkpoint_transaction"}function U1(r){return"signature"in r&&r.signature==="ed25519_signature"}function R1(r){return"signature"in r&&r.signature==="secp256k1_ecdsa_signature"}function O1(r){return r.type==="multi_agent_signature"}function k1(r){return r.type==="fee_payer_signature"}function N1(r){return r.type==="multi_ed25519_signature"}var Jm=(n=>(n.PRIVATE="private",n.PUBLIC="public",n.FRIEND="friend",n))(Jm||{}),Xm=(o=>(o.STORE="store",o.DROP="drop",o.KEY="key",o.COPY="copy",o))(Xm||{}),Zm=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(Zm||{}),aa=(o=>(o[o.Ed25519=0]="Ed25519",o[o.MultiEd25519=1]="MultiEd25519",o[o.SingleKey=2]="SingleKey",o[o.MultiKey=3]="MultiKey",o))(aa||{}),mp=(n=>(n[n.Ed25519=0]="Ed25519",n[n.Secp256k1Ecdsa=2]="Secp256k1Ecdsa",n[n.Secp256r1Ecdsa=3]="Secp256r1Ecdsa",n))(mp||{}),eg=(i=>(i[i.DeriveAuid=251]="DeriveAuid",i[i.DeriveObjectAddressFromObject=252]="DeriveObjectAddressFromObject",i[i.DeriveObjectAddressFromGuid=253]="DeriveObjectAddressFromGuid",i[i.DeriveObjectAddressFromSeed=254]="DeriveObjectAddressFromSeed",i[i.DeriveResourceAccountAddress=255]="DeriveResourceAccountAddress",i))(eg||{});var tg={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function rg(r,e){let{url:t,method:n,body:o,contentType:i,params:s,overrides:a}=r,c={...a?.HEADERS,"x-aptos-client":`aptos-typescript-sdk/${Ym}`,"content-type":i??"application/json"};return a?.AUTH_TOKEN&&t.includes("faucet")&&(c.Authorization=`Bearer ${a?.AUTH_TOKEN}`),a?.API_KEY&&!t.includes("faucet")&&(c.Authorization=`Bearer ${a?.API_KEY}`),e.provider({url:t,method:n,body:o,params:s,headers:c,overrides:a})}async function hc(r,e){let{url:t,path:n}=r,o=n?`${t}/${n}`:t,i=await rg({...r,url:o},e.client),s={status:i.status,statusText:i.statusText,data:i.data,headers:i.headers,config:i.config,request:i.request,url:o};if(e.isIndexerRequest(t)){let c=s.data;if(c.errors)throw new Ln(r,s,`Indexer error: ${c.errors[0].message}`??`Indexer unhandled Error ${i.status} : ${i.statusText}`);s.data=c.data}if(s.status>=200&&s.status<300)return s;let a;throw s&&s.data&&"message"in s.data&&"error_code"in s.data?a=JSON.stringify(s.data):s.status in tg?a=tg[s.status]:a=`Unhandled Error ${s.status} : ${s.statusText}`,new Ln(r,s,`${e.isFullnodeRequest(t)?"Fullnode":"Faucet"} error: ${a}`)}var cf={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",randomnet:"https://indexer-randomnet.hasura.app/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},uf={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",randomnet:"https://fullnode.random.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},ff={mainnet:"https://faucet.mainnet.aptoslabs.com",testnet:"https://faucet.testnet.aptoslabs.com",devnet:"https://faucet.devnet.aptoslabs.com",randomnet:"https://faucet.random.aptoslabs.com",local:"http://127.0.0.1:8081"},yc=(s=>(s.MAINNET="mainnet",s.TESTNET="testnet",s.DEVNET="devnet",s.RANDOMNET="randomnet",s.LOCAL="local",s.CUSTOM="custom",s))(yc||{}),lf={mainnet:1,testnet:2,randomnet:70},D1={mainnet:"mainnet",testnet:"testnet",devnet:"devnet",randomnet:"randomnet",local:"local",custom:"custom"};var mc=(n=>(n[n.FULLNODE=0]="FULLNODE",n[n.INDEXER=1]="INDEXER",n[n.FAUCET=2]="FAUCET",n))(mc||{}),gp="devnet",Ap=2e5,xp=20,gc=20,Ac="0x1::aptos_coin::AptosCoin",bp="APTOS::RawTransaction",df="APTOS::RawTransactionWithData",Di=(a=>(a.ACCOUNT_TRANSACTION_PROCESSOR="account_transactions_processor",a.DEFAULT="default_processor",a.EVENTS_PROCESSOR="events_processor",a.FUNGIBLE_ASSET_PROCESSOR="fungible_asset_processor",a.STAKE_PROCESSOR="stake_processor",a.TOKEN_V2_PROCESSOR="token_v2_processor",a.USER_TRANSACTION_PROCESSOR="user_transaction_processor",a))(Di||{});async function wp(r){let{aptosConfig:e,overrides:t,params:n,contentType:o,acceptType:i,path:s,originMethod:a,type:c}=r,f=e.getRequestUrl(c);return hc({url:f,method:"GET",originMethod:a,path:s,contentType:o?.valueOf(),acceptType:i?.valueOf(),params:n,overrides:{...e.clientConfig,...t}},e)}async function Ir(r){return wp({...r,type:0})}async function Mi(r){let e=[],t,n=r.params;do{let o=await wp({type:0,aptosConfig:r.aptosConfig,originMethod:r.originMethod,path:r.path,params:n,overrides:r.overrides});t=o.headers["x-aptos-cursor"],delete o.headers,e.push(...o.data),n.start=t}while(t!=null);return e}async function pf(r){let{type:e,originMethod:t,path:n,body:o,acceptType:i,contentType:s,params:a,aptosConfig:c,overrides:f}=r,p=c.getRequestUrl(e);return hc({url:p,method:"POST",originMethod:t,path:n,body:o,contentType:s?.valueOf(),acceptType:i?.valueOf(),params:a,overrides:{...c.clientConfig,...f}},c)}async function Li(r){return pf({...r,type:0})}async function vp(r){return pf({...r,type:1})}async function Sp(r){return pf({...r,type:2})}var hf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var og=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function Tp(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}var Hn=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),mn=(r,e)=>r<<32-e|r>>>e,M1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!M1)throw new Error("Non little-endian hardware is not supported");var L1=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Hi(r){if(!Tp(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=L1[r[t]];return e}var co={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ng(r){if(r>=co._0&&r<=co._9)return r-co._0;if(r>=co._A&&r<=co._F)return r-(co._A-10);if(r>=co._a&&r<=co._f)return r-(co._a-10)}function ca(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(t);for(let o=0,i=0;o<t;o++,i+=2){let s=ng(r.charCodeAt(i)),a=ng(r.charCodeAt(i+1));if(s===void 0||a===void 0){let c=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function Ep(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function gn(r){if(typeof r=="string"&&(r=Ep(r)),!Tp(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Gi(...r){let e=0;for(let n=0;n<r.length;n++){let o=r[n];if(!Tp(o))throw new Error("Uint8Array expected");e+=o.length}let t=new Uint8Array(e);for(let n=0,o=0;n<r.length;n++){let i=r[n];t.set(i,o),o+=i.length}return t}var Go=class{clone(){return this._cloneInto()}},H1={}.toString;function ig(r,e){if(e!==void 0&&H1.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function zo(r){let e=n=>r().update(gn(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function sg(r){let e=(n,o)=>r(o).update(gn(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function ag(r=32){if(hf&&typeof hf.getRandomValues=="function")return hf.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}var yf=255,mf=65535,uo=4294967295,zi=18446744073709551615n,xc=340282366920938463463374607431768211455n,gf=115792089237316195423570985008687907853269984665640564039457584007913129639935n;var ir=class extends Error{constructor(t,n){super(t);this.invalidReason=n}};var cg=(n=>(n.TOO_SHORT="too_short",n.INVALID_LENGTH="invalid_length",n.INVALID_HEX_CHARS="invalid_hex_chars",n))(cg||{}),Ue=class r{constructor(e){this.data=e}toUint8Array(){return this.data}toStringWithoutPrefix(){return Hi(this.data)}toString(){return`0x${this.toStringWithoutPrefix()}`}static fromString(e){let t=e;if(t.startsWith("0x")&&(t=t.slice(2)),t.length===0)throw new ir("Hex string is too short, must be at least 1 char long, excluding the optional leading 0x.","too_short");if(t.length%2!==0)throw new ir("Hex string must be an even number of hex characters.","invalid_length");try{return new r(ca(t))}catch(n){throw new ir(`Hex string contains invalid hex characters: ${n?.message}`,"invalid_hex_chars")}}static fromHexInput(e){return e instanceof Uint8Array?new r(e):r.fromString(e)}static isValid(e){try{return r.fromString(e),{valid:!0}}catch(t){return{valid:!1,invalidReason:t?.invalidReason,invalidReasonMessage:t?.message}}}equals(e){return this.data.length!==e.data.length?!1:this.data.every((t,n)=>t===e.data[n])}};var Te=class{bcsToBytes(){let e=new An;return this.serialize(e),e.toUint8Array()}bcsToHex(){let e=this.bcsToBytes();return Ue.fromHexInput(e)}},An=class{constructor(e=64){if(e<=0)throw new Error("Length needs to be greater than 0");this.buffer=new ArrayBuffer(e),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let t=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}}appendToBuffer(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,n){this.ensureBufferWillHandleSize(t);let o=new DataView(this.buffer,this.offset);e.apply(o,[0,n,!0]),this.offset+=t}serializeStr(e){let t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.appendToBuffer(e)}serializeFixedBytes(e){this.appendToBuffer(e)}serializeBool(e){Af(e);let t=e?1:0;this.appendToBuffer(new Uint8Array([t]))}serializeU8(e){this.appendToBuffer(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let t=BigInt(e)&BigInt(uo),n=BigInt(e)>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(n))}serializeU128(e){let t=BigInt(e)&zi,n=BigInt(e)>>BigInt(64);this.serializeU64(t),this.serializeU64(n)}serializeU256(e){let t=BigInt(e)&xc,n=BigInt(e)>>BigInt(128);this.serializeU128(t),this.serializeU128(n)}serializeU32AsUleb128(e){let t=e,n=[];for(;t>>>7;)n.push(t&127|128),t>>>=7;n.push(t),this.appendToBuffer(new Uint8Array(n))}toUint8Array(){return new Uint8Array(this.buffer).slice(0,this.offset)}serialize(e){e.serialize(this)}serializeVector(e){this.serializeU32AsUleb128(e.length),e.forEach(t=>{t.serialize(this)})}};Ar([Ki(0,yf)],An.prototype,"serializeU8",1),Ar([Ki(0,mf)],An.prototype,"serializeU16",1),Ar([Ki(0,uo)],An.prototype,"serializeU32",1),Ar([Ki(BigInt(0),zi)],An.prototype,"serializeU64",1),Ar([Ki(BigInt(0),xc)],An.prototype,"serializeU128",1),Ar([Ki(BigInt(0),gf)],An.prototype,"serializeU256",1),Ar([Ki(0,uo)],An.prototype,"serializeU32AsUleb128",1);function Af(r){if(typeof r!="boolean")throw new Error(`${r} is not a boolean value`)}var ug=(r,e,t)=>`${r} is out of range: [${e}, ${t}]`;function fo(r,e,t){let n=BigInt(r);if(n>BigInt(t)||n<BigInt(e))throw new Error(ug(r,e,t))}function Ki(r,e){return(t,n,o)=>{let i=o.value;return o.value=function(a){return fo(a,r,e),i.apply(this,[a])},o}}var fg=(a=>(a.INCORRECT_NUMBER_OF_BYTES="incorrect_number_of_bytes",a.INVALID_HEX_CHARS="invalid_hex_chars",a.TOO_SHORT="too_short",a.TOO_LONG="too_long",a.LEADING_ZERO_X_REQUIRED="leading_zero_x_required",a.LONG_FORM_REQUIRED_UNLESS_SPECIAL="long_form_required_unless_special",a.INVALID_PADDING_ZEROES="INVALID_PADDING_ZEROES",a))(fg||{}),ut=class ut extends Te{constructor(t){super();if(t.length!==ut.LENGTH)throw new ir("AccountAddress data should be exactly 32 bytes long","incorrect_number_of_bytes");this.data=t}isSpecial(){return this.data.slice(0,this.data.length-1).every(t=>t===0)&&this.data[this.data.length-1]<16}toString(){return`0x${this.toStringWithoutPrefix()}`}toStringWithoutPrefix(){let t=Hi(this.data);return this.isSpecial()&&(t=t[t.length-1]),t}toStringLong(){return`0x${this.toStringLongWithoutPrefix()}`}toStringLongWithoutPrefix(){return Hi(this.data)}toUint8Array(){return this.data}serialize(t){t.serializeFixedBytes(this.data)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(3),t.serialize(this)}static deserialize(t){let n=t.deserializeFixedBytes(ut.LENGTH);return new ut(n)}static fromStringStrict(t){if(!t.startsWith("0x"))throw new ir("Hex string must start with a leading 0x.","leading_zero_x_required");let n=ut.fromString(t);if(t.length!==ut.LONG_STRING_LENGTH+2)if(n.isSpecial()){if(t.length!==3)throw new ir(`The given hex string ${t} is a special address not in LONG form, it must be 0x0 to 0xf without padding zeroes.`,"INVALID_PADDING_ZEROES")}else throw new ir(`The given hex string ${t} is not a special address, it must be represented as 0x + 64 chars.`,"long_form_required_unless_special");return n}static fromString(t){let n=t;if(t.startsWith("0x")&&(n=t.slice(2)),n.length===0)throw new ir("Hex string is too short, must be 1 to 64 chars long, excluding the leading 0x.","too_short");if(n.length>64)throw new ir("Hex string is too long, must be 1 to 64 chars long, excluding the leading 0x.","too_long");let o;try{o=ca(n.padStart(64,"0"))}catch(i){throw new ir(`Hex characters are invalid: ${i?.message}`,"invalid_hex_chars")}return new ut(o)}static from(t){return t instanceof ut?t:t instanceof Uint8Array?new ut(t):ut.fromString(t)}static fromStrict(t){return t instanceof ut?t:t instanceof Uint8Array?new ut(t):ut.fromStringStrict(t)}static isValid(t){try{return t.strict?ut.fromStrict(t.input):ut.from(t.input),{valid:!0}}catch(n){return{valid:!1,invalidReason:n?.invalidReason,invalidReasonMessage:n?.message}}}equals(t){return this.data.length!==t.data.length?!1:this.data.every((n,o)=>n===t.data[o])}};ut.LENGTH=32,ut.LONG_STRING_LENGTH=64,ut.ZERO=ut.from("0x0"),ut.ONE=ut.from("0x1"),ut.TWO=ut.from("0x2"),ut.THREE=ut.from("0x3"),ut.FOUR=ut.from("0x4");var re=ut;function lo(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function G1(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function xn(r,...e){if(!G1(r))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function xf(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");lo(r.outputLen),lo(r.blockLen)}function po(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function bf(r,e){xn(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var wf=BigInt(4294967295),_p=BigInt(32);function lg(r,e=!1){return e?{h:Number(r&wf),l:Number(r>>_p&wf)}:{h:Number(r>>_p&wf)|0,l:Number(r&wf)|0}}function Cp(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:i,l:s}=lg(r[o],e);[t[o],n[o]]=[i,s]}return[t,n]}var z1=(r,e)=>BigInt(r>>>0)<<_p|BigInt(e>>>0),K1=(r,e,t)=>r>>>t,F1=(r,e,t)=>r<<32-t|e>>>t,V1=(r,e,t)=>r>>>t|e<<32-t,q1=(r,e,t)=>r<<32-t|e>>>t,$1=(r,e,t)=>r<<64-t|e>>>t-32,j1=(r,e,t)=>r>>>t-32|e<<64-t,W1=(r,e)=>e,Q1=(r,e)=>r,Bp=(r,e,t)=>r<<t|e>>>32-t,Ip=(r,e,t)=>e<<t|r>>>32-t,Pp=(r,e,t)=>e<<t-32|r>>>64-t,Up=(r,e,t)=>r<<t-32|e>>>64-t;function Y1(r,e,t,n){let o=(e>>>0)+(n>>>0);return{h:r+t+(o/2**32|0)|0,l:o|0}}var J1=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),X1=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,Z1=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),ev=(r,e,t,n,o)=>e+t+n+o+(r/2**32|0)|0,tv=(r,e,t,n,o)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(o>>>0),rv=(r,e,t,n,o,i)=>e+t+n+o+i+(r/2**32|0)|0;var nv={fromBig:lg,split:Cp,toBig:z1,shrSH:K1,shrSL:F1,rotrSH:V1,rotrSL:q1,rotrBH:$1,rotrBL:j1,rotr32H:W1,rotr32L:Q1,rotlSH:Bp,rotlSL:Ip,rotlBH:Pp,rotlBL:Up,add:Y1,add3L:J1,add3H:X1,add4L:Z1,add4H:ev,add5H:rv,add5L:tv},Ge=nv;var[hg,yg,mg]=[[],[],[]],ov=BigInt(0),bc=BigInt(1),iv=BigInt(2),sv=BigInt(7),av=BigInt(256),cv=BigInt(113);for(let r=0,e=bc,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],hg.push(2*(5*n+t)),yg.push((r+1)*(r+2)/2%64);let o=ov;for(let i=0;i<7;i++)e=(e<<bc^(e>>sv)*cv)%av,e&iv&&(o^=bc<<(bc<<BigInt(i))-bc);mg.push(o)}var[uv,fv]=Cp(mg,!0),dg=(r,e,t)=>t>32?Pp(r,e,t):Bp(r,e,t),pg=(r,e,t)=>t>32?Up(r,e,t):Ip(r,e,t);function lv(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)t[s]=r[s]^r[s+10]^r[s+20]^r[s+30]^r[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,f=t[c],p=t[c+1],l=dg(f,p,1)^t[a],w=pg(f,p,1)^t[a+1];for(let h=0;h<50;h+=10)r[s+h]^=l,r[s+h+1]^=w}let o=r[2],i=r[3];for(let s=0;s<24;s++){let a=yg[s],c=dg(o,i,a),f=pg(o,i,a),p=hg[s];o=r[p],i=r[p+1],r[p]=c,r[p+1]=f}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=r[s+a];for(let a=0;a<10;a++)r[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=uv[n],r[1]^=fv[n]}t.fill(0)}var vf=class r extends Go{constructor(e,t,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lo(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=og(this.state)}keccak(){lv(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){po(this);let{blockLen:t,state:n}=this;e=gn(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(t-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:o}=this;e[n]^=t,t&128&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){po(this,!1),xn(e),this.finish();let t=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);e.set(t.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bf(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new r(t,n,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},Ko=(r,e,t)=>zo(()=>new vf(e,r,t)),BC=Ko(6,144,224/8),Gn=Ko(6,136,256/8),IC=Ko(6,104,384/8),PC=Ko(6,72,512/8),UC=Ko(1,144,224/8),RC=Ko(1,136,256/8),OC=Ko(1,104,384/8),kC=Ko(1,72,512/8),gg=(r,e,t)=>sg((n={})=>new vf(e,r,n.dkLen===void 0?t:n.dkLen,!0)),NC=gg(31,168,128/8),DC=gg(31,136,256/8);var Sc=Vr(xg());var Rp=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){let e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){let e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){let e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){let e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){let e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<uo;){let n=this.deserializeU8();if(e|=BigInt(n&127)<<BigInt(t),!(n&128))break;t+=7}if(e>uo)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}deserialize(e){return e.deserialize(this)}deserializeVector(e){let t=this.deserializeUleb128AsU32(),n=new Array;for(let o=0;o<t;o+=1)n.push(this.deserialize(e));return n}};var Fo=class r extends Te{constructor(t){super();this.value=Ue.fromHexInput(t).toUint8Array()}serialize(t){t.serializeFixedBytes(this.value)}serializeForEntryFunction(t){t.serialize(this)}serializeForScriptFunction(t){t.serialize(this)}static deserialize(t,n){let o=t.deserializeFixedBytes(n);return new r(o)}};var wc=class r extends Te{constructor(t){super();this.value=new Fo(t)}serialize(t){t.serialize(this.value)}serializeForEntryFunction(t){t.serializeU32AsUleb128(this.value.value.length),t.serialize(this)}static deserialize(t,n){let o=Fo.deserialize(t,n);return new r(o.value)}};var Tt=class r extends Te{constructor(t){super();Af(t),this.value=t}serialize(t){t.serializeBool(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(5),t.serialize(this)}static deserialize(t){return new r(t.deserializeBool())}},jt=class r extends Te{constructor(t){super();fo(t,0,yf),this.value=t}serialize(t){t.serializeU8(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(0),t.serialize(this)}static deserialize(t){return new r(t.deserializeU8())}},qr=class r extends Te{constructor(t){super();fo(t,0,mf),this.value=t}serialize(t){t.serializeU16(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(6),t.serialize(this)}static deserialize(t){return new r(t.deserializeU16())}},$r=class r extends Te{constructor(t){super();fo(t,0,uo),this.value=t}serialize(t){t.serializeU32(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(7),t.serialize(this)}static deserialize(t){return new r(t.deserializeU32())}},Ft=class r extends Te{constructor(t){super();fo(t,BigInt(0),zi),this.value=BigInt(t)}serialize(t){t.serializeU64(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(1),t.serialize(this)}static deserialize(t){return new r(t.deserializeU64())}},jr=class r extends Te{constructor(t){super();fo(t,BigInt(0),xc),this.value=BigInt(t)}serialize(t){t.serializeU128(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(2),t.serialize(this)}static deserialize(t){return new r(t.deserializeU128())}},Wr=class r extends Te{constructor(t){super();fo(t,BigInt(0),gf),this.value=BigInt(t)}serialize(t){t.serializeU256(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){t.serializeU32AsUleb128(8),t.serialize(this)}static deserialize(t){return new r(t.deserializeU256())}};var ft=class r extends Te{constructor(t){super();this.values=t}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){if(!(this.values[0]instanceof jt)&&this.values[0]!==void 0)throw new Error("Script function arguments only accept u8 vectors");t.serializeU32AsUleb128(4),t.serialize(this)}static U8(t){let n;if(Array.isArray(t)&&typeof t[0]=="number")n=t;else if(typeof t=="string"){let o=Ue.fromHexInput(t);n=Array.from(o.toUint8Array())}else if(t instanceof Uint8Array)n=Array.from(t);else throw new Error("Invalid input type");return new r(n.map(o=>new jt(o)))}static U16(t){return new r(t.map(n=>new qr(n)))}static U32(t){return new r(t.map(n=>new $r(n)))}static U64(t){return new r(t.map(n=>new Ft(n)))}static U128(t){return new r(t.map(n=>new jr(n)))}static U256(t){return new r(t.map(n=>new Wr(n)))}static Bool(t){return new r(t.map(n=>new Tt(n)))}static MoveString(t){return new r(t.map(n=>new er(n)))}serialize(t){t.serializeVector(this.values)}static deserialize(t,n){let o=t.deserializeUleb128AsU32(),i=new Array;for(let s=0;s<o;s+=1)i.push(n.deserialize(t));return new r(i)}},er=class r extends Te{constructor(t){super();this.value=t}serialize(t){t.serializeStr(this.value)}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}serializeForScriptFunction(t){let n=this.bcsToBytes().slice(1);ft.U8(n).serializeForScriptFunction(t)}static deserialize(t){return new r(t.deserializeStr())}},ho=class r extends Te{constructor(t){super();typeof t<"u"&&t!==null?this.vec=new ft([t]):this.vec=new ft([]),[this.value]=this.vec.values}serializeForEntryFunction(t){let n=this.bcsToBytes();t.serializeBytes(n)}unwrap(){if(this.isSome())return this.vec.values[0];throw new Error("Called unwrap on a MoveOption with no value")}isSome(){return this.vec.values.length===1}serialize(t){this.vec.serialize(t)}static U8(t){return new r(t!=null?new jt(t):void 0)}static U16(t){return new r(t!=null?new qr(t):void 0)}static U32(t){return new r(t!=null?new $r(t):void 0)}static U64(t){return new r(t!=null?new Ft(t):void 0)}static U128(t){return new r(t!=null?new jr(t):void 0)}static U256(t){return new r(t!=null?new Wr(t):void 0)}static Bool(t){return new r(t!=null?new Tt(t):void 0)}static MoveString(t){return new r(t!=null?new er(t):void 0)}static deserialize(t,n){let o=ft.deserialize(t,n);return new r(o.values[0])}};var sr=class extends Te{},yo=class extends Te{},tr=class extends Te{};var Tf=class extends Go{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,xf(e);let n=gn(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return po(this),this.iHash.update(e),this}digestInto(e){po(this),xn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zn=(r,e,t)=>new Tf(r,e).update(t).digest();zn.create=(r,e)=>new Tf(r,e);function dv(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=n?4:0,f=n?0:4;r.setUint32(e+c,s,n),r.setUint32(e+f,a,n)}var Vo=class extends Go{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Hn(this.buffer)}update(e){po(this);let{view:t,buffer:n,blockLen:o}=this;e=gn(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Hn(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){po(this),bf(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let l=s;l<o;l++)t[l]=0;dv(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Hn(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)a.setUint32(4*l,p[l],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%t&&e.buffer.set(n),e}};var[pv,hv]=Ge.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),qo=new Uint32Array(80),$o=new Uint32Array(80),Op=class extends Vo{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:f,El:p,Fh:l,Fl:w,Gh:h,Gl:m,Hh:y,Hl:b}=this;return[e,t,n,o,i,s,a,c,f,p,l,w,h,m,y,b]}set(e,t,n,o,i,s,a,c,f,p,l,w,h,m,y,b){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=p|0,this.Fh=l|0,this.Fl=w|0,this.Gh=h|0,this.Gl=m|0,this.Hh=y|0,this.Hl=b|0}process(e,t){for(let D=0;D<16;D++,t+=4)qo[D]=e.getUint32(t),$o[D]=e.getUint32(t+=4);for(let D=16;D<80;D++){let $=qo[D-15]|0,W=$o[D-15]|0,V=Ge.rotrSH($,W,1)^Ge.rotrSH($,W,8)^Ge.shrSH($,W,7),Z=Ge.rotrSL($,W,1)^Ge.rotrSL($,W,8)^Ge.shrSL($,W,7),X=qo[D-2]|0,_e=$o[D-2]|0,de=Ge.rotrSH(X,_e,19)^Ge.rotrBH(X,_e,61)^Ge.shrSH(X,_e,6),B=Ge.rotrSL(X,_e,19)^Ge.rotrBL(X,_e,61)^Ge.shrSL(X,_e,6),F=Ge.add4L(Z,B,$o[D-7],$o[D-16]),ie=Ge.add4H(F,V,de,qo[D-7],qo[D-16]);qo[D]=ie|0,$o[D]=F|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:f,Dl:p,Eh:l,El:w,Fh:h,Fl:m,Gh:y,Gl:b,Hh:S,Hl:P}=this;for(let D=0;D<80;D++){let $=Ge.rotrSH(l,w,14)^Ge.rotrSH(l,w,18)^Ge.rotrBH(l,w,41),W=Ge.rotrSL(l,w,14)^Ge.rotrSL(l,w,18)^Ge.rotrBL(l,w,41),V=l&h^~l&y,Z=w&m^~w&b,X=Ge.add5L(P,W,Z,hv[D],$o[D]),_e=Ge.add5H(X,S,$,V,pv[D],qo[D]),de=X|0,B=Ge.rotrSH(n,o,28)^Ge.rotrBH(n,o,34)^Ge.rotrBH(n,o,39),F=Ge.rotrSL(n,o,28)^Ge.rotrBL(n,o,34)^Ge.rotrBL(n,o,39),ie=n&i^n&a^i&a,U=o&s^o&c^s&c;S=y|0,P=b|0,y=h|0,b=m|0,h=l|0,m=w|0,{h:l,l:w}=Ge.add(f|0,p|0,_e|0,de|0),f=a|0,p=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let T=Ge.add3L(de,F,U);n=Ge.add3H(T,_e,B,ie),o=T|0}({h:n,l:o}=Ge.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Ge.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Ge.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l:p}=Ge.add(this.Dh|0,this.Dl|0,f|0,p|0),{h:l,l:w}=Ge.add(this.Eh|0,this.El|0,l|0,w|0),{h,l:m}=Ge.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:y,l:b}=Ge.add(this.Gh|0,this.Gl|0,y|0,b|0),{h:S,l:P}=Ge.add(this.Hh|0,this.Hl|0,S|0,P|0),this.set(n,o,i,s,a,c,f,p,l,w,h,m,y,b,S,P)}roundClean(){qo.fill(0),$o.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Fi=zo(()=>new Op);function yv(r,e,t,n){xf(r);let o=ig({dkLen:32,asyncTick:10},n),{c:i,dkLen:s,asyncTick:a}=o;if(lo(i),lo(s),lo(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=gn(e),f=gn(t),p=new Uint8Array(s),l=zn.create(r,c),w=l._cloneInto().update(f);return{c:i,dkLen:s,asyncTick:a,DK:p,PRF:l,PRFSalt:w}}function mv(r,e,t,n,o){return r.destroy(),e.destroy(),n&&n.destroy(),o.fill(0),t}function bg(r,e,t,n){let{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=yv(r,e,t,n),f,p=new Uint8Array(4),l=Hn(p),w=new Uint8Array(a.outputLen);for(let h=1,m=0;m<i;h++,m+=a.outputLen){let y=s.subarray(m,m+a.outputLen);l.setInt32(0,h,!1),(f=c._cloneInto(f)).update(p).digestInto(w),y.set(w.subarray(0,y.length));for(let b=1;b<o;b++){a._cloneInto(f).update(w).digestInto(w);for(let S=0;S<y.length;S++)y[S]^=w[S]}}return mv(a,c,s,f,w)}var gv=(r,e,t)=>r&e^~r&t,Av=(r,e,t)=>r&e^r&t^e&t,xv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wo=new Uint32Array(64),kp=class extends Vo{constructor(){super(64,32,8,!1),this.A=jo[0]|0,this.B=jo[1]|0,this.C=jo[2]|0,this.D=jo[3]|0,this.E=jo[4]|0,this.F=jo[5]|0,this.G=jo[6]|0,this.H=jo[7]|0}get(){let{A:e,B:t,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,t,n,o,i,s,a,c]}set(e,t,n,o,i,s,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)Wo[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){let w=Wo[l-15],h=Wo[l-2],m=mn(w,7)^mn(w,18)^w>>>3,y=mn(h,17)^mn(h,19)^h>>>10;Wo[l]=y+Wo[l-7]+m+Wo[l-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:f,H:p}=this;for(let l=0;l<64;l++){let w=mn(a,6)^mn(a,11)^mn(a,25),h=p+w+gv(a,c,f)+xv[l]+Wo[l]|0,y=(mn(n,2)^mn(n,13)^mn(n,22))+Av(n,o,i)|0;p=f,f=c,c=a,a=s+h|0,s=i,i=o,o=n,n=h+y|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(n,o,i,s,a,c,f,p)}roundClean(){Wo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var mo=zo(()=>new kp);function wg(r){if(typeof r!="string")throw new TypeError(`Invalid mnemonic type: ${typeof r}`);return r.normalize("NFKD")}function bv(r){let e=wg(r),t=e.split(" ");if(![12,15,18,21,24].includes(t.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:t}}var wv=r=>wg(`mnemonic${r}`);function vg(r,e=""){return bg(Fi,bv(r).nfkd,wv(e),{c:2048,dkLen:64})}var Sg=/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'?$/,Tg=/^m\/44'\/637'\/[0-9]+'\/[0-9]+\/[0-9]+$/,Eg=(e=>(e.ED25519="ed25519 seed",e))(Eg||{}),Np=2147483648;function Dp(r){return Tg.test(r)}function Mp(r){return Sg.test(r)}var Ef=(r,e)=>{let t=zn.create(Fi,r).update(e).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},Lp=({key:r,chainCode:e},t)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,t);let o=new Uint8Array(n),i=new Uint8Array([0]),s=new Uint8Array([...i,...r,...o]);return Ef(e,s)},Sv=r=>r.replace("'",""),Hp=r=>r.split("/").slice(1).map(Sv),vc=r=>{let e=r.trim().split(/\s+/).map(t=>t.toLowerCase()).join(" ");return vg(e)};var Qo=class Qo extends sr{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==Qo.LENGTH)throw new Error(`PublicKey length should be ${Qo.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(t){let{message:n,signature:o}=t,i=Ue.fromHexInput(n).toUint8Array(),s=o.toUint8Array();return Sc.default.sign.detached.verify(i,s,this.key.toUint8Array())}serialize(t){t.serializeBytes(this.key.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new Qo(n)}static load(t){let n=t.deserializeBytes();return new Qo(n)}static isPublicKey(t){return t instanceof Qo}};Qo.LENGTH=32;var lt=Qo,ar=class ar extends yo{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==ar.LENGTH)throw new Error(`PrivateKey length should be ${ar.LENGTH}`);this.signingKeyPair=Sc.default.sign.keyPair.fromSeed(n.toUint8Array().slice(0,ar.LENGTH))}toUint8Array(){return this.signingKeyPair.secretKey.slice(0,ar.LENGTH)}toString(){return Ue.fromHexInput(this.toUint8Array()).toString()}sign(t){let n=Ue.fromHexInput(t),o=Sc.default.sign.detached(n.toUint8Array(),this.signingKeyPair.secretKey);return new Et(o)}serialize(t){t.serializeBytes(this.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new ar(n)}static generate(){let t=Sc.default.sign.keyPair();return new ar(t.secretKey.slice(0,ar.LENGTH))}publicKey(){let t=this.signingKeyPair.publicKey;return new lt(t)}static fromDerivationPath(t,n){if(!Mp(t))throw new Error(`Invalid derivation path ${t}`);return ar.fromDerivationPathInner(t,vc(n))}static fromDerivationPathInner(t,n,o=Np){let{key:i,chainCode:s}=Ef(ar.SLIP_0010_SEED,n),a=Hp(t).map(f=>parseInt(f,10)),{key:c}=a.reduce((f,p)=>Lp(f,p+o),{key:i,chainCode:s});return new ar(c)}static isPrivateKey(t){return t instanceof ar}};ar.LENGTH=32,ar.SLIP_0010_SEED="ed25519 seed";var go=ar,Yo=class Yo extends tr{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==Yo.LENGTH)throw new Error(`Signature length should be ${Yo.LENGTH}`);this.data=n}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(t){t.serializeBytes(this.data.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new Yo(n)}static load(t){let n=t.deserializeBytes();return new Yo(n)}static isSignature(t){return t instanceof Yo}};Yo.LENGTH=64;var Et=Yo;var Qr=class Qr extends sr{constructor(t){super();let{publicKeys:n,threshold:o}=t;if(n.length>Qr.MAX_KEYS||n.length<Qr.MIN_KEYS)throw new Error(`Must have between ${Qr.MIN_KEYS} and ${Qr.MAX_KEYS} public keys, inclusive`);if(o<Qr.MIN_THRESHOLD||o>n.length)throw new Error(`Threshold must be between ${Qr.MIN_THRESHOLD} and ${n.length}, inclusive`);this.publicKeys=n,this.threshold=o}toUint8Array(){let t=new Uint8Array(this.publicKeys.length*lt.LENGTH+1);return this.publicKeys.forEach((n,o)=>{t.set(n.toUint8Array(),o*lt.LENGTH)}),t[this.publicKeys.length*lt.LENGTH]=this.threshold,t}toString(){return Ue.fromHexInput(this.toUint8Array()).toString()}verifySignature(t){throw new Error("TODO - Method not implemented.")}serialize(t){t.serializeBytes(this.toUint8Array())}static deserialize(t){let n=t.deserializeBytes(),o=n[n.length-1],i=[];for(let s=0;s<n.length-1;s+=lt.LENGTH){let a=s;i.push(new lt(n.subarray(a,a+lt.LENGTH)))}return new Qr({publicKeys:i,threshold:o})}};Qr.MAX_KEYS=32,Qr.MIN_KEYS=2,Qr.MIN_THRESHOLD=1;var bn=Qr,Yr=class Yr extends tr{constructor(t){super();let{signatures:n,bitmap:o}=t;if(o.length!==Yr.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Yr.BITMAP_LEN}`);if(n.length>Yr.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${Yr.MAX_SIGNATURES_SUPPORTED}`);this.signatures=n,this.bitmap=o}toUint8Array(){let t=new Uint8Array(this.signatures.length*Et.LENGTH+Yr.BITMAP_LEN);return this.signatures.forEach((n,o)=>{t.set(n.toUint8Array(),o*Et.LENGTH)}),t.set(this.bitmap,this.signatures.length*Et.LENGTH),t}toString(){return Ue.fromHexInput(this.toUint8Array()).toString()}static createBitmap(t){let{bits:n}=t,o=128,i=new Uint8Array([0,0,0,0]),s=new Set;return n.forEach(a=>{if(a>=Yr.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${Yr.MAX_SIGNATURES_SUPPORTED-1}.`);if(s.has(a))throw new Error("Duplicate bits detected.");s.add(a);let c=Math.floor(a/8),f=i[c];f|=o>>a%8,i[c]=f}),i}serialize(t){t.serializeBytes(this.toUint8Array())}static deserialize(t){let n=t.deserializeBytes(),o=n.subarray(n.length-4),i=[];for(let s=0;s<n.length-o.length;s+=Et.LENGTH){let a=s;i.push(new Et(n.subarray(a,a+Et.LENGTH)))}return new Yr({signatures:i,bitmap:o})}};Yr.MAX_SIGNATURES_SUPPORTED=32,Yr.BITMAP_LEN=4;var Vi=Yr;function _g(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Gp(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function Cg(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_g(r.outputLen),_g(r.blockLen)}function ua(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Bg(r,e){Gp(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var _f=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Ig=r=>r instanceof Uint8Array;var Cf=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),wn=(r,e)=>r<<32-e|r>>>e,Tv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Tv)throw new Error("Non little-endian hardware is not supported");function Ev(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Tc(r){if(typeof r=="string"&&(r=Ev(r)),!Ig(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Pg(...r){let e=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),t=0;return r.forEach(n=>{if(!Ig(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}var fa=class{clone(){return this._cloneInto()}},s8={}.toString;function Ug(r){let e=n=>r().update(Tc(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Rg(r=32){if(_f&&typeof _f.getRandomValues=="function")return _f.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}function _v(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(t>>o&i),a=Number(t&i),c=n?4:0,f=n?0:4;r.setUint32(e+c,s,n),r.setUint32(e+f,a,n)}var Bf=class extends fa{constructor(e,t,n,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Cf(this.buffer)}update(e){ua(this);let{view:t,buffer:n,blockLen:o}=this;e=Tc(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Cf(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ua(this),Bg(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let l=s;l<o;l++)t[l]=0;_v(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Cf(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,p=this.get();if(f>p.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)a.setUint32(4*l,p[l],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%t&&e.buffer.set(n),e}};var Cv=(r,e,t)=>r&e^~r&t,Bv=(r,e,t)=>r&e^r&t^e&t,Iv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xo=new Uint32Array(64),zp=class extends Bf{constructor(){super(64,32,8,!1),this.A=Jo[0]|0,this.B=Jo[1]|0,this.C=Jo[2]|0,this.D=Jo[3]|0,this.E=Jo[4]|0,this.F=Jo[5]|0,this.G=Jo[6]|0,this.H=Jo[7]|0}get(){let{A:e,B:t,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,t,n,o,i,s,a,c]}set(e,t,n,o,i,s,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)Xo[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){let w=Xo[l-15],h=Xo[l-2],m=wn(w,7)^wn(w,18)^w>>>3,y=wn(h,17)^wn(h,19)^h>>>10;Xo[l]=y+Xo[l-7]+m+Xo[l-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:f,H:p}=this;for(let l=0;l<64;l++){let w=wn(a,6)^wn(a,11)^wn(a,25),h=p+w+Cv(a,c,f)+Iv[l]+Xo[l]|0,y=(wn(n,2)^wn(n,13)^wn(n,22))+Bv(n,o,i)|0;p=f,f=c,c=a,a=s+h|0,s=i,i=o,o=n,n=h+y|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(n,o,i,s,a,c,f,p)}roundClean(){Xo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var If=Ug(()=>new zp);var qp={};yn(qp,{bitGet:()=>Dv,bitLen:()=>Nv,bitMask:()=>Ec,bitSet:()=>Mv,bytesToHex:()=>qi,bytesToNumberBE:()=>Ao,bytesToNumberLE:()=>Rf,concatBytes:()=>la,createHmacDrbg:()=>Vp,ensureBytes:()=>Pr,equalBytes:()=>Ov,hexToBytes:()=>$i,hexToNumber:()=>Fp,numberToBytesBE:()=>Zo,numberToBytesLE:()=>Of,numberToHexUnpadded:()=>Ng,numberToVarBytesBE:()=>Rv,utf8ToBytes:()=>kv,validateObject:()=>ei});var kg=BigInt(0),Pf=BigInt(1),Pv=BigInt(2),Uf=r=>r instanceof Uint8Array,Uv=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function qi(r){if(!Uf(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Uv[r[t]];return e}function Ng(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function Fp(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function $i(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let o=n*2,i=r.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[n]=s}return t}function Ao(r){return Fp(qi(r))}function Rf(r){if(!Uf(r))throw new Error("Uint8Array expected");return Fp(qi(Uint8Array.from(r).reverse()))}function Zo(r,e){return $i(r.toString(16).padStart(e*2,"0"))}function Of(r,e){return Zo(r,e).reverse()}function Rv(r){return $i(Ng(r))}function Pr(r,e,t){let n;if(typeof e=="string")try{n=$i(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Uf(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let o=n.length;if(typeof t=="number"&&o!==t)throw new Error(`${r} expected ${t} bytes, got ${o}`);return n}function la(...r){let e=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),t=0;return r.forEach(n=>{if(!Uf(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function Ov(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function kv(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Nv(r){let e;for(e=0;r>kg;r>>=Pf,e+=1);return e}function Dv(r,e){return r>>BigInt(e)&Pf}var Mv=(r,e,t)=>r|(t?Pf:kg)<<BigInt(e),Ec=r=>(Pv<<BigInt(r-1))-Pf,Kp=r=>new Uint8Array(r),Og=r=>Uint8Array.from(r);function Vp(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=Kp(r),o=Kp(r),i=0,s=()=>{n.fill(1),o.fill(0),i=0},a=(...l)=>t(o,n,...l),c=(l=Kp())=>{o=a(Og([0]),l),n=a(),l.length!==0&&(o=a(Og([1]),l),n=a())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,w=[];for(;l<e;){n=a();let h=n.slice();w.push(h),l+=n.length}return la(...w)};return(l,w)=>{s(),c(l);let h;for(;!(h=w(f()));)c();return s(),h}}var Lv={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function ei(r,e,t={}){let n=(o,i,s)=>{let a=Lv[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=r[o];if(!(s&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${i}`)};for(let[o,i]of Object.entries(e))n(o,i,!1);for(let[o,i]of Object.entries(t))n(o,i,!0);return r}var Mt=BigInt(0),_t=BigInt(1),ji=BigInt(2),Hv=BigInt(3),$p=BigInt(4),Dg=BigInt(5),Mg=BigInt(8),Gv=BigInt(9),zv=BigInt(16);function rr(r,e){let t=r%e;return t>=Mt?t:e+t}function Kv(r,e,t){if(t<=Mt||e<Mt)throw new Error("Expected power/modulo > 0");if(t===_t)return Mt;let n=_t;for(;e>Mt;)e&_t&&(n=n*r%t),r=r*r%t,e>>=_t;return n}function Ur(r,e,t){let n=r;for(;e-- >Mt;)n*=n,n%=t;return n}function kf(r,e){if(r===Mt||e<=Mt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=rr(r,e),n=e,o=Mt,i=_t,s=_t,a=Mt;for(;t!==Mt;){let f=n/t,p=n%t,l=o-s*f,w=i-a*f;n=t,t=p,o=s,i=a,s=l,a=w}if(n!==_t)throw new Error("invert: does not exist");return rr(o,e)}function Fv(r){let e=(r-_t)/ji,t,n,o;for(t=r-_t,n=0;t%ji===Mt;t/=ji,n++);for(o=ji;o<r&&Kv(o,e,r)!==r-_t;o++);if(n===1){let s=(r+_t)/$p;return function(c,f){let p=c.pow(f,s);if(!c.eql(c.sqr(p),f))throw new Error("Cannot find square root");return p}}let i=(t+_t)/ji;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,p=a.pow(a.mul(a.ONE,o),t),l=a.pow(c,i),w=a.pow(c,t);for(;!a.eql(w,a.ONE);){if(a.eql(w,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(w);h<f&&!a.eql(y,a.ONE);h++)y=a.sqr(y);let m=a.pow(p,_t<<BigInt(f-h-1));p=a.sqr(m),l=a.mul(l,m),w=a.mul(w,p),f=h}return l}}function Vv(r){if(r%$p===Hv){let e=(r+_t)/$p;return function(n,o){let i=n.pow(o,e);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%Mg===Dg){let e=(r-Dg)/Mg;return function(n,o){let i=n.mul(o,ji),s=n.pow(i,e),a=n.mul(o,s),c=n.mul(n.mul(a,ji),s),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),o))throw new Error("Cannot find square root");return f}}return r%zv,Fv(r)}var qv=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jp(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=qv.reduce((n,o)=>(n[o]="function",n),e);return ei(r,t)}function $v(r,e,t){if(t<Mt)throw new Error("Expected power > 0");if(t===Mt)return r.ONE;if(t===_t)return e;let n=r.ONE,o=e;for(;t>Mt;)t&_t&&(n=r.mul(n,o)),o=r.sqr(o),t>>=_t;return n}function jv(r,e){let t=new Array(e.length),n=e.reduce((i,s,a)=>r.is0(s)?i:(t[a]=i,r.mul(i,s)),r.ONE),o=r.inv(n);return e.reduceRight((i,s,a)=>r.is0(s)?i:(t[a]=r.mul(i,t[a]),r.mul(i,s)),o),t}function Wp(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Nf(r,e,t=!1,n={}){if(r<=Mt)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:o,nByteLength:i}=Wp(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Vv(r),a=Object.freeze({ORDER:r,BITS:o,BYTES:i,MASK:Ec(o),ZERO:Mt,ONE:_t,create:c=>rr(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Mt<=c&&c<r},is0:c=>c===Mt,isOdd:c=>(c&_t)===_t,neg:c=>rr(-c,r),eql:(c,f)=>c===f,sqr:c=>rr(c*c,r),add:(c,f)=>rr(c+f,r),sub:(c,f)=>rr(c-f,r),mul:(c,f)=>rr(c*f,r),pow:(c,f)=>$v(a,c,f),div:(c,f)=>rr(c*kf(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>kf(c,r),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>jv(a,c),cmov:(c,f,p)=>p?f:c,toBytes:c=>t?Of(c,i):Zo(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Rf(c):Ao(c)}});return Object.freeze(a)}function Lg(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}function Qp(r){let e=Lg(r);return e+Math.ceil(e/2)}function Hg(r,e,t=!1){let n=r.length,o=Lg(e),i=Qp(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let s=t?Ao(r):Rf(r),a=rr(s,e-_t)+_t;return t?Of(a,o):Zo(a,o)}var Qv=BigInt(0),Yp=BigInt(1);function Gg(r,e){let t=(o,i)=>{let s=i.negate();return o?s:i},n=o=>{let i=Math.ceil(e/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:t,unsafeLadder(o,i){let s=r.ZERO,a=o;for(;i>Qv;)i&Yp&&(s=s.add(a)),a=a.double(),i>>=Yp;return s},precomputeWindow(o,i){let{windows:s,windowSize:a}=n(i),c=[],f=o,p=f;for(let l=0;l<s;l++){p=f,c.push(p);for(let w=1;w<a;w++)p=p.add(f),c.push(p);f=p.double()}return c},wNAF(o,i,s){let{windows:a,windowSize:c}=n(o),f=r.ZERO,p=r.BASE,l=BigInt(2**o-1),w=2**o,h=BigInt(o);for(let m=0;m<a;m++){let y=m*c,b=Number(s&l);s>>=h,b>c&&(b-=w,s+=Yp);let S=y,P=y+Math.abs(b)-1,D=m%2!==0,$=b<0;b===0?p=p.add(t(D,i[S])):f=f.add(t($,i[P]))}return{p:f,f:p}},wNAFCached(o,i,s,a){let c=o._WINDOW_SIZE||1,f=i.get(o);return f||(f=this.precomputeWindow(o,c),c!==1&&i.set(o,a(f))),this.wNAF(c,f,s)}}}function Jp(r){return jp(r.Fp),ei(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Wp(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function Yv(r){let e=Jp(r);ei(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:o}=e;if(t){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Jv,hexToBytes:Xv}=qp,Wi={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=Wi;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Jv(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=Wi,t=typeof r=="string"?Xv(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:o,l:i}=Wi._parseInt(t.subarray(2)),{d:s,l:a}=Wi._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let p=f.toString(16);return p.length&1?`0${p}`:p},n=e(t(r.s)),o=e(t(r.r)),i=n.length/2,s=o.length/2,a=t(i),c=t(s);return`30${t(s+i+4)}02${c}${o}02${a}${n}`}},xo=BigInt(0),Jr=BigInt(1),w8=BigInt(2),zg=BigInt(3),v8=BigInt(4);function Zv(r){let e=Yv(r),{Fp:t}=e,n=e.toBytes||((m,y,b)=>{let S=y.toAffine();return la(Uint8Array.from([4]),t.toBytes(S.x),t.toBytes(S.y))}),o=e.fromBytes||(m=>{let y=m.subarray(1),b=t.fromBytes(y.subarray(0,t.BYTES)),S=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:b,y:S}});function i(m){let{a:y,b}=e,S=t.sqr(m),P=t.mul(S,m);return t.add(t.add(P,t.mul(m,y)),b)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function s(m){return typeof m=="bigint"&&xo<m&&m<e.n}function a(m){if(!s(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){let{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:S,n:P}=e;if(y&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=qi(m)),typeof m!="string"||!y.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let D;try{D=typeof m=="bigint"?m:Ao(Pr("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return S&&(D=rr(D,P)),a(D),D}let f=new Map;function p(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(y,b,S){if(this.px=y,this.py=b,this.pz=S,y==null||!t.isValid(y))throw new Error("x required");if(b==null||!t.isValid(b))throw new Error("y required");if(S==null||!t.isValid(S))throw new Error("z required")}static fromAffine(y){let{x:b,y:S}=y||{};if(!y||!t.isValid(b)||!t.isValid(S))throw new Error("invalid affine point");if(y instanceof l)throw new Error("projective point not allowed");let P=D=>t.eql(D,t.ZERO);return P(b)&&P(S)?l.ZERO:new l(b,S,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let b=t.invertBatch(y.map(S=>S.pz));return y.map((S,P)=>S.toAffine(b[P])).map(l.fromAffine)}static fromHex(y){let b=l.fromAffine(o(Pr("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return l.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:y,y:b}=this.toAffine();if(!t.isValid(y)||!t.isValid(b))throw new Error("bad point: x or y not FE");let S=t.sqr(b),P=i(y);if(!t.eql(S,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y}=this.toAffine();if(t.isOdd)return!t.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){p(y);let{px:b,py:S,pz:P}=this,{px:D,py:$,pz:W}=y,V=t.eql(t.mul(b,W),t.mul(D,P)),Z=t.eql(t.mul(S,W),t.mul($,P));return V&&Z}negate(){return new l(this.px,t.neg(this.py),this.pz)}double(){let{a:y,b}=e,S=t.mul(b,zg),{px:P,py:D,pz:$}=this,W=t.ZERO,V=t.ZERO,Z=t.ZERO,X=t.mul(P,P),_e=t.mul(D,D),de=t.mul($,$),B=t.mul(P,D);return B=t.add(B,B),Z=t.mul(P,$),Z=t.add(Z,Z),W=t.mul(y,Z),V=t.mul(S,de),V=t.add(W,V),W=t.sub(_e,V),V=t.add(_e,V),V=t.mul(W,V),W=t.mul(B,W),Z=t.mul(S,Z),de=t.mul(y,de),B=t.sub(X,de),B=t.mul(y,B),B=t.add(B,Z),Z=t.add(X,X),X=t.add(Z,X),X=t.add(X,de),X=t.mul(X,B),V=t.add(V,X),de=t.mul(D,$),de=t.add(de,de),X=t.mul(de,B),W=t.sub(W,X),Z=t.mul(de,_e),Z=t.add(Z,Z),Z=t.add(Z,Z),new l(W,V,Z)}add(y){p(y);let{px:b,py:S,pz:P}=this,{px:D,py:$,pz:W}=y,V=t.ZERO,Z=t.ZERO,X=t.ZERO,_e=e.a,de=t.mul(e.b,zg),B=t.mul(b,D),F=t.mul(S,$),ie=t.mul(P,W),U=t.add(b,S),T=t.add(D,$);U=t.mul(U,T),T=t.add(B,F),U=t.sub(U,T),T=t.add(b,P);let E=t.add(D,W);return T=t.mul(T,E),E=t.add(B,ie),T=t.sub(T,E),E=t.add(S,P),V=t.add($,W),E=t.mul(E,V),V=t.add(F,ie),E=t.sub(E,V),X=t.mul(_e,T),V=t.mul(de,ie),X=t.add(V,X),V=t.sub(F,X),X=t.add(F,X),Z=t.mul(V,X),F=t.add(B,B),F=t.add(F,B),ie=t.mul(_e,ie),T=t.mul(de,T),F=t.add(F,ie),ie=t.sub(B,ie),ie=t.mul(_e,ie),T=t.add(T,ie),B=t.mul(F,T),Z=t.add(Z,B),B=t.mul(E,T),V=t.mul(U,V),V=t.sub(V,B),B=t.mul(U,F),X=t.mul(E,X),X=t.add(X,B),new l(V,Z,X)}subtract(y){return this.add(y.negate())}is0(){return this.equals(l.ZERO)}wNAF(y){return h.wNAFCached(this,f,y,b=>{let S=t.invertBatch(b.map(P=>P.pz));return b.map((P,D)=>P.toAffine(S[D])).map(l.fromAffine)})}multiplyUnsafe(y){let b=l.ZERO;if(y===xo)return b;if(a(y),y===Jr)return this;let{endo:S}=e;if(!S)return h.unsafeLadder(this,y);let{k1neg:P,k1:D,k2neg:$,k2:W}=S.splitScalar(y),V=b,Z=b,X=this;for(;D>xo||W>xo;)D&Jr&&(V=V.add(X)),W&Jr&&(Z=Z.add(X)),X=X.double(),D>>=Jr,W>>=Jr;return P&&(V=V.negate()),$&&(Z=Z.negate()),Z=new l(t.mul(Z.px,S.beta),Z.py,Z.pz),V.add(Z)}multiply(y){a(y);let b=y,S,P,{endo:D}=e;if(D){let{k1neg:$,k1:W,k2neg:V,k2:Z}=D.splitScalar(b),{p:X,f:_e}=this.wNAF(W),{p:de,f:B}=this.wNAF(Z);X=h.constTimeNegate($,X),de=h.constTimeNegate(V,de),de=new l(t.mul(de.px,D.beta),de.py,de.pz),S=X.add(de),P=_e.add(B)}else{let{p:$,f:W}=this.wNAF(b);S=$,P=W}return l.normalizeZ([S,P])[0]}multiplyAndAddUnsafe(y,b,S){let P=l.BASE,D=(W,V)=>V===xo||V===Jr||!W.equals(P)?W.multiplyUnsafe(V):W.multiply(V),$=D(this,b).add(D(y,S));return $.is0()?void 0:$}toAffine(y){let{px:b,py:S,pz:P}=this,D=this.is0();y==null&&(y=D?t.ONE:t.inv(P));let $=t.mul(b,y),W=t.mul(S,y),V=t.mul(P,y);if(D)return{x:t.ZERO,y:t.ZERO};if(!t.eql(V,t.ONE))throw new Error("invZ was invalid");return{x:$,y:W}}isTorsionFree(){let{h:y,isTorsionFree:b}=e;if(y===Jr)return!0;if(b)return b(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:b}=e;return y===Jr?this:b?b(l,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),n(l,this,y)}toHex(y=!0){return qi(this.toRawBytes(y))}}l.BASE=new l(e.Gx,e.Gy,t.ONE),l.ZERO=new l(t.ZERO,t.ONE,t.ZERO);let w=e.nBitLength,h=Gg(l,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function eS(r){let e=Jp(r);return ei(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Kg(r){let e=eS(r),{Fp:t,n}=e,o=t.BYTES+1,i=2*t.BYTES+1;function s(T){return xo<T&&T<t.ORDER}function a(T){return rr(T,n)}function c(T){return kf(T,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:w}=Zv({...e,toBytes(T,E,k){let L=E.toAffine(),K=t.toBytes(L.x),ne=la;return k?ne(Uint8Array.from([E.hasEvenY()?2:3]),K):ne(Uint8Array.from([4]),K,t.toBytes(L.y))},fromBytes(T){let E=T.length,k=T[0],L=T.subarray(1);if(E===o&&(k===2||k===3)){let K=Ao(L);if(!s(K))throw new Error("Point is not on curve");let ne=l(K),ce=t.sqrt(ne),oe=(ce&Jr)===Jr;return(k&1)===1!==oe&&(ce=t.neg(ce)),{x:K,y:ce}}else if(E===i&&k===4){let K=t.fromBytes(L.subarray(0,t.BYTES)),ne=t.fromBytes(L.subarray(t.BYTES,2*t.BYTES));return{x:K,y:ne}}else throw new Error(`Point of length ${E} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),h=T=>qi(Zo(T,e.nByteLength));function m(T){let E=n>>Jr;return T>E}function y(T){return m(T)?a(-T):T}let b=(T,E,k)=>Ao(T.slice(E,k));class S{constructor(E,k,L){this.r=E,this.s=k,this.recovery=L,this.assertValidity()}static fromCompact(E){let k=e.nByteLength;return E=Pr("compactSignature",E,k*2),new S(b(E,0,k),b(E,k,2*k))}static fromDER(E){let{r:k,s:L}=Wi.toSig(Pr("DER",E));return new S(k,L)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new S(this.r,this.s,E)}recoverPublicKey(E){let{r:k,s:L,recovery:K}=this,ne=Z(Pr("msgHash",E));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");let ce=K===2||K===3?k+e.n:k;if(ce>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let oe=K&1?"03":"02",ye=f.fromHex(oe+h(ce)),ve=c(ce),pt=a(-ne*ve),gr=a(L*ve),Rt=f.BASE.multiplyAndAddUnsafe(ye,pt,gr);if(!Rt)throw new Error("point at infinify");return Rt.assertValidity(),Rt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return $i(this.toDERHex())}toDERHex(){return Wi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $i(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let P={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let T=Qp(e.n);return Hg(e.randomBytes(T),e.n)},precompute(T=8,E=f.BASE){return E._setWindowSize(T),E.multiply(BigInt(3)),E}};function D(T,E=!0){return f.fromPrivateKey(T).toRawBytes(E)}function $(T){let E=T instanceof Uint8Array,k=typeof T=="string",L=(E||k)&&T.length;return E?L===o||L===i:k?L===2*o||L===2*i:T instanceof f}function W(T,E,k=!0){if($(T))throw new Error("first arg must be private key");if(!$(E))throw new Error("second arg must be public key");return f.fromHex(E).multiply(p(T)).toRawBytes(k)}let V=e.bits2int||function(T){let E=Ao(T),k=T.length*8-e.nBitLength;return k>0?E>>BigInt(k):E},Z=e.bits2int_modN||function(T){return a(V(T))},X=Ec(e.nBitLength);function _e(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(xo<=T&&T<X))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Zo(T,e.nByteLength)}function de(T,E,k=B){if(["recovered","canonical"].some(Ot=>Ot in k))throw new Error("sign() legacy options not supported");let{hash:L,randomBytes:K}=e,{lowS:ne,prehash:ce,extraEntropy:oe}=k;ne==null&&(ne=!0),T=Pr("msgHash",T),ce&&(T=Pr("prehashed msgHash",L(T)));let ye=Z(T),ve=p(E),pt=[_e(ve),_e(ye)];if(oe!=null){let Ot=oe===!0?K(t.BYTES):oe;pt.push(Pr("extraEntropy",Ot))}let gr=la(...pt),Rt=ye;function Fr(Ot){let Yt=V(Ot);if(!w(Yt))return;let Mn=c(Yt),mt=f.BASE.multiply(Yt).toAffine(),or=a(mt.x);if(or===xo)return;let hn=a(Mn*a(Rt+or*ve));if(hn===xo)return;let Oi=(mt.x===or?0:2)|Number(mt.y&Jr),Ho=hn;return ne&&m(hn)&&(Ho=y(hn),Oi^=1),new S(or,Ho,Oi)}return{seed:gr,k2sig:Fr}}let B={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function ie(T,E,k=B){let{seed:L,k2sig:K}=de(T,E,k),ne=e;return Vp(ne.hash.outputLen,ne.nByteLength,ne.hmac)(L,K)}f.BASE._setWindowSize(8);function U(T,E,k,L=F){let K=T;if(E=Pr("msgHash",E),k=Pr("publicKey",k),"strict"in L)throw new Error("options.strict was renamed to lowS");let{lowS:ne,prehash:ce}=L,oe,ye;try{if(typeof K=="string"||K instanceof Uint8Array)try{oe=S.fromDER(K)}catch(mt){if(!(mt instanceof Wi.Err))throw mt;oe=S.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){let{r:mt,s:or}=K;oe=new S(mt,or)}else throw new Error("PARSE");ye=f.fromHex(k)}catch(mt){if(mt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ne&&oe.hasHighS())return!1;ce&&(E=e.hash(E));let{r:ve,s:pt}=oe,gr=Z(E),Rt=c(pt),Fr=a(gr*Rt),Ot=a(ve*Rt),Yt=f.BASE.multiplyAndAddUnsafe(ye,Fr,Ot)?.toAffine();return Yt?a(Yt.x)===ve:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:W,sign:ie,verify:U,ProjectivePoint:f,Signature:S,utils:P}}var Df=class extends fa{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Cg(e);let n=Tc(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ua(this),this.iHash.update(e),this}digestInto(e){ua(this),Gp(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Xp=(r,e,t)=>new Df(r,e).update(t).digest();Xp.create=(r,e)=>new Df(r,e);function tS(r){return{hash:r,hmac:(e,...t)=>Xp(r,e,Pg(...t)),randomBytes:Rg}}function Mf(r,e){let t=n=>Kg({...r,...tS(n)});return Object.freeze({...t(e),create:t})}var qg=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rS=BigInt(1),Zp=BigInt(2),Vg=(r,e)=>(r+e/Zp)/e;function nS(r){let e=qg,t=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,p=f*f*r%e,l=Ur(p,t,e)*p%e,w=Ur(l,t,e)*p%e,h=Ur(w,Zp,e)*f%e,m=Ur(h,o,e)*h%e,y=Ur(m,i,e)*m%e,b=Ur(y,a,e)*y%e,S=Ur(b,c,e)*b%e,P=Ur(S,a,e)*y%e,D=Ur(P,t,e)*p%e,$=Ur(D,s,e)*m%e,W=Ur($,n,e)*f%e,V=Ur(W,Zp,e);if(!eh.eql(eh.sqr(V),r))throw new Error("Cannot find square root");return V}var eh=Nf(qg,void 0,void 0,{sqrt:nS}),da=Mf({a:BigInt(0),b:BigInt(7),Fp:eh,n:Fg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=Fg,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-rS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,s=BigInt("0x100000000000000000000000000000000"),a=Vg(i*r,e),c=Vg(-n*r,e),f=rr(r-a*t-c*o,e),p=rr(-a*n-c*i,e),l=f>s,w=p>s;if(l&&(f=e-f),w&&(p=e-p),f>s||p>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:l,k1:f,k2neg:w,k2:p}}}},If),k8=BigInt(0);var N8=da.ProjectivePoint;var oS=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),jg=Uint8Array.from({length:16},(r,e)=>e),iS=jg.map(r=>(9*r+5)%16),rh=[jg],nh=[iS];for(let r=0;r<4;r++)for(let e of[rh,nh])e.push(e[r].map(t=>oS[t]));var Wg=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),sS=rh.map((r,e)=>r.map(t=>Wg[e][t])),aS=nh.map((r,e)=>r.map(t=>Wg[e][t])),cS=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),uS=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Lf=(r,e)=>r<<e|r>>>32-e;function $g(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}var Hf=new Uint32Array(16),th=class extends Vo{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:n,h3:o,h4:i}=this;return[e,t,n,o,i]}set(e,t,n,o,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,t){for(let h=0;h<16;h++,t+=4)Hf[h]=e.getUint32(t,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,a=this.h2|0,c=a,f=this.h3|0,p=f,l=this.h4|0,w=l;for(let h=0;h<5;h++){let m=4-h,y=cS[h],b=uS[h],S=rh[h],P=nh[h],D=sS[h],$=aS[h];for(let W=0;W<16;W++){let V=Lf(n+$g(h,i,a,f)+Hf[S[W]]+y,D[W])+l|0;n=l,l=f,f=Lf(a,10)|0,a=i,i=V}for(let W=0;W<16;W++){let V=Lf(o+$g(m,s,c,p)+Hf[P[W]]+b,$[W])+w|0;o=w,w=p,p=Lf(c,10)|0,c=s,s=V}}this.set(this.h1+a+p|0,this.h2+f+w|0,this.h3+l+o|0,this.h4+n+s|0,this.h0+i+c|0)}roundClean(){Hf.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Qg=zo(()=>new th);var ah={};yn(ah,{bitGet:()=>mS,bitLen:()=>yS,bitMask:()=>_c,bitSet:()=>gS,bytesToHex:()=>Qi,bytesToNumberBE:()=>wo,bytesToNumberLE:()=>zf,concatBytes:()=>pa,createHmacDrbg:()=>sh,ensureBytes:()=>Rr,equalBytes:()=>pS,hexToBytes:()=>Yi,hexToNumber:()=>ih,isBytes:()=>vn,numberToBytesBE:()=>ti,numberToBytesLE:()=>Kf,numberToHexUnpadded:()=>Zg,numberToVarBytesBE:()=>dS,utf8ToBytes:()=>hS,validateObject:()=>ri});var Xg=BigInt(0),Gf=BigInt(1),fS=BigInt(2);function vn(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}var lS=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Qi(r){if(!vn(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=lS[r[t]];return e}function Zg(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function ih(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}var bo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Yg(r){if(r>=bo._0&&r<=bo._9)return r-bo._0;if(r>=bo._A&&r<=bo._F)return r-(bo._A-10);if(r>=bo._a&&r<=bo._f)return r-(bo._a-10)}function Yi(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(t);for(let o=0,i=0;o<t;o++,i+=2){let s=Yg(r.charCodeAt(i)),a=Yg(r.charCodeAt(i+1));if(s===void 0||a===void 0){let c=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function wo(r){return ih(Qi(r))}function zf(r){if(!vn(r))throw new Error("Uint8Array expected");return ih(Qi(Uint8Array.from(r).reverse()))}function ti(r,e){return Yi(r.toString(16).padStart(e*2,"0"))}function Kf(r,e){return ti(r,e).reverse()}function dS(r){return Yi(Zg(r))}function Rr(r,e,t){let n;if(typeof e=="string")try{n=Yi(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(vn(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let o=n.length;if(typeof t=="number"&&o!==t)throw new Error(`${r} expected ${t} bytes, got ${o}`);return n}function pa(...r){let e=0;for(let o=0;o<r.length;o++){let i=r[o];if(!vn(i))throw new Error("Uint8Array expected");e+=i.length}let t=new Uint8Array(e),n=0;for(let o=0;o<r.length;o++){let i=r[o];t.set(i,n),n+=i.length}return t}function pS(r,e){if(r.length!==e.length)return!1;let t=0;for(let n=0;n<r.length;n++)t|=r[n]^e[n];return t===0}function hS(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function yS(r){let e;for(e=0;r>Xg;r>>=Gf,e+=1);return e}function mS(r,e){return r>>BigInt(e)&Gf}var gS=(r,e,t)=>r|(t?Gf:Xg)<<BigInt(e),_c=r=>(fS<<BigInt(r-1))-Gf,oh=r=>new Uint8Array(r),Jg=r=>Uint8Array.from(r);function sh(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=oh(r),o=oh(r),i=0,s=()=>{n.fill(1),o.fill(0),i=0},a=(...l)=>t(o,n,...l),c=(l=oh())=>{o=a(Jg([0]),l),n=a(),l.length!==0&&(o=a(Jg([1]),l),n=a())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,w=[];for(;l<e;){n=a();let h=n.slice();w.push(h),l+=n.length}return pa(...w)};return(l,w)=>{s(),c(l);let h;for(;!(h=w(f()));)c();return s(),h}}var AS={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||vn(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function ri(r,e,t={}){let n=(o,i,s)=>{let a=AS[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=r[o];if(!(s&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${i}`)};for(let[o,i]of Object.entries(e))n(o,i,!1);for(let[o,i]of Object.entries(t))n(o,i,!0);return r}var Lt=BigInt(0),Ct=BigInt(1),Ji=BigInt(2),xS=BigInt(3),ch=BigInt(4),e0=BigInt(5),t0=BigInt(8),bS=BigInt(9),wS=BigInt(16);function Vt(r,e){let t=r%e;return t>=Lt?t:e+t}function vS(r,e,t){if(t<=Lt||e<Lt)throw new Error("Expected power/modulo > 0");if(t===Ct)return Lt;let n=Ct;for(;e>Lt;)e&Ct&&(n=n*r%t),r=r*r%t,e>>=Ct;return n}function Or(r,e,t){let n=r;for(;e-- >Lt;)n*=n,n%=t;return n}function Ff(r,e){if(r===Lt||e<=Lt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Vt(r,e),n=e,o=Lt,i=Ct,s=Ct,a=Lt;for(;t!==Lt;){let f=n/t,p=n%t,l=o-s*f,w=i-a*f;n=t,t=p,o=s,i=a,s=l,a=w}if(n!==Ct)throw new Error("invert: does not exist");return Vt(o,e)}function SS(r){let e=(r-Ct)/Ji,t,n,o;for(t=r-Ct,n=0;t%Ji===Lt;t/=Ji,n++);for(o=Ji;o<r&&vS(o,e,r)!==r-Ct;o++);if(n===1){let s=(r+Ct)/ch;return function(c,f){let p=c.pow(f,s);if(!c.eql(c.sqr(p),f))throw new Error("Cannot find square root");return p}}let i=(t+Ct)/Ji;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,p=a.pow(a.mul(a.ONE,o),t),l=a.pow(c,i),w=a.pow(c,t);for(;!a.eql(w,a.ONE);){if(a.eql(w,a.ZERO))return a.ZERO;let h=1;for(let y=a.sqr(w);h<f&&!a.eql(y,a.ONE);h++)y=a.sqr(y);let m=a.pow(p,Ct<<BigInt(f-h-1));p=a.sqr(m),l=a.mul(l,m),w=a.mul(w,p),f=h}return l}}function TS(r){if(r%ch===xS){let e=(r+Ct)/ch;return function(n,o){let i=n.pow(o,e);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%t0===e0){let e=(r-e0)/t0;return function(n,o){let i=n.mul(o,Ji),s=n.pow(i,e),a=n.mul(o,s),c=n.mul(n.mul(a,Ji),s),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),o))throw new Error("Cannot find square root");return f}}return r%wS,SS(r)}var ES=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uh(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=ES.reduce((n,o)=>(n[o]="function",n),e);return ri(r,t)}function _S(r,e,t){if(t<Lt)throw new Error("Expected power > 0");if(t===Lt)return r.ONE;if(t===Ct)return e;let n=r.ONE,o=e;for(;t>Lt;)t&Ct&&(n=r.mul(n,o)),o=r.sqr(o),t>>=Ct;return n}function CS(r,e){let t=new Array(e.length),n=e.reduce((i,s,a)=>r.is0(s)?i:(t[a]=i,r.mul(i,s)),r.ONE),o=r.inv(n);return e.reduceRight((i,s,a)=>r.is0(s)?i:(t[a]=r.mul(i,t[a]),r.mul(i,s)),o),t}function fh(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function r0(r,e,t=!1,n={}){if(r<=Lt)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:o,nByteLength:i}=fh(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=TS(r),a=Object.freeze({ORDER:r,BITS:o,BYTES:i,MASK:_c(o),ZERO:Lt,ONE:Ct,create:c=>Vt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Lt<=c&&c<r},is0:c=>c===Lt,isOdd:c=>(c&Ct)===Ct,neg:c=>Vt(-c,r),eql:(c,f)=>c===f,sqr:c=>Vt(c*c,r),add:(c,f)=>Vt(c+f,r),sub:(c,f)=>Vt(c-f,r),mul:(c,f)=>Vt(c*f,r),pow:(c,f)=>_S(a,c,f),div:(c,f)=>Vt(c*Ff(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>Ff(c,r),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>CS(a,c),cmov:(c,f,p)=>p?f:c,toBytes:c=>t?Kf(c,i):ti(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?zf(c):wo(c)}});return Object.freeze(a)}function n0(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}function lh(r){let e=n0(r);return e+Math.ceil(e/2)}function o0(r,e,t=!1){let n=r.length,o=n0(e),i=lh(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let s=t?wo(r):zf(r),a=Vt(s,e-Ct)+Ct;return t?Kf(a,o):ti(a,o)}var IS=BigInt(0),dh=BigInt(1);function i0(r,e){let t=(o,i)=>{let s=i.negate();return o?s:i},n=o=>{let i=Math.ceil(e/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:t,unsafeLadder(o,i){let s=r.ZERO,a=o;for(;i>IS;)i&dh&&(s=s.add(a)),a=a.double(),i>>=dh;return s},precomputeWindow(o,i){let{windows:s,windowSize:a}=n(i),c=[],f=o,p=f;for(let l=0;l<s;l++){p=f,c.push(p);for(let w=1;w<a;w++)p=p.add(f),c.push(p);f=p.double()}return c},wNAF(o,i,s){let{windows:a,windowSize:c}=n(o),f=r.ZERO,p=r.BASE,l=BigInt(2**o-1),w=2**o,h=BigInt(o);for(let m=0;m<a;m++){let y=m*c,b=Number(s&l);s>>=h,b>c&&(b-=w,s+=dh);let S=y,P=y+Math.abs(b)-1,D=m%2!==0,$=b<0;b===0?p=p.add(t(D,i[S])):f=f.add(t($,i[P]))}return{p:f,f:p}},wNAFCached(o,i,s,a){let c=o._WINDOW_SIZE||1,f=i.get(o);return f||(f=this.precomputeWindow(o,c),c!==1&&i.set(o,a(f))),this.wNAF(c,f,s)}}}function ph(r){return uh(r.Fp),ri(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...fh(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function PS(r){let e=ph(r);ri(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:o}=e;if(t){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:US,hexToBytes:RS}=ah,Xi={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=Xi;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:US(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=Xi,t=typeof r=="string"?RS(r):r;if(!vn(t))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:o,l:i}=Xi._parseInt(t.subarray(2)),{d:s,l:a}=Xi._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let p=f.toString(16);return p.length&1?`0${p}`:p},n=e(t(r.s)),o=e(t(r.r)),i=n.length/2,s=o.length/2,a=t(i),c=t(s);return`30${t(s+i+4)}02${c}${o}02${a}${n}`}},vo=BigInt(0),Xr=BigInt(1),j8=BigInt(2),s0=BigInt(3),W8=BigInt(4);function OS(r){let e=PS(r),{Fp:t}=e,n=e.toBytes||((m,y,b)=>{let S=y.toAffine();return pa(Uint8Array.from([4]),t.toBytes(S.x),t.toBytes(S.y))}),o=e.fromBytes||(m=>{let y=m.subarray(1),b=t.fromBytes(y.subarray(0,t.BYTES)),S=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:b,y:S}});function i(m){let{a:y,b}=e,S=t.sqr(m),P=t.mul(S,m);return t.add(t.add(P,t.mul(m,y)),b)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function s(m){return typeof m=="bigint"&&vo<m&&m<e.n}function a(m){if(!s(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){let{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:S,n:P}=e;if(y&&typeof m!="bigint"){if(vn(m)&&(m=Qi(m)),typeof m!="string"||!y.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let D;try{D=typeof m=="bigint"?m:wo(Rr("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return S&&(D=Vt(D,P)),a(D),D}let f=new Map;function p(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(y,b,S){if(this.px=y,this.py=b,this.pz=S,y==null||!t.isValid(y))throw new Error("x required");if(b==null||!t.isValid(b))throw new Error("y required");if(S==null||!t.isValid(S))throw new Error("z required")}static fromAffine(y){let{x:b,y:S}=y||{};if(!y||!t.isValid(b)||!t.isValid(S))throw new Error("invalid affine point");if(y instanceof l)throw new Error("projective point not allowed");let P=D=>t.eql(D,t.ZERO);return P(b)&&P(S)?l.ZERO:new l(b,S,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let b=t.invertBatch(y.map(S=>S.pz));return y.map((S,P)=>S.toAffine(b[P])).map(l.fromAffine)}static fromHex(y){let b=l.fromAffine(o(Rr("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return l.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:y,y:b}=this.toAffine();if(!t.isValid(y)||!t.isValid(b))throw new Error("bad point: x or y not FE");let S=t.sqr(b),P=i(y);if(!t.eql(S,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y}=this.toAffine();if(t.isOdd)return!t.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){p(y);let{px:b,py:S,pz:P}=this,{px:D,py:$,pz:W}=y,V=t.eql(t.mul(b,W),t.mul(D,P)),Z=t.eql(t.mul(S,W),t.mul($,P));return V&&Z}negate(){return new l(this.px,t.neg(this.py),this.pz)}double(){let{a:y,b}=e,S=t.mul(b,s0),{px:P,py:D,pz:$}=this,W=t.ZERO,V=t.ZERO,Z=t.ZERO,X=t.mul(P,P),_e=t.mul(D,D),de=t.mul($,$),B=t.mul(P,D);return B=t.add(B,B),Z=t.mul(P,$),Z=t.add(Z,Z),W=t.mul(y,Z),V=t.mul(S,de),V=t.add(W,V),W=t.sub(_e,V),V=t.add(_e,V),V=t.mul(W,V),W=t.mul(B,W),Z=t.mul(S,Z),de=t.mul(y,de),B=t.sub(X,de),B=t.mul(y,B),B=t.add(B,Z),Z=t.add(X,X),X=t.add(Z,X),X=t.add(X,de),X=t.mul(X,B),V=t.add(V,X),de=t.mul(D,$),de=t.add(de,de),X=t.mul(de,B),W=t.sub(W,X),Z=t.mul(de,_e),Z=t.add(Z,Z),Z=t.add(Z,Z),new l(W,V,Z)}add(y){p(y);let{px:b,py:S,pz:P}=this,{px:D,py:$,pz:W}=y,V=t.ZERO,Z=t.ZERO,X=t.ZERO,_e=e.a,de=t.mul(e.b,s0),B=t.mul(b,D),F=t.mul(S,$),ie=t.mul(P,W),U=t.add(b,S),T=t.add(D,$);U=t.mul(U,T),T=t.add(B,F),U=t.sub(U,T),T=t.add(b,P);let E=t.add(D,W);return T=t.mul(T,E),E=t.add(B,ie),T=t.sub(T,E),E=t.add(S,P),V=t.add($,W),E=t.mul(E,V),V=t.add(F,ie),E=t.sub(E,V),X=t.mul(_e,T),V=t.mul(de,ie),X=t.add(V,X),V=t.sub(F,X),X=t.add(F,X),Z=t.mul(V,X),F=t.add(B,B),F=t.add(F,B),ie=t.mul(_e,ie),T=t.mul(de,T),F=t.add(F,ie),ie=t.sub(B,ie),ie=t.mul(_e,ie),T=t.add(T,ie),B=t.mul(F,T),Z=t.add(Z,B),B=t.mul(E,T),V=t.mul(U,V),V=t.sub(V,B),B=t.mul(U,F),X=t.mul(E,X),X=t.add(X,B),new l(V,Z,X)}subtract(y){return this.add(y.negate())}is0(){return this.equals(l.ZERO)}wNAF(y){return h.wNAFCached(this,f,y,b=>{let S=t.invertBatch(b.map(P=>P.pz));return b.map((P,D)=>P.toAffine(S[D])).map(l.fromAffine)})}multiplyUnsafe(y){let b=l.ZERO;if(y===vo)return b;if(a(y),y===Xr)return this;let{endo:S}=e;if(!S)return h.unsafeLadder(this,y);let{k1neg:P,k1:D,k2neg:$,k2:W}=S.splitScalar(y),V=b,Z=b,X=this;for(;D>vo||W>vo;)D&Xr&&(V=V.add(X)),W&Xr&&(Z=Z.add(X)),X=X.double(),D>>=Xr,W>>=Xr;return P&&(V=V.negate()),$&&(Z=Z.negate()),Z=new l(t.mul(Z.px,S.beta),Z.py,Z.pz),V.add(Z)}multiply(y){a(y);let b=y,S,P,{endo:D}=e;if(D){let{k1neg:$,k1:W,k2neg:V,k2:Z}=D.splitScalar(b),{p:X,f:_e}=this.wNAF(W),{p:de,f:B}=this.wNAF(Z);X=h.constTimeNegate($,X),de=h.constTimeNegate(V,de),de=new l(t.mul(de.px,D.beta),de.py,de.pz),S=X.add(de),P=_e.add(B)}else{let{p:$,f:W}=this.wNAF(b);S=$,P=W}return l.normalizeZ([S,P])[0]}multiplyAndAddUnsafe(y,b,S){let P=l.BASE,D=(W,V)=>V===vo||V===Xr||!W.equals(P)?W.multiplyUnsafe(V):W.multiply(V),$=D(this,b).add(D(y,S));return $.is0()?void 0:$}toAffine(y){let{px:b,py:S,pz:P}=this,D=this.is0();y==null&&(y=D?t.ONE:t.inv(P));let $=t.mul(b,y),W=t.mul(S,y),V=t.mul(P,y);if(D)return{x:t.ZERO,y:t.ZERO};if(!t.eql(V,t.ONE))throw new Error("invZ was invalid");return{x:$,y:W}}isTorsionFree(){let{h:y,isTorsionFree:b}=e;if(y===Xr)return!0;if(b)return b(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:b}=e;return y===Xr?this:b?b(l,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),n(l,this,y)}toHex(y=!0){return Qi(this.toRawBytes(y))}}l.BASE=new l(e.Gx,e.Gy,t.ONE),l.ZERO=new l(t.ZERO,t.ONE,t.ZERO);let w=e.nBitLength,h=i0(l,e.endo?Math.ceil(w/2):w);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function kS(r){let e=ph(r);return ri(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function a0(r){let e=kS(r),{Fp:t,n}=e,o=t.BYTES+1,i=2*t.BYTES+1;function s(T){return vo<T&&T<t.ORDER}function a(T){return Vt(T,n)}function c(T){return Ff(T,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:w}=OS({...e,toBytes(T,E,k){let L=E.toAffine(),K=t.toBytes(L.x),ne=pa;return k?ne(Uint8Array.from([E.hasEvenY()?2:3]),K):ne(Uint8Array.from([4]),K,t.toBytes(L.y))},fromBytes(T){let E=T.length,k=T[0],L=T.subarray(1);if(E===o&&(k===2||k===3)){let K=wo(L);if(!s(K))throw new Error("Point is not on curve");let ne=l(K),ce=t.sqrt(ne),oe=(ce&Xr)===Xr;return(k&1)===1!==oe&&(ce=t.neg(ce)),{x:K,y:ce}}else if(E===i&&k===4){let K=t.fromBytes(L.subarray(0,t.BYTES)),ne=t.fromBytes(L.subarray(t.BYTES,2*t.BYTES));return{x:K,y:ne}}else throw new Error(`Point of length ${E} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),h=T=>Qi(ti(T,e.nByteLength));function m(T){let E=n>>Xr;return T>E}function y(T){return m(T)?a(-T):T}let b=(T,E,k)=>wo(T.slice(E,k));class S{constructor(E,k,L){this.r=E,this.s=k,this.recovery=L,this.assertValidity()}static fromCompact(E){let k=e.nByteLength;return E=Rr("compactSignature",E,k*2),new S(b(E,0,k),b(E,k,2*k))}static fromDER(E){let{r:k,s:L}=Xi.toSig(Rr("DER",E));return new S(k,L)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new S(this.r,this.s,E)}recoverPublicKey(E){let{r:k,s:L,recovery:K}=this,ne=Z(Rr("msgHash",E));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");let ce=K===2||K===3?k+e.n:k;if(ce>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let oe=K&1?"03":"02",ye=f.fromHex(oe+h(ce)),ve=c(ce),pt=a(-ne*ve),gr=a(L*ve),Rt=f.BASE.multiplyAndAddUnsafe(ye,pt,gr);if(!Rt)throw new Error("point at infinify");return Rt.assertValidity(),Rt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Yi(this.toDERHex())}toDERHex(){return Xi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Yi(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let P={isValidPrivateKey(T){try{return p(T),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{let T=lh(e.n);return o0(e.randomBytes(T),e.n)},precompute(T=8,E=f.BASE){return E._setWindowSize(T),E.multiply(BigInt(3)),E}};function D(T,E=!0){return f.fromPrivateKey(T).toRawBytes(E)}function $(T){let E=vn(T),k=typeof T=="string",L=(E||k)&&T.length;return E?L===o||L===i:k?L===2*o||L===2*i:T instanceof f}function W(T,E,k=!0){if($(T))throw new Error("first arg must be private key");if(!$(E))throw new Error("second arg must be public key");return f.fromHex(E).multiply(p(T)).toRawBytes(k)}let V=e.bits2int||function(T){let E=wo(T),k=T.length*8-e.nBitLength;return k>0?E>>BigInt(k):E},Z=e.bits2int_modN||function(T){return a(V(T))},X=_c(e.nBitLength);function _e(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(vo<=T&&T<X))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ti(T,e.nByteLength)}function de(T,E,k=B){if(["recovered","canonical"].some(Ot=>Ot in k))throw new Error("sign() legacy options not supported");let{hash:L,randomBytes:K}=e,{lowS:ne,prehash:ce,extraEntropy:oe}=k;ne==null&&(ne=!0),T=Rr("msgHash",T),ce&&(T=Rr("prehashed msgHash",L(T)));let ye=Z(T),ve=p(E),pt=[_e(ve),_e(ye)];if(oe!=null){let Ot=oe===!0?K(t.BYTES):oe;pt.push(Rr("extraEntropy",Ot))}let gr=pa(...pt),Rt=ye;function Fr(Ot){let Yt=V(Ot);if(!w(Yt))return;let Mn=c(Yt),mt=f.BASE.multiply(Yt).toAffine(),or=a(mt.x);if(or===vo)return;let hn=a(Mn*a(Rt+or*ve));if(hn===vo)return;let Oi=(mt.x===or?0:2)|Number(mt.y&Xr),Ho=hn;return ne&&m(hn)&&(Ho=y(hn),Oi^=1),new S(or,Ho,Oi)}return{seed:gr,k2sig:Fr}}let B={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function ie(T,E,k=B){let{seed:L,k2sig:K}=de(T,E,k),ne=e;return sh(ne.hash.outputLen,ne.nByteLength,ne.hmac)(L,K)}f.BASE._setWindowSize(8);function U(T,E,k,L=F){let K=T;if(E=Rr("msgHash",E),k=Rr("publicKey",k),"strict"in L)throw new Error("options.strict was renamed to lowS");let{lowS:ne,prehash:ce}=L,oe,ye;try{if(typeof K=="string"||vn(K))try{oe=S.fromDER(K)}catch(mt){if(!(mt instanceof Xi.Err))throw mt;oe=S.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){let{r:mt,s:or}=K;oe=new S(mt,or)}else throw new Error("PARSE");ye=f.fromHex(k)}catch(mt){if(mt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ne&&oe.hasHighS())return!1;ce&&(E=e.hash(E));let{r:ve,s:pt}=oe,gr=Z(E),Rt=c(pt),Fr=a(gr*Rt),Ot=a(ve*Rt),Yt=f.BASE.multiplyAndAddUnsafe(ye,Fr,Ot)?.toAffine();return Yt?a(Yt.x)===ve:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:W,sign:ie,verify:U,ProjectivePoint:f,Signature:S,utils:P}}function NS(r){return{hash:r,hmac:(e,...t)=>zn(r,e,Gi(...t)),randomBytes:ag}}function c0(r,e){let t=n=>a0({...r,...NS(n)});return Object.freeze({...t(e),create:t})}var l0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),DS=BigInt(1),hh=BigInt(2),f0=(r,e)=>(r+e/hh)/e;function MS(r){let e=l0,t=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,p=f*f*r%e,l=Or(p,t,e)*p%e,w=Or(l,t,e)*p%e,h=Or(w,hh,e)*f%e,m=Or(h,o,e)*h%e,y=Or(m,i,e)*m%e,b=Or(y,a,e)*y%e,S=Or(b,c,e)*b%e,P=Or(S,a,e)*y%e,D=Or(P,t,e)*p%e,$=Or(D,s,e)*m%e,W=Or($,n,e)*f%e,V=Or(W,hh,e);if(!yh.eql(yh.sqr(V),r))throw new Error("Cannot find square root");return V}var yh=r0(l0,void 0,void 0,{sqrt:MS}),Sn=c0({a:BigInt(0),b:BigInt(7),Fp:yh,n:u0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=u0,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-DS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,s=BigInt("0x100000000000000000000000000000000"),a=f0(i*r,e),c=f0(-n*r,e),f=Vt(r-a*t-c*o,e),p=Vt(-a*n-c*i,e),l=f>s,w=p>s;if(l&&(f=e-f),w&&(p=e-p),f>s||p>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:l,k1:f,k2neg:w,k2:p}}}},mo),n6=BigInt(0);var o6=Sn.ProjectivePoint;function Vf(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}function mh(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function p0(...r){let e=i=>i,t=(i,s)=>a=>i(s(a)),n=r.map(i=>i.encode).reduceRight(t,e),o=r.map(i=>i.decode).reduce(t,e);return{encode:n,decode:o}}function LS(r){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(t=>{if(t<0||t>=r.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${r.length})`);return r[t]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(t=>{if(typeof t!="string")throw new Error(`alphabet.decode: not string element=${t}`);let n=r.indexOf(t);if(n===-1)throw new Error(`Unknown letter: "${t}". Allowed: ${r}`);return n})}}}function HS(r=""){if(typeof r!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let t of e)if(typeof t!="string")throw new Error(`join.encode: non-string input=${t}`);return e.join(r)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(r)}}}function d0(r,e,t){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(r))throw new Error("convertRadix: data should be array");if(!r.length)return[];let n=0,o=[],i=Array.from(r);for(i.forEach(s=>{if(s<0||s>=e)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let c=n;c<i.length;c++){let f=i[c],p=e*s+f;if(!Number.isSafeInteger(p)||e*s/e!==s||p-f!==e*s)throw new Error("convertRadix: carry overflow");s=p%t;let l=Math.floor(p/t);if(i[c]=l,!Number.isSafeInteger(l)||l*t+s!==p)throw new Error("convertRadix: carry overflow");if(a)l?a=!1:n=c;else continue}if(o.push(s),a)break}for(let s=0;s<r.length-1&&r[s]===0;s++)o.push(0);return o.reverse()}function GS(r){return{encode:e=>{if(!mh(e))throw new Error("radix.encode input should be Uint8Array");return d0(Array.from(e),2**8,r)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(d0(e,r,2**8))}}}function zS(r,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(t){if(!mh(t))throw new Error("checksum.encode: input should be Uint8Array");let n=e(t).slice(0,r),o=new Uint8Array(t.length+r);return o.set(t),o.set(n,t.length),o},decode(t){if(!mh(t))throw new Error("checksum.decode: input should be Uint8Array");let n=t.slice(0,-r),o=e(n).slice(0,r),i=t.slice(-r);for(let s=0;s<r;s++)if(o[s]!==i[s])throw new Error("Invalid checksum");return n}}}var KS=r=>p0(GS(58),LS(r),HS("")),FS=KS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var h0=r=>p0(zS(4,e=>r(r(e))),FS);var qf=Sn.ProjectivePoint,gh=h0(mo);function y0(r){return BigInt(`0x${Hi(r)}`)}function VS(r){return ca(r.toString(16).padStart(64,"0"))}var qS=Ep("Bitcoin seed"),Ah={private:76066276,public:76067358},xh=2147483648,$S=r=>Qg(mo(r)),jS=r=>Hn(r).getUint32(0,!1),$f=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);let e=new Uint8Array(4);return Hn(e).setUint32(0,r,!1),e},jf=class r{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return jS(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let e=this.privateKey;if(!e)throw new Error("No private key");return gh.encode(this.serialize(this.versions.private,Gi(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return gh.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=Ah){if(xn(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);let n=zn(Fi,qS,e);return new r({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=Ah){let n=gh.decode(e),o=Hn(n),i=o.getUint32(0,!1),s={versions:t,depth:n[4],parentFingerprint:o.getUint32(5,!1),index:o.getUint32(9,!1),chainCode:n.slice(13,45)},a=n.slice(45),c=a[0]===0;if(i!==t[c?"private":"public"])throw new Error("Version mismatch");return c?new r({...s,privateKey:a.slice(1)}):new r({...s,publicKey:a})}static fromJSON(e){return r.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||typeof e!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Ah,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!Sn.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey=typeof e.privateKey=="bigint"?e.privateKey:y0(e.privateKey),this.privKeyBytes=VS(this.privKey),this.pubKey=Sn.getPublicKey(e.privateKey,!0)}else if(e.publicKey)this.pubKey=qf.fromHex(e.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=$S(this.pubKey)}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;let t=e.replace(/^[mM]'?\//,"").split("/"),n=this;for(let o of t){let i=/^(\d+)('?)$/.exec(o),s=i&&i[1];if(!i||i.length!==3||typeof s!="string")throw new Error(`Invalid child index: ${o}`);let a=+s;if(!Number.isSafeInteger(a)||a>=xh)throw new Error("Invalid index");i[2]==="'"&&(a+=xh),n=n.deriveChild(a)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=$f(e);if(e>=xh){let a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");t=Gi(new Uint8Array([0]),a,t)}else t=Gi(this.pubKey,t);let n=zn(Fi,this.chainCode,t),o=y0(n.slice(0,32)),i=n.slice(32);if(!Sn.utils.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");let s={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){let a=Vt(this.privKey+o,Sn.CURVE.n);if(!Sn.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=a}else{let a=qf.fromHex(this.pubKey).add(qf.fromPrivateKey(o));if(a.equals(qf.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=a.toRawBytes(!0)}return new r(s)}catch{return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return xn(e,32),Sn.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(xn(e,32),xn(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=Sn.Signature.fromCompact(t)}catch{return!1}return Sn.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return xn(t,33),Gi($f(e),new Uint8Array([this.depth]),$f(this.parentFingerprint),$f(this.index),this.chainCode,t)}};var ni=class ni extends sr{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==ni.LENGTH)throw new Error(`PublicKey length should be ${ni.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(t){let{message:n,signature:o}=t,i=Ue.fromHexInput(n).toUint8Array(),s=Gn(i),a=o.toUint8Array();return da.verify(a,s,this.toUint8Array())}serialize(t){t.serializeBytes(this.key.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new ni(n)}static load(t){let n=t.deserializeBytes();return new ni(n)}static isPublicKey(t){return t instanceof ni}};ni.LENGTH=65;var xr=ni,Kn=class Kn extends yo{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==Kn.LENGTH)throw new Error(`PrivateKey length should be ${Kn.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}sign(t){let n=Ue.fromHexInput(t),o=Gn(n.toUint8Array()),i=da.sign(o,this.key.toUint8Array());return new To(i.toCompactRawBytes())}serialize(t){t.serializeBytes(this.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new Kn(n)}static generate(){let t=da.utils.randomPrivateKey();return new Kn(t)}publicKey(){let t=da.getPublicKey(this.key.toUint8Array(),!1);return new xr(t)}static fromDerivationPath(t,n){if(!Dp(t))throw new Error(`Invalid derivation path ${t}`);return Kn.fromDerivationPathInner(t,vc(n))}static fromDerivationPathInner(t,n){let{privateKey:o}=jf.fromMasterSeed(n).derive(t);if(o===null)throw new Error("Invalid key");return new Kn(o)}static isPrivateKey(t){return t instanceof Kn}};Kn.LENGTH=32;var So=Kn,oi=class oi extends tr{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==oi.LENGTH)throw new Error(`Signature length should be ${oi.LENGTH}, recieved ${n.toUint8Array().length}`);this.data=n}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(t){t.serializeBytes(this.data.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new oi(n)}static load(t){let n=t.deserializeBytes();return new oi(n)}static isSignature(t){return t instanceof oi}};oi.LENGTH=64;var To=oi;var m0=Nf(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),WS=m0.create(BigInt("-3")),QS=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),ii=Mf({a:WS,b:QS,Fp:m0,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},If);function YS(r){return new TextEncoder().encode(r)}function Tn(r){let e=new Uint8Array(r),t="";for(let o of e)t+=String.fromCharCode(o);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Cc(r){let e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4,n=e.padEnd(e.length+t,"="),o=atob(n),i=new ArrayBuffer(o.length),s=new Uint8Array(i);for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return i}function g0(){return window?.PublicKeyCredential!==void 0&&typeof window.PublicKeyCredential=="function"}function A0(r){let{id:e}=r;return{...r,id:Cc(e),transports:r.transports}}function x0(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}var qt=class extends Error{constructor({message:e,code:t,cause:n,name:o}){super(e,{cause:n}),this.name=o??n.name,this.code=t}};function JS({error:r,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(t.authenticatorSelection?.requireResidentKey===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.authenticatorSelection?.userVerification==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new qt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return t.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){let n=window.location.hostname;if(x0(n)){if(t.rp.id!==n)return new qt({message:`The RP ID "${t.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(t.user.id.byteLength<1||t.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return r}var wh=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},b0=new wh,XS=["cross-platform","platform"];function w0(r){if(r&&!(XS.indexOf(r)<0))return r}async function v0(r){if(!g0())throw new Error("WebAuthn is not supported in this browser");let t={publicKey:{...r,challenge:Cc(r.challenge),user:{...r.user,id:YS(r.user.id)},excludeCredentials:r.excludeCredentials?.map(A0)}};t.signal=b0.createNewAbortSignal();let n;try{n=await navigator.credentials.create(t)}catch(w){throw JS({error:w,options:t})}if(!n)throw new Error("Registration was not completed");let{id:o,rawId:i,response:s,type:a}=n,c;typeof s.getTransports=="function"&&(c=s.getTransports());let f;if(typeof s.getPublicKeyAlgorithm=="function")try{f=s.getPublicKeyAlgorithm()}catch(w){bh("getPublicKeyAlgorithm()",w)}let p;if(typeof s.getPublicKey=="function")try{let w=s.getPublicKey();w!==null&&(p=Tn(w))}catch(w){bh("getPublicKey()",w)}let l;if(typeof s.getAuthenticatorData=="function")try{l=Tn(s.getAuthenticatorData())}catch(w){bh("getAuthenticatorData()",w)}return{id:o,rawId:Tn(i),response:{attestationObject:Tn(s.attestationObject),clientDataJSON:Tn(s.clientDataJSON),transports:c,publicKeyAlgorithm:f,publicKey:p,authenticatorData:l},type:a,clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:w0(n.authenticatorAttachment)}}function bh(r,e){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${r}. You should report this error to them.
`,e)}function ZS(r){return new TextDecoder("utf-8").decode(r)}function e2(){let r=window.PublicKeyCredential;return r.isConditionalMediationAvailable===void 0?new Promise(e=>e(!1)):r.isConditionalMediationAvailable()}function t2({error:r,options:e}){let{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new qt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){let n=window.location.hostname;if(x0(n)){if(t.rpId!==n)return new qt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return r}async function vh(r,e=!1){if(!g0())throw new Error("WebAuthn is not supported in this browser");let t;r.allowCredentials?.length!==0&&(t=r.allowCredentials?.map(A0));let n={...r,challenge:Cc(r.challenge),allowCredentials:t},o={};if(e){if(!await e2())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');o.mediation="conditional",n.allowCredentials=[]}o.publicKey=n,o.signal=b0.createNewAbortSignal();let i;try{i=await navigator.credentials.get(o)}catch(l){throw t2({error:l,options:o})}if(!i)throw new Error("Authentication was not completed");let{id:s,rawId:a,response:c,type:f}=i,p;return c.userHandle&&(p=ZS(c.userHandle)),{id:s,rawId:Tn(a),response:{authenticatorData:Tn(c.authenticatorData),clientDataJSON:Tn(c.clientDataJSON),signature:Tn(c.signature),userHandle:p},type:f,clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:w0(i.authenticatorAttachment)}}var Zi=class Zi extends sr{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==Zi.LENGTH)throw new Error(`PublicKey length should be ${Zi.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(t){let{message:n,signature:o}=t,i=Ue.fromHexInput(n).toUint8Array(),s=mo(i),a=o.toUint8Array();return ii.verify(a,s,this.toUint8Array())}verifyWebAuthnSignature(t){let{message:n,signature:o}=t;if(!(o.paar.signature.signature instanceof En))throw new Error("Attestation signature is not a Secp256r1Signature");let{challenge:i}=o.getCollectedClientData(),s=Tn(Ue.fromHexInput(n).toUint8Array());if(i!==s)return!1;let a=o.getVerificationData();return this.verifySignature({message:a,signature:o.paar.signature.signature})}serialize(t){t.serializeBytes(this.key.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new Zi(n)}static load(t){let n=t.deserializeBytes();return new Zi(n)}};Zi.LENGTH=65;var cr=Zi,es=class es extends yo{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==es.LENGTH)throw new Error(`PrivateKey length should be ${es.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}sign(t){let n=Ue.fromHexInput(t),o=Gn(n.toUint8Array()),i=ii.sign(o,this.key.toUint8Array());return new En(i.toCompactRawBytes())}serialize(t){t.serializeBytes(this.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new es(n)}static generate(){let t=ii.utils.randomPrivateKey();return new es(t)}publicKey(){let t=ii.getPublicKey(this.key.toUint8Array(),!1);return new cr(t)}};es.LENGTH=32;var Sh=es,ts=class ts extends tr{constructor(t){super();let n=Ue.fromHexInput(t);if(n.toUint8Array().length!==ts.LENGTH)throw new Error(`Signature length should be ${ts.LENGTH}, recieved ${n.toUint8Array().length}`);let o=ii.Signature.fromCompact(t).normalizeS().toCompactRawBytes();this.data=Ue.fromHexInput(o)}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(t){t.serializeBytes(this.data.toUint8Array())}static deserialize(t){let n=t.deserializeBytes();return new ts(n)}static load(t){let n=t.deserializeBytes();return new ts(n)}};ts.LENGTH=64;var En=ts;var dt=class r extends sr{constructor(t){super();this.publicKey=t}toUint8Array(){return this.publicKey.toUint8Array()}toString(){return this.publicKey.toString()}verifySignature(t){let{message:n,signature:o}=t;return this.publicKey.verifySignature({message:n,signature:o})}serialize(t){if(this.publicKey instanceof lt)t.serializeU32AsUleb128(0),this.publicKey.serialize(t);else if(this.publicKey instanceof xr)t.serializeU32AsUleb128(1),this.publicKey.serialize(t);else if(this.publicKey instanceof cr)t.serializeU32AsUleb128(2),this.publicKey.serialize(t);else throw new Error("Unknown public key type")}static deserialize(t){let n=t.deserializeUleb128AsU32();switch(n){case 0:return new r(lt.load(t));case 1:return new r(xr.load(t));case 2:return new r(cr.load(t));default:throw new Error(`Unknown variant index for AnyPublicKey: ${n}`)}}static isPublicKey(t){return t instanceof r}isEd25519(){return this.publicKey instanceof lt}isSecp256k1PublicKey(){return this.publicKey instanceof xr}};var rs=class r extends sr{constructor(t){super();let{publicKeys:n,signaturesRequired:o}=t;if(o<1)throw new Error("The number of required signatures needs to be greater then 0");if(n.length<o)throw new Error(`Provided ${n.length} public keys is smaller than the ${o} required signatures`);let i=[];n.forEach(s=>{s instanceof dt?i.push(s):i.push(new dt(s))}),this.publicKeys=i,this.signaturesRequired=o}toUint8Array(){return this.bcsToBytes()}createBitmap(t){let{bits:n}=t,o=128,i=new Uint8Array([0,0,0,0]),s=new Set;return n.forEach((a,c)=>{if(c+1>this.publicKeys.length)throw new Error(`Signature index ${c+1} is out of public keys range, ${this.publicKeys.length}.`);if(s.has(a))throw new Error(`Duplicate bit ${a} detected.`);s.add(a);let f=Math.floor(a/8),p=i[f];p|=o>>a%8,i[f]=p}),i}toString(){return Ue.fromHexInput(this.toUint8Array()).toString()}verifySignature(t){throw new Error("not implemented")}serialize(t){t.serializeVector(this.publicKeys),t.serializeU8(this.signaturesRequired)}static deserialize(t){let n=t.deserializeVector(dt),o=t.deserializeU8();return new r({publicKeys:n,signaturesRequired:o})}};var Bc=class r extends tr{constructor(t){super();this.signature=t}toUint8Array(){return this.signature.toUint8Array()}toString(){return this.signature.toString()}serialize(t){if(this.signature instanceof En)t.serializeU32AsUleb128(0),this.signature.serialize(t);else throw new Error("Unknown signature type for AssertionSignature")}static deserialize(t){let n=t.deserializeUleb128AsU32();switch(n){case 0:return new r(En.load(t));default:throw new Error(`Unknown variant index for AssertionSignature: ${n}`)}}},Th=class{constructor(e,t,n){this.signature=new Bc(e),this.authenticatorData=Ue.fromHexInput(t).toUint8Array(),this.clientDataJSON=Ue.fromHexInput(n).toUint8Array()}},si=class r extends tr{constructor(t,n,o){super();this.paar=new Th(t,n,o)}toUint8Array(){return this.paar.signature.toUint8Array()}toString(){return this.paar.toString()}getCollectedClientData(){let n=new TextDecoder("utf-8").decode(this.paar.clientDataJSON);return JSON.parse(n)}getVerificationData(){let t=mo(this.paar.clientDataJSON),n=new Uint8Array(t.length+this.paar.authenticatorData.length);return n.set(this.paar.authenticatorData),n.set(t,this.paar.authenticatorData.length),n}serialize(t){this.paar.signature.serialize(t),t.serializeBytes(this.paar.authenticatorData),t.serializeBytes(this.paar.clientDataJSON)}static deserialize(t){let n=Bc.deserialize(t),o=t.deserializeBytes(),i=t.deserializeBytes();return new r(n.signature,o,i)}static load(t){let n=Bc.deserialize(t),o=t.deserializeBytes(),i=t.deserializeBytes();return new r(n.signature,o,i)}};var kr=class r extends tr{constructor(t){super();this.signature=t}toUint8Array(){return this.signature.toUint8Array()}toString(){return this.signature.toString()}serialize(t){if(this.signature instanceof Et)t.serializeU32AsUleb128(0),this.signature.serialize(t);else if(this.signature instanceof To)t.serializeU32AsUleb128(1),this.signature.serialize(t);else if(this.signature instanceof si)t.serializeU32AsUleb128(2),this.signature.serialize(t);else throw new Error("Unknown signature type")}static deserialize(t){let n=t.deserializeUleb128AsU32();switch(n){case 0:return new r(Et.load(t));case 1:return new r(To.load(t));case 2:return new r(si.load(t));default:throw new Error(`Unknown variant index for AnySignature: ${n}`)}}};var Eo=class Eo extends Te{constructor(t){super();let{data:n}=t,o=Ue.fromHexInput(n);if(o.toUint8Array().length!==Eo.LENGTH)throw new Error(`Authentication Key length should be ${Eo.LENGTH}`);this.data=o}serialize(t){t.serializeFixedBytes(this.data.toUint8Array())}static deserialize(t){let n=t.deserializeFixedBytes(Eo.LENGTH);return new Eo({data:n})}toString(){return this.data.toString()}toUint8Array(){return this.data.toUint8Array()}static fromPublicKeyAndScheme(t){let{publicKey:n,scheme:o}=t,i;switch(o){case 3:case 2:{let c=n.bcsToBytes();i=new Uint8Array([...c,o]);break}case 0:case 1:{let c=n.toUint8Array(),f=Ue.fromHexInput(c).toUint8Array();i=new Uint8Array([...f,o]);break}default:throw new Error(`Scheme ${o} is not supported`)}let s=Gn.create();s.update(i);let a=s.digest();return new Eo({data:a})}static fromPublicKey(t){let{publicKey:n}=t,o;if(n instanceof lt)o=0 .valueOf();else if(n instanceof bn)o=1 .valueOf();else if(n instanceof xr)o=2 .valueOf(),n=new dt(n);else if(n instanceof cr)o=2 .valueOf(),n=new dt(n);else if(n instanceof dt)o=2 .valueOf();else if(n instanceof rs)o=3 .valueOf();else throw new Error("No supported authentication scheme for public key");return Eo.fromPublicKeyAndScheme({publicKey:n,scheme:o})}derivedAddress(){return new re(this.data.toUint8Array())}};Eo.LENGTH=32;var Nr=Eo;var _o=class r{constructor(e){let{privateKey:t,address:n,legacy:o}=e,i=o??!0;if(this.publicKey=t.publicKey(),this.publicKey instanceof lt)i?this.signingScheme=0:(this.publicKey=new dt(this.publicKey),this.signingScheme=2);else if(this.publicKey instanceof bn)this.signingScheme=1;else if(this.publicKey instanceof xr)this.publicKey=new dt(this.publicKey),this.signingScheme=2;else throw new Error("Can not create new Account, unsupported public key type");this.privateKey=t,this.accountAddress=n}static generate(e){let t=e?.legacy??!0,n,o;switch(e?.scheme){case 2:n=So.generate(),o=new dt(n.publicKey());break;default:n=go.generate(),t===!1?o=new dt(n.publicKey()):o=n.publicKey()}let s=Nr.fromPublicKey({publicKey:o}).derivedAddress();return new r({privateKey:n,address:s,legacy:e?.legacy})}static fromPrivateKey(e){let{privateKey:t,legacy:n}=e,o=n??!0,i;if(t instanceof So)i=new dt(t.publicKey());else if(t instanceof go)o?i=t.publicKey():i=new dt(t.publicKey());else throw new Error(`Unsupported private key ${t}`);let a=Nr.fromPublicKey({publicKey:i}).derivedAddress();return new r({privateKey:t,address:a,legacy:o})}static fromPrivateKeyAndAddress(e){let{privateKey:t,address:n,legacy:o}=e;return new r({privateKey:t,address:n,legacy:o})}static fromDerivationPath(e){let{path:t,mnemonic:n,scheme:o,legacy:i}=e,s;switch(o){case 2:s=So.fromDerivationPath(t,n);break;case 0:s=go.fromDerivationPath(t,n);break;default:throw new Error(`Unsupported scheme ${o}`)}return r.fromPrivateKey({privateKey:s,legacy:i})}static authKey(e){let{publicKey:t}=e;return Nr.fromPublicKey({publicKey:t})}sign(e){return this.privateKey.sign(e)}verifySignature(e){let{message:t,signature:n}=e,o=Ue.fromHexInput(t).toUint8Array();return this.publicKey.verifySignature({message:o,signature:n})}};var r2=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,n2=`
    fragment AnsTokenFragment on current_aptos_names {
  domain
  expiration_timestamp
  registered_address
  subdomain
  token_standard
  is_primary
  owner_address
}
    `,Wf=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,S0=`
    query getAccountCoinsCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,T0=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,E0=`
    query getAccountCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,_0=`
    query getAccountOwnedObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,C0=`
    query getAccountOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${Wf}`,GI=`
    query getAccountOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${Wf}`,B0=`
    query getAccountOwnedTokensFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${Wf}`,I0=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,P0=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,U0=`
    query getChainTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,R0=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!) {
  current_collections_v2(where: $where_condition) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,O0=`
    query getCurrentFungibleAssetBalances($where_condition: current_fungible_asset_balances_bool_exp, $offset: Int, $limit: Int) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
  }
}
    `,k0=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,N0=`
    query getEvents($where_condition: events_bool_exp, $offset: Int, $limit: Int, $order_by: [events_order_by!]) {
  events(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    account_address
    creation_number
    data
    event_index
    sequence_number
    transaction_block_height
    transaction_version
    type
    indexed_type
  }
}
    `,D0=`
    query getFungibleAssetActivities($where_condition: fungible_asset_activities_bool_exp, $offset: Int, $limit: Int) {
  fungible_asset_activities(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    amount
    asset_type
    block_height
    entry_function_id_str
    event_index
    gas_fee_payer_address
    is_frozen
    is_gas_fee
    is_transaction_success
    owner_address
    storage_id
    storage_refund_amount
    token_standard
    transaction_timestamp
    transaction_version
    type
  }
}
    `,M0=`
    query getFungibleAssetMetadata($where_condition: fungible_asset_metadata_bool_exp, $offset: Int, $limit: Int) {
  fungible_asset_metadata(where: $where_condition, offset: $offset, limit: $limit) {
    icon_uri
    project_uri
    supply_aggregator_table_handle_v1
    supply_aggregator_table_key_v1
    creator_address
    asset_type
    decimals
    last_transaction_timestamp
    last_transaction_version
    name
    symbol
    token_standard
  }
}
    `,ha=`
    query getNames($offset: Int, $limit: Int, $where_condition: current_aptos_names_bool_exp, $order_by: [current_aptos_names_order_by!]) {
  current_aptos_names(
    limit: $limit
    where: $where_condition
    order_by: $order_by
    offset: $offset
  ) {
    ...AnsTokenFragment
  }
}
    ${n2}`,Eh=`
    query getNumberOfDelegators($where_condition: num_active_delegator_per_pool_bool_exp, $order_by: [num_active_delegator_per_pool_order_by!]) {
  num_active_delegator_per_pool(where: $where_condition, order_by: $order_by) {
    num_active_delegator
    pool_address
  }
}
    `,_h=`
    query getProcessorStatus($where_condition: processor_status_bool_exp) {
  processor_status(where: $where_condition) {
    last_success_version
    processor
    last_updated
  }
}
    `,L0=`
    query getTokenActivity($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${r2}`,Ch=`
    query getCurrentTokenOwnership($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${Wf}`,H0=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `;async function Qf(r){let{aptosConfig:e}=r,{data:t}=await Ir({aptosConfig:e,originMethod:"getLedgerInfo",path:""});return t}async function G0(r){let{aptosConfig:e,ledgerVersion:t,options:n}=r,{data:o}=await Ir({aptosConfig:e,originMethod:"getBlockByVersion",path:`blocks/by_version/${t}`,params:{with_transactions:n?.withTransactions}});return o}async function z0(r){let{aptosConfig:e,blockHeight:t,options:n}=r,{data:o}=await Ir({aptosConfig:e,originMethod:"getBlockByHeight",path:`blocks/by_height/${t}`,params:{with_transactions:n?.withTransactions}});return o}async function Yf(r){let{aptosConfig:e,handle:t,data:n,options:o}=r;return(await Li({aptosConfig:e,originMethod:"getTableItem",path:`tables/${t}/item`,params:{ledger_version:o?.ledgerVersion},body:n})).data}async function ai(r){let{aptosConfig:e,payload:t,options:n}=r,{data:o}=await Li({aptosConfig:e,originMethod:"view",path:"view",params:{ledger_version:n?.ledgerVersion},body:{function:t.function,type_arguments:t.typeArguments??[],arguments:t.functionArguments??[]}});return o}async function K0(r){let{aptosConfig:e,limit:t}=r;return(await Qe({aptosConfig:e,query:{query:U0,variables:{limit:t}},originMethod:"getChainTopUserTransactions"})).user_transactions}async function Qe(r){let{aptosConfig:e,query:t,originMethod:n}=r,{data:o}=await vp({aptosConfig:e,originMethod:n??"queryIndexer",path:"",body:t,overrides:{WITH_CREDENTIALS:!1}});return o}async function o2(r){let{aptosConfig:e}=r;return(await Qe({aptosConfig:e,query:{query:_h},originMethod:"getProcessorStatuses"})).processor_status}async function Jf(r){let e=await o2({aptosConfig:r.aptosConfig});return BigInt(e[0].last_success_version)}async function Xf(r){let{aptosConfig:e,processorType:t}=r,n={processor:{_eq:t.valueOf()}};return(await Qe({aptosConfig:e,query:{query:_h,variables:{where_condition:n}},originMethod:"getProcessorStatus"})).processor_status[0]}var Bh=new Map;function ya(r,e,t){return async(...n)=>{if(Bh.has(e)){let{value:i,timestamp:s}=Bh.get(e);if(t===void 0||Date.now()-s<=t)return i}let o=await r(...n);return Bh.set(e,{value:o,timestamp:Date.now()}),o}}async function Fn(r){let{aptosConfig:e,accountAddress:t}=r,{data:n}=await Ir({aptosConfig:e,originMethod:"getInfo",path:`accounts/${re.from(t).toString()}`});return n}async function q0(r){let{aptosConfig:e,accountAddress:t,options:n}=r;return Mi({aptosConfig:e,originMethod:"getModules",path:`accounts/${re.from(t).toString()}/modules`,params:{ledger_version:n?.ledgerVersion,start:n?.offset,limit:n?.limit??1e3}})}async function Zf(r){return r.options?.ledgerVersion!==void 0?F0(r):ya(async()=>F0(r),`module-${r.accountAddress}-${r.moduleName}`,1e3*60*5)()}async function F0(r){let{aptosConfig:e,accountAddress:t,moduleName:n,options:o}=r,{data:i}=await Ir({aptosConfig:e,originMethod:"getModule",path:`accounts/${re.from(t).toString()}/module/${n}`,params:{ledger_version:o?.ledgerVersion}});return i}async function $0(r){let{aptosConfig:e,accountAddress:t,options:n}=r;return Mi({aptosConfig:e,originMethod:"getTransactions",path:`accounts/${re.from(t).toString()}/transactions`,params:{start:n?.offset,limit:n?.limit}})}async function j0(r){let{aptosConfig:e,accountAddress:t,options:n}=r;return Mi({aptosConfig:e,originMethod:"getResources",path:`accounts/${re.from(t).toString()}/resources`,params:{ledger_version:n?.ledgerVersion,start:n?.offset,limit:n?.limit??999}})}async function Ih(r){let{aptosConfig:e,accountAddress:t,resourceType:n,options:o}=r,{data:i}=await Ir({aptosConfig:e,originMethod:"getResource",path:`accounts/${re.from(t).toString()}/resource/${n}`,params:{ledger_version:o?.ledgerVersion}});return i.data}async function Ph(r){let{aptosConfig:e,authenticationKey:t,options:n}=r,o=await Ih({aptosConfig:e,accountAddress:"0x1",resourceType:"0x1::account::OriginatingAddress",options:n}),{address_map:{handle:i}}=o,s=re.from(t);try{let a=await Yf({aptosConfig:e,handle:i,data:{key:s.toString(),key_type:"address",value_type:"address"},options:n});return re.from(a)}catch(a){if(a instanceof Ln&&a.data.error_code==="table_item_not_found")return s;throw a}}async function W0(r){let{aptosConfig:e,accountAddress:t}=r,o={owner_address:{_eq:re.from(t).toStringLong()},amount:{_gt:0}},s=await Qe({aptosConfig:e,query:{query:I0,variables:{where_condition:o}},originMethod:"getAccountTokensCount"});return s.current_token_ownerships_v2_aggregate.aggregate?s.current_token_ownerships_v2_aggregate.aggregate.count:0}async function Q0(r){let{aptosConfig:e,accountAddress:t,options:n}=r,i={owner_address:{_eq:re.from(t).toStringLong()},amount:{_gt:0}};n?.tokenStandard&&(i.token_standard={_eq:n?.tokenStandard});let s={query:C0,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Qe({aptosConfig:e,query:s,originMethod:"getAccountOwnedTokens"})).current_token_ownerships_v2}async function Y0(r){let{aptosConfig:e,accountAddress:t,collectionAddress:n,options:o}=r,i=re.from(t).toStringLong(),s=re.from(n).toStringLong(),a={owner_address:{_eq:i},current_token_data:{collection_id:{_eq:s}},amount:{_gt:0}};o?.tokenStandard&&(a.token_standard={_eq:o?.tokenStandard});let c={query:B0,variables:{where_condition:a,offset:o?.offset,limit:o?.limit,order_by:o?.orderBy}};return(await Qe({aptosConfig:e,query:c,originMethod:"getAccountOwnedTokensFromCollectionAddress"})).current_token_ownerships_v2}async function J0(r){let{aptosConfig:e,accountAddress:t,options:n}=r,i={owner_address:{_eq:re.from(t).toStringLong()},amount:{_gt:0}};n?.tokenStandard&&(i.current_collection={token_standard:{_eq:n?.tokenStandard}});let s={query:E0,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Qe({aptosConfig:e,query:s,originMethod:"getAccountCollectionsWithOwnedTokens"})).current_collection_ownership_v2_view}async function X0(r){let{aptosConfig:e,accountAddress:t}=r,n=re.from(t).toStringLong(),i=await Qe({aptosConfig:e,query:{query:P0,variables:{address:n}},originMethod:"getAccountTransactionsCount"});return i.account_transactions_aggregate.aggregate?i.account_transactions_aggregate.aggregate.count:0}async function Z0(r){let{aptosConfig:e,accountAddress:t,coinType:n}=r,o=re.from(t).toStringLong(),i=await Uh({aptosConfig:e,accountAddress:o,options:{where:{asset_type:{_eq:n}}}});return i[0]?i[0].amount:0}async function Uh(r){let{aptosConfig:e,accountAddress:t,options:n}=r,o=re.from(t).toStringLong(),i={...n?.where,owner_address:{_eq:o}},s={query:T0,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Qe({aptosConfig:e,query:s,originMethod:"getAccountCoinsData"})).current_fungible_asset_balances}async function eA(r){let{aptosConfig:e,accountAddress:t}=r,n=re.from(t).toStringLong(),i=await Qe({aptosConfig:e,query:{query:S0,variables:{address:n}},originMethod:"getAccountCoinsCount"});if(!i.current_fungible_asset_balances_aggregate.aggregate)throw Error("Failed to get the count of account coins");return i.current_fungible_asset_balances_aggregate.aggregate.count}async function tA(r){let{aptosConfig:e,accountAddress:t,options:n}=r,i={owner_address:{_eq:re.from(t).toStringLong()}},s={query:_0,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Qe({aptosConfig:e,query:s,originMethod:"getAccountOwnedObjects"})).current_objects}async function rA(r){let{aptosConfig:e,privateKey:t}=r,n=new dt(t.publicKey());if(t instanceof So){let i=Nr.fromPublicKeyAndScheme({publicKey:n,scheme:2}).derivedAddress();return _o.fromPrivateKeyAndAddress({privateKey:t,address:i})}if(t instanceof go){let o=Nr.fromPublicKeyAndScheme({publicKey:n,scheme:2});if(await V0({authKey:o,aptosConfig:e})){let c=o.derivedAddress();return _o.fromPrivateKeyAndAddress({privateKey:t,address:c,legacy:!1})}let s=Nr.fromPublicKeyAndScheme({publicKey:n,scheme:0});if(await V0({authKey:s,aptosConfig:e})){let c=s.derivedAddress();return _o.fromPrivateKeyAndAddress({privateKey:t,address:c,legacy:!0})}}throw new Error(`Can't derive account from private key ${t}`)}async function V0(r){let{aptosConfig:e,authKey:t}=r,n=await Ph({aptosConfig:e,authenticationKey:t.derivedAddress()});try{return await Fn({aptosConfig:e,accountAddress:n}),!0}catch(o){if(o.status===404)return!1;throw new Error(`Error while looking for an account info ${n.toString()}`)}}async function ci(r){return new Promise(e=>{setTimeout(e,r)})}async function nA(r){let{aptosConfig:e,options:t}=r;return Mi({aptosConfig:e,originMethod:"getTransactions",path:"transactions",params:{start:t?.offset,limit:t?.limit}})}async function tl(r){let{aptosConfig:e}=r;return ya(async()=>{let{data:t}=await Ir({aptosConfig:e,originMethod:"getGasPriceEstimation",path:"estimate_gas_price"});return t},`gas-price-${e.network}`,1e3*60*5)()}async function oA(r){let{aptosConfig:e,ledgerVersion:t}=r,{data:n}=await Ir({aptosConfig:e,originMethod:"getTransactionByVersion",path:`transactions/by_version/${t}`});return n}async function rl(r){let{aptosConfig:e,transactionHash:t}=r,{data:n}=await Ir({aptosConfig:e,path:`transactions/by_hash/${t}`,originMethod:"getTransactionByHash"});return n}async function iA(r){let{aptosConfig:e,transactionHash:t}=r;try{return(await rl({aptosConfig:e,transactionHash:t})).type==="pending_transaction"}catch(n){if(n?.status===404)return!0;throw n}}async function ma(r){let{aptosConfig:e,transactionHash:t,options:n}=r,o=n?.timeoutSecs??gc,i=n?.checkSuccess??!0,s=!0,a=0,c,f,p=200,l=1.5;for(;s&&!(a>=o);){try{if(c=await rl({aptosConfig:e,transactionHash:t}),s=c.type==="pending_transaction",!s)break}catch(w){if(!(w instanceof Ln)||(f=w,w.status!==404&&w.status>=400&&w.status<500))throw w}await ci(p),a+=p/1e3,p*=l}if(c===void 0)throw f||new el(`Fetching transaction ${t} failed and timed out after ${o} seconds`,c);if(c.type==="pending_transaction")throw new el(`Transaction ${t} timed out in pending state after ${o} seconds`,c);if(!i)return c;if(!c.success)throw new Rh(`Transaction ${t} failed with an error: ${c.vm_status}`,c);return c}async function nl(r){let{aptosConfig:e,processorType:t}=r,n=BigInt(r.minimumLedgerVersion),o=3e3,i=new Date().getTime(),s=BigInt(-1);for(;s<n;){if(new Date().getTime()-i>o)throw new Error("waitForLastSuccessIndexerVersionSync timeout");if(t===void 0?s=await Jf({aptosConfig:e}):s=(await Xf({aptosConfig:e,processorType:t})).last_success_version,s>=n)break;await ci(200)}}var el=class extends Error{constructor(t,n){super(t);this.lastSubmittedTransaction=n}},Rh=class extends Error{constructor(t,n){super(t);this.transaction=n}};async function st(r){r.minimumLedgerVersion!==void 0&&await nl({aptosConfig:r.config,minimumLedgerVersion:r.minimumLedgerVersion,processorType:r.processorType})}var Ic=class{constructor(e){this.config=e}async getAccountInfo(e){return Fn({aptosConfig:this.config,...e})}async getAccountModules(e){return q0({aptosConfig:this.config,...e})}async getAccountModule(e){return Zf({aptosConfig:this.config,...e})}async getAccountTransactions(e){return $0({aptosConfig:this.config,...e})}async getAccountResources(e){return j0({aptosConfig:this.config,...e})}async getAccountResource(e){return Ih({aptosConfig:this.config,...e})}async lookupOriginalAccountAddress(e){return Ph({aptosConfig:this.config,...e})}async getAccountTokensCount(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"account_transactions_processor"}),W0({aptosConfig:this.config,...e})}async getAccountOwnedTokens(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Q0({aptosConfig:this.config,...e})}async getAccountOwnedTokensFromCollectionAddress(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Y0({aptosConfig:this.config,...e})}async getAccountCollectionsWithOwnedTokens(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),J0({aptosConfig:this.config,...e})}async getAccountTransactionsCount(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"account_transactions_processor"}),X0({aptosConfig:this.config,...e})}async getAccountCoinsData(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Uh({aptosConfig:this.config,...e})}async getAccountCoinsCount(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),eA({aptosConfig:this.config,...e})}async getAccountAPTAmount(e){return this.getAccountCoinAmount({coinType:Ac,...e})}async getAccountCoinAmount(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Z0({aptosConfig:this.config,...e})}async getAccountOwnedObjects(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"default_processor"}),tA({aptosConfig:this.config,...e})}async deriveAccountFromPrivateKey(e){return rA({aptosConfig:this.config,...e})}};function Pc(r,e){return function(){return r.apply(e,arguments)}}var{toString:i2}=Object.prototype,{getPrototypeOf:Nh}=Object,il=(r=>e=>{let t=i2.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=r=>(r=r.toLowerCase(),e=>il(e)===r),sl=r=>e=>typeof e===r,{isArray:ga}=Array,Uc=sl("undefined");function s2(r){return r!==null&&!Uc(r)&&r.constructor!==null&&!Uc(r.constructor)&&Zr(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}var cA=Vn("ArrayBuffer");function a2(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&cA(r.buffer),e}var c2=sl("string"),Zr=sl("function"),uA=sl("number"),al=r=>r!==null&&typeof r=="object",u2=r=>r===!0||r===!1,ol=r=>{if(il(r)!=="object")return!1;let e=Nh(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},f2=Vn("Date"),l2=Vn("File"),d2=Vn("Blob"),p2=Vn("FileList"),h2=r=>al(r)&&Zr(r.pipe),y2=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Zr(r.append)&&((e=il(r))==="formdata"||e==="object"&&Zr(r.toString)&&r.toString()==="[object FormData]"))},m2=Vn("URLSearchParams"),g2=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rc(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,o;if(typeof r!="object"&&(r=[r]),ga(r))for(n=0,o=r.length;n<o;n++)e.call(null,r[n],n,r);else{let i=t?Object.getOwnPropertyNames(r):Object.keys(r),s=i.length,a;for(n=0;n<s;n++)a=i[n],e.call(null,r[a],a,r)}}function fA(r,e){e=e.toLowerCase();let t=Object.keys(r),n=t.length,o;for(;n-- >0;)if(o=t[n],e===o.toLowerCase())return o;return null}var lA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dA=r=>!Uc(r)&&r!==lA;function kh(){let{caseless:r}=dA(this)&&this||{},e={},t=(n,o)=>{let i=r&&fA(e,o)||o;ol(e[i])&&ol(n)?e[i]=kh(e[i],n):ol(n)?e[i]=kh({},n):ga(n)?e[i]=n.slice():e[i]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Rc(arguments[n],t);return e}var A2=(r,e,t,{allOwnKeys:n}={})=>(Rc(e,(o,i)=>{t&&Zr(o)?r[i]=Pc(o,t):r[i]=o},{allOwnKeys:n}),r),x2=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),b2=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},w2=(r,e,t,n)=>{let o,i,s,a={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),i=o.length;i-- >0;)s=o[i],(!n||n(s,r,e))&&!a[s]&&(e[s]=r[s],a[s]=!0);r=t!==!1&&Nh(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},v2=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;let n=r.indexOf(e,t);return n!==-1&&n===t},S2=r=>{if(!r)return null;if(ga(r))return r;let e=r.length;if(!uA(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},T2=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Nh(Uint8Array)),E2=(r,e)=>{let n=(r&&r[Symbol.iterator]).call(r),o;for(;(o=n.next())&&!o.done;){let i=o.value;e.call(r,i[0],i[1])}},_2=(r,e)=>{let t,n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},C2=Vn("HTMLFormElement"),B2=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,o){return n.toUpperCase()+o}),sA=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),I2=Vn("RegExp"),pA=(r,e)=>{let t=Object.getOwnPropertyDescriptors(r),n={};Rc(t,(o,i)=>{let s;(s=e(o,i,r))!==!1&&(n[i]=s||o)}),Object.defineProperties(r,n)},P2=r=>{pA(r,(e,t)=>{if(Zr(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let n=r[t];if(Zr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},U2=(r,e)=>{let t={},n=o=>{o.forEach(i=>{t[i]=!0})};return ga(r)?n(r):n(String(r).split(e)),t},R2=()=>{},O2=(r,e)=>(r=+r,Number.isFinite(r)?r:e),Oh="abcdefghijklmnopqrstuvwxyz",aA="0123456789",hA={DIGIT:aA,ALPHA:Oh,ALPHA_DIGIT:Oh+Oh.toUpperCase()+aA},k2=(r=16,e=hA.ALPHA_DIGIT)=>{let t="",{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function N2(r){return!!(r&&Zr(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}var D2=r=>{let e=new Array(10),t=(n,o)=>{if(al(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;let i=ga(n)?[]:{};return Rc(n,(s,a)=>{let c=t(s,o+1);!Uc(c)&&(i[a]=c)}),e[o]=void 0,i}}return n};return t(r,0)},M2=Vn("AsyncFunction"),L2=r=>r&&(al(r)||Zr(r))&&Zr(r.then)&&Zr(r.catch),z={isArray:ga,isArrayBuffer:cA,isBuffer:s2,isFormData:y2,isArrayBufferView:a2,isString:c2,isNumber:uA,isBoolean:u2,isObject:al,isPlainObject:ol,isUndefined:Uc,isDate:f2,isFile:l2,isBlob:d2,isRegExp:I2,isFunction:Zr,isStream:h2,isURLSearchParams:m2,isTypedArray:T2,isFileList:p2,forEach:Rc,merge:kh,extend:A2,trim:g2,stripBOM:x2,inherits:b2,toFlatObject:w2,kindOf:il,kindOfTest:Vn,endsWith:v2,toArray:S2,forEachEntry:E2,matchAll:_2,isHTMLForm:C2,hasOwnProperty:sA,hasOwnProp:sA,reduceDescriptors:pA,freezeMethods:P2,toObjectSet:U2,toCamelCase:B2,noop:R2,toFiniteNumber:O2,findKey:fA,global:lA,isContextDefined:dA,ALPHABET:hA,generateString:k2,isSpecCompliantForm:N2,toJSONObject:D2,isAsyncFn:M2,isThenable:L2};function Aa(r,e,t,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),o&&(this.response=o)}z.inherits(Aa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var yA=Aa.prototype,mA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{mA[r]={value:r}});Object.defineProperties(Aa,mA);Object.defineProperty(yA,"isAxiosError",{value:!0});Aa.from=(r,e,t,n,o,i)=>{let s=Object.create(yA);return z.toFlatObject(r,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Aa.call(s,r.message,e,t,n,o),s.cause=r,s.name=r.name,i&&Object.assign(s,i),s};var je=Aa;var cl=null;function Dh(r){return z.isPlainObject(r)||z.isArray(r)}function AA(r){return z.endsWith(r,"[]")?r.slice(0,-2):r}function gA(r,e,t){return r?r.concat(e).map(function(o,i){return o=AA(o),!t&&i?"["+o+"]":o}).join(t?".":""):e}function H2(r){return z.isArray(r)&&!r.some(Dh)}var G2=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function z2(r,e,t){if(!z.isObject(r))throw new TypeError("target must be an object");e=e||new(cl||FormData),t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!z.isUndefined(b[y])});let n=t.metaTokens,o=t.visitor||p,i=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function f(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(!c&&z.isBlob(m))throw new je("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,y,b){let S=m;if(m&&!b&&typeof m=="object"){if(z.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&H2(m)||(z.isFileList(m)||z.endsWith(y,"[]"))&&(S=z.toArray(m)))return y=AA(y),S.forEach(function(D,$){!(z.isUndefined(D)||D===null)&&e.append(s===!0?gA([y],$,i):s===null?y:y+"[]",f(D))}),!1}return Dh(m)?!0:(e.append(gA(b,y,i),f(m)),!1)}let l=[],w=Object.assign(G2,{defaultVisitor:p,convertValue:f,isVisitable:Dh});function h(m,y){if(!z.isUndefined(m)){if(l.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));l.push(m),z.forEach(m,function(S,P){(!(z.isUndefined(S)||S===null)&&o.call(e,S,z.isString(P)?P.trim():P,y,w))===!0&&h(S,y?y.concat(P):[P])}),l.pop()}}if(!z.isObject(r))throw new TypeError("data must be an object");return h(r),e}var ui=z2;function xA(r){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function bA(r,e){this._pairs=[],r&&ui(r,this,e)}var wA=bA.prototype;wA.append=function(e,t){this._pairs.push([e,t])};wA.toString=function(e){let t=e?function(n){return e.call(this,n,xA)}:xA;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};var ul=bA;function K2(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Oc(r,e,t){if(!e)return r;let n=t&&t.encode||K2,o=t&&t.serialize,i;if(o?i=o(e,t):i=z.isURLSearchParams(e)?e.toString():new ul(e,t).toString(n),i){let s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+i}return r}var Mh=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(n){n!==null&&e(n)})}},Lh=Mh;var fl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var vA=typeof URLSearchParams<"u"?URLSearchParams:ul;var SA=typeof FormData<"u"?FormData:null;var TA=typeof Blob<"u"?Blob:null;var EA={isBrowser:!0,classes:{URLSearchParams:vA,FormData:SA,Blob:TA},protocols:["http","https","file","blob","url","data"]};var Hh={};yn(Hh,{hasBrowserEnv:()=>_A,hasStandardBrowserEnv:()=>F2,hasStandardBrowserWebWorkerEnv:()=>V2});var _A=typeof window<"u"&&typeof document<"u",F2=(r=>_A&&["ReactNative","NativeScript","NS"].indexOf(r)<0)(typeof navigator<"u"&&navigator.product),V2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var ur={...Hh,...EA};function Gh(r,e){return ui(r,new ur.classes.URLSearchParams,Object.assign({visitor:function(t,n,o,i){return ur.isNode&&z.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function q2(r){return z.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $2(r){let e={},t=Object.keys(r),n,o=t.length,i;for(n=0;n<o;n++)i=t[n],e[i]=r[i];return e}function j2(r){function e(t,n,o,i){let s=t[i++],a=Number.isFinite(+s),c=i>=t.length;return s=!s&&z.isArray(o)?o.length:s,c?(z.hasOwnProp(o,s)?o[s]=[o[s],n]:o[s]=n,!a):((!o[s]||!z.isObject(o[s]))&&(o[s]=[]),e(t,n,o[s],i)&&z.isArray(o[s])&&(o[s]=$2(o[s])),!a)}if(z.isFormData(r)&&z.isFunction(r.entries)){let t={};return z.forEachEntry(r,(n,o)=>{e(q2(n),o,t,0)}),t}return null}var ll=j2;function W2(r,e,t){if(z.isString(r))try{return(e||JSON.parse)(r),z.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var zh={transitional:fl,adapter:["xhr","http"],transformRequest:[function(e,t){let n=t.getContentType()||"",o=n.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return o&&o?JSON.stringify(ll(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Gh(e,this.formSerializer).toString();if((a=z.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return ui(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),W2(e)):e}],transformResponse:[function(e){let t=this.transitional||zh.transitional,n=t&&t.forcedJSONParsing,o=this.responseType==="json";if(e&&z.isString(e)&&(n&&!this.responseType||o)){let s=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?je.from(a,je.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],r=>{zh.headers[r]={}});var xa=zh;var Q2=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CA=r=>{let e={},t,n,o;return r&&r.split(`
`).forEach(function(s){o=s.indexOf(":"),t=s.substring(0,o).trim().toLowerCase(),n=s.substring(o+1).trim(),!(!t||e[t]&&Q2[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e};var BA=Symbol("internals");function kc(r){return r&&String(r).trim().toLowerCase()}function dl(r){return r===!1||r==null?r:z.isArray(r)?r.map(dl):String(r)}function Y2(r){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}var J2=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Kh(r,e,t,n,o){if(z.isFunction(n))return n.call(this,e,t);if(o&&(e=t),!!z.isString(e)){if(z.isString(n))return e.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(e)}}function X2(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function Z2(r,e){let t=z.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(o,i,s){return this[n].call(this,e,o,i,s)},configurable:!0})})}var ba=class{constructor(e){e&&this.set(e)}set(e,t,n){let o=this;function i(a,c,f){let p=kc(c);if(!p)throw new Error("header name must be a non-empty string");let l=z.findKey(o,p);(!l||o[l]===void 0||f===!0||f===void 0&&o[l]!==!1)&&(o[l||c]=dl(a))}let s=(a,c)=>z.forEach(a,(f,p)=>i(f,p,c));return z.isPlainObject(e)||e instanceof this.constructor?s(e,t):z.isString(e)&&(e=e.trim())&&!J2(e)?s(CA(e),t):e!=null&&i(t,e,n),this}get(e,t){if(e=kc(e),e){let n=z.findKey(this,e);if(n){let o=this[n];if(!t)return o;if(t===!0)return Y2(o);if(z.isFunction(t))return t.call(this,o,n);if(z.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kc(e),e){let n=z.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Kh(this,this[n],n,t)))}return!1}delete(e,t){let n=this,o=!1;function i(s){if(s=kc(s),s){let a=z.findKey(n,s);a&&(!t||Kh(n,n[a],a,t))&&(delete n[a],o=!0)}}return z.isArray(e)?e.forEach(i):i(e),o}clear(e){let t=Object.keys(this),n=t.length,o=!1;for(;n--;){let i=t[n];(!e||Kh(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){let t=this,n={};return z.forEach(this,(o,i)=>{let s=z.findKey(n,i);if(s){t[s]=dl(o),delete t[i];return}let a=e?X2(i):String(i).trim();a!==i&&delete t[i],t[a]=dl(o),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return z.forEach(this,(n,o)=>{n!=null&&n!==!1&&(t[o]=e&&z.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(o=>n.set(o)),n}static accessor(e){let n=(this[BA]=this[BA]={accessors:{}}).accessors,o=this.prototype;function i(s){let a=kc(s);n[a]||(Z2(o,s),n[a]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}};ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(ba.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});z.freezeMethods(ba);var fr=ba;function Nc(r,e){let t=this||xa,n=e||t,o=fr.from(n.headers),i=n.data;return z.forEach(r,function(a){i=a.call(t,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function Dc(r){return!!(r&&r.__CANCEL__)}function IA(r,e,t){je.call(this,r??"canceled",je.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(IA,je,{__CANCEL__:!0});var fi=IA;function Fh(r,e,t){let n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new je("Request failed with status code "+t.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}var PA=ur.hasStandardBrowserEnv?{write(r,e,t,n,o,i){let s=[r+"="+encodeURIComponent(e)];z.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),z.isString(n)&&s.push("path="+n),z.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(r){let e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Vh(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function qh(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function Mc(r,e){return r&&!Vh(e)?qh(r,e):e}var UA=ur.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),n;function o(i){let s=i;return e&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=o(window.location.href),function(s){let a=z.isString(s)?o(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function $h(r){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function eT(r,e){r=r||10;let t=new Array(r),n=new Array(r),o=0,i=0,s;return e=e!==void 0?e:1e3,function(c){let f=Date.now(),p=n[i];s||(s=f),t[o]=c,n[o]=f;let l=i,w=0;for(;l!==o;)w+=t[l++],l=l%r;if(o=(o+1)%r,o===i&&(i=(i+1)%r),f-s<e)return;let h=p&&f-p;return h?Math.round(w*1e3/h):void 0}}var RA=eT;function OA(r,e){let t=0,n=RA(50,250);return o=>{let i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-t,c=n(a),f=i<=s;t=i;let p={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&f?(s-i)/c:void 0,event:o};p[e?"download":"upload"]=!0,r(p)}}var tT=typeof XMLHttpRequest<"u",kA=tT&&function(r){return new Promise(function(t,n){let o=r.data,i=fr.from(r.headers).normalize(),{responseType:s,withXSRFToken:a}=r,c;function f(){r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let p;if(z.isFormData(o)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((p=i.getContentType())!==!1){let[y,...b]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];i.setContentType([y||"multipart/form-data",...b].join("; "))}}let l=new XMLHttpRequest;if(r.auth){let y=r.auth.username||"",b=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";i.set("Authorization","Basic "+btoa(y+":"+b))}let w=Mc(r.baseURL,r.url);l.open(r.method.toUpperCase(),Oc(w,r.params,r.paramsSerializer),!0),l.timeout=r.timeout;function h(){if(!l)return;let y=fr.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:y,config:r,request:l};Fh(function(D){t(D),f()},function(D){n(D),f()},S),l=null}if("onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(h)},l.onabort=function(){l&&(n(new je("Request aborted",je.ECONNABORTED,r,l)),l=null)},l.onerror=function(){n(new je("Network Error",je.ERR_NETWORK,r,l)),l=null},l.ontimeout=function(){let b=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",S=r.transitional||fl;r.timeoutErrorMessage&&(b=r.timeoutErrorMessage),n(new je(b,S.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,r,l)),l=null},ur.hasStandardBrowserEnv&&(a&&z.isFunction(a)&&(a=a(r)),a||a!==!1&&UA(w))){let y=r.xsrfHeaderName&&r.xsrfCookieName&&PA.read(r.xsrfCookieName);y&&i.set(r.xsrfHeaderName,y)}o===void 0&&i.setContentType(null),"setRequestHeader"in l&&z.forEach(i.toJSON(),function(b,S){l.setRequestHeader(S,b)}),z.isUndefined(r.withCredentials)||(l.withCredentials=!!r.withCredentials),s&&s!=="json"&&(l.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&l.addEventListener("progress",OA(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",OA(r.onUploadProgress)),(r.cancelToken||r.signal)&&(c=y=>{l&&(n(!y||y.type?new fi(null,r,l):y),l.abort(),l=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));let m=$h(w);if(m&&ur.protocols.indexOf(m)===-1){n(new je("Unsupported protocol "+m+":",je.ERR_BAD_REQUEST,r));return}l.send(o||null)})};var jh={http:cl,xhr:kA};z.forEach(jh,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});var NA=r=>`- ${r}`,rT=r=>z.isFunction(r)||r===null||r===!1,pl={getAdapter:r=>{r=z.isArray(r)?r:[r];let{length:e}=r,t,n,o={};for(let i=0;i<e;i++){t=r[i];let s;if(n=t,!rT(t)&&(n=jh[(s=String(t)).toLowerCase()],n===void 0))throw new je(`Unknown adapter '${s}'`);if(n)break;o[s||"#"+i]=n}if(!n){let i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?i.length>1?`since :
`+i.map(NA).join(`
`):" "+NA(i[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:jh};function Wh(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new fi(null,r)}function hl(r){return Wh(r),r.headers=fr.from(r.headers),r.data=Nc.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),pl.getAdapter(r.adapter||xa.adapter)(r).then(function(n){return Wh(r),n.data=Nc.call(r,r.transformResponse,n),n.headers=fr.from(n.headers),n},function(n){return Dc(n)||(Wh(r),n&&n.response&&(n.response.data=Nc.call(r,r.transformResponse,n.response),n.response.headers=fr.from(n.response.headers))),Promise.reject(n)})}var DA=r=>r instanceof fr?r.toJSON():r;function Co(r,e){e=e||{};let t={};function n(f,p,l){return z.isPlainObject(f)&&z.isPlainObject(p)?z.merge.call({caseless:l},f,p):z.isPlainObject(p)?z.merge({},p):z.isArray(p)?p.slice():p}function o(f,p,l){if(z.isUndefined(p)){if(!z.isUndefined(f))return n(void 0,f,l)}else return n(f,p,l)}function i(f,p){if(!z.isUndefined(p))return n(void 0,p)}function s(f,p){if(z.isUndefined(p)){if(!z.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function a(f,p,l){if(l in e)return n(f,p);if(l in r)return n(void 0,f)}let c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(f,p)=>o(DA(f),DA(p),!0)};return z.forEach(Object.keys(Object.assign({},r,e)),function(p){let l=c[p]||o,w=l(r[p],e[p],p);z.isUndefined(w)&&l!==a||(t[p]=w)}),t}var yl="1.6.2";var Qh={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Qh[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var MA={};Qh.transitional=function(e,t,n){function o(i,s){return"[Axios v"+yl+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,a)=>{if(e===!1)throw new je(o(s," has been removed"+(t?" in "+t:"")),je.ERR_DEPRECATED);return t&&!MA[s]&&(MA[s]=!0,console.warn(o(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,s,a):!0}};function nT(r,e,t){if(typeof r!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);let n=Object.keys(r),o=n.length;for(;o-- >0;){let i=n[o],s=e[i];if(s){let a=r[i],c=a===void 0||s(a,i,r);if(c!==!0)throw new je("option "+i+" must be "+c,je.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new je("Unknown option "+i,je.ERR_BAD_OPTION)}}var ml={assertOptions:nT,validators:Qh};var li=ml.validators,wa=class{constructor(e){this.defaults=e,this.interceptors={request:new Lh,response:new Lh}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Co(this.defaults,t);let{transitional:n,paramsSerializer:o,headers:i}=t;n!==void 0&&ml.assertOptions(n,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),o!=null&&(z.isFunction(o)?t.paramsSerializer={serialize:o}:ml.assertOptions(o,{encode:li.function,serialize:li.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&z.merge(i.common,i[t.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),t.headers=fr.concat(s,i);let a=[],c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});let f=[];this.interceptors.response.forEach(function(y){f.push(y.fulfilled,y.rejected)});let p,l=0,w;if(!c){let m=[hl.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,f),w=m.length,p=Promise.resolve(t);l<w;)p=p.then(m[l++],m[l++]);return p}w=a.length;let h=t;for(l=0;l<w;){let m=a[l++],y=a[l++];try{h=m(h)}catch(b){y.call(this,b);break}}try{p=hl.call(this,h)}catch(m){return Promise.reject(m)}for(l=0,w=f.length;l<w;)p=p.then(f[l++],f[l++]);return p}getUri(e){e=Co(this.defaults,e);let t=Mc(e.baseURL,e.url);return Oc(t,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){wa.prototype[e]=function(t,n){return this.request(Co(n||{},{method:e,url:t,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(n){return function(i,s,a){return this.request(Co(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}wa.prototype[e]=t(),wa.prototype[e+"Form"]=t(!0)});var Lc=wa;var Yh=class r{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});let n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i,s=new Promise(a=>{n.subscribe(a),i=a}).then(o);return s.cancel=function(){n.unsubscribe(i)},s},e(function(i,s,a){n.reason||(n.reason=new fi(i,s,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new r(function(o){e=o}),cancel:e}}},LA=Yh;function Jh(r){return function(t){return r.apply(null,t)}}function Xh(r){return z.isObject(r)&&r.isAxiosError===!0}var Zh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zh).forEach(([r,e])=>{Zh[e]=r});var HA=Zh;function GA(r){let e=new Lc(r),t=Pc(Lc.prototype.request,e);return z.extend(t,Lc.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return GA(Co(r,o))},t}var kt=GA(xa);kt.Axios=Lc;kt.CanceledError=fi;kt.CancelToken=LA;kt.isCancel=Dc;kt.VERSION=yl;kt.toFormData=ui;kt.AxiosError=je;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=Jh;kt.isAxiosError=Xh;kt.mergeConfig=Co;kt.AxiosHeaders=fr;kt.formToJSON=r=>ll(z.isHTMLForm(r)?new FormData(r):r);kt.getAdapter=pl.getAdapter;kt.HttpStatusCode=HA;kt.default=kt;var gl=kt;var{Axios:gU,AxiosError:AU,CanceledError:xU,isCancel:bU,CancelToken:wU,VERSION:vU,all:SU,Cancel:TU,isAxiosError:EU,spread:_U,toFormData:CU,AxiosHeaders:BU,HttpStatusCode:IU,formToJSON:PU,getAdapter:UU,mergeConfig:RU}=gl;async function zA(r){var e;let{params:t,method:n,url:o,headers:i,body:s,overrides:a}=r,c={headers:i,method:n,url:o,params:t,data:s,withCredentials:(e=a?.WITH_CREDENTIALS)!=null?e:!0};try{let f=await gl(c);return{status:f.status,statusText:f.statusText,data:f.data,headers:f.headers,config:f.config}}catch(f){let p=f;if(p.response)return p.response;throw f}}var Hc=class{constructor(e){this.network=e?.network??gp,this.fullnode=e?.fullnode,this.faucet=e?.faucet,this.indexer=e?.indexer,this.client=e?.client??{provider:zA},this.clientConfig=e?.clientConfig??{}}getRequestUrl(e){switch(e){case 0:if(this.fullnode!==void 0)return this.fullnode;if(this.network==="custom")throw new Error("Please provide a custom full node url");return uf[this.network];case 2:if(this.faucet!==void 0)return this.faucet;if(this.network==="custom")throw new Error("Please provide a custom faucet url");return ff[this.network];case 1:if(this.indexer!==void 0)return this.indexer;if(this.network==="custom")throw new Error("Please provide a custom indexer url");return cf[this.network];default:throw Error(`apiType ${e} is not supported`)}}isIndexerRequest(e){return cf[this.network]===e}isFullnodeRequest(e){return uf[this.network]===e}isFaucetRequest(e){return ff[this.network]===e}};var Gc=class extends Te{constructor(t){super();this.accountAddress=re.ONE;this.moduleName=new er("account");this.structName=new er("RotationProofChallenge");this.sequenceNumber=new Ft(t.sequenceNumber),this.originator=t.originator,this.currentAuthKey=t.currentAuthKey,this.newPublicKey=ft.U8(t.newPublicKey.toUint8Array())}serialize(t){t.serialize(this.accountAddress),t.serialize(this.moduleName),t.serialize(this.structName),t.serialize(this.sequenceNumber),t.serialize(this.originator),t.serialize(this.currentAuthKey),t.serialize(this.newPublicKey)}};var qe={};yn(qe,{fromBuffer:()=>BE,fromString:()=>PE,isBase64:()=>RE,isBase64url:()=>OE,toBase64:()=>IE,toBuffer:()=>CE,toString:()=>UE});var Ul={};yn(Ul,{ALWAYS:()=>CT,DECIMAL_FIT:()=>IT,DECIMAL_ROUND:()=>BT,Encoder:()=>Bl,FLOAT32_OPTIONS:()=>Sl,NEVER:()=>_T,RESET_BUFFER_MODE:()=>sx,REUSE_BUFFER_MODE:()=>py,THROW_ON_ITERABLE:()=>_l,addExtension:()=>vT,encode:()=>ST,encodeAsAsyncIterable:()=>ET,encodeAsIterable:()=>TT});var ey;try{ey=new TextDecoder}catch{}var ge,os,q=0;var jA=[],oT=105,iT=57342,sT=57343,KA=57337;var FA=6,va={},ty=jA,ry=0,Ye={},Bt,bl,wl=0,Kc=0,Ht,_n,Ut=[],ny=[],br,lr,zc,VA={useRecords:!1,mapsAsObjects:!0},Fc=!1,WA=2;try{new Function("")}catch{WA=1/0}var Vc=class r{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[t,n]of Object.entries(e.keyMap))this.mapKey.set(n,t)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let t=new Map;for(let[n,o]of Object.entries(e))t.set(this._keyMap.hasOwnProperty(n)?this._keyMap[n]:n,o);return t}decodeKeys(e){if(!this._keyMap||e.constructor.name!="Map")return e;if(!this._mapKey){this._mapKey=new Map;for(let[n,o]of Object.entries(this._keyMap))this._mapKey.set(o,n)}let t={};return e.forEach((n,o)=>t[en(this._mapKey.has(o)?this._mapKey.get(o):o)]=n),t}mapDecode(e,t){let n=this.decode(e);if(this._keyMap)switch(n.constructor.name){case"Array":return n.map(o=>this.decodeKeys(o))}return n}decode(e,t){if(ge)return XA(()=>(ay(),this?this.decode(e,t):r.prototype.decode.call(VA,e,t)));os=t>-1?t:e.length,q=0,ry=0,Kc=0,bl=null,ty=jA,Ht=null,ge=e;try{lr=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw ge=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof r){if(Ye=this,br=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Bt=this.structures,Al();(!Bt||Bt.length>0)&&(Bt=[])}else Ye=VA,(!Bt||Bt.length>0)&&(Bt=[]),br=null;return Al()}decodeMultiple(e,t){let n,o=0;try{let i=e.length;Fc=!0;let s=this?this.decode(e,i):uy.decode(e,i);if(t){if(t(s)===!1)return;for(;q<i;)if(o=q,t(Al())===!1)return}else{for(n=[s];q<i;)o=q,n.push(Al());return n}}catch(i){throw i.lastPosition=o,i.values=n,i}finally{Fc=!1,ay()}}};function Al(){try{let r=Xe();if(Ht){if(q>=Ht.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}q=Ht.postBundlePosition,Ht=null}if(q==os)Bt=null,ge=null,_n&&(_n=null);else if(q>os){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!Fc)throw new Error("Data read, but end of buffer not reached");return r}catch(r){throw ay(),(r instanceof RangeError||r.message.startsWith("Unexpected end of buffer"))&&(r.incomplete=!0),r}}function Xe(){let r=ge[q++],e=r>>5;if(r=r&31,r>23)switch(r){case 24:r=ge[q++];break;case 25:if(e==7)return fT();r=lr.getUint16(q),q+=2;break;case 26:if(e==7){let t=lr.getFloat32(q);if(Ye.useFloat32>2){let n=vl[(ge[q]&127)<<1|ge[q+1]>>7];return q+=4,(n*t+(t>0?.5:-.5)>>0)/n}return q+=4,t}r=lr.getUint32(q),q+=4;break;case 27:if(e==7){let t=lr.getFloat64(q);return q+=8,t}if(e>1){if(lr.getUint32(q)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");r=lr.getUint32(q+4)}else Ye.int64AsNumber?(r=lr.getUint32(q)*4294967296,r+=lr.getUint32(q+4)):r=lr.getBigUint64(q);q+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let t=[],n,o=0;for(;(n=Xe())!=va;)t[o++]=n;return e==4?t:e==3?t.join(""):Buffer.concat(t);case 5:let i;if(Ye.mapsAsObjects){let s={};if(Ye.keyMap)for(;(i=Xe())!=va;)s[en(Ye.decodeKey(i))]=Xe();else for(;(i=Xe())!=va;)s[en(i)]=Xe();return s}else{zc&&(Ye.mapsAsObjects=!0,zc=!1);let s=new Map;if(Ye.keyMap)for(;(i=Xe())!=va;)s.set(Ye.decodeKey(i),Xe());else for(;(i=Xe())!=va;)s.set(i,Xe());return s}case 7:return va;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+r)}switch(e){case 0:return r;case 1:return~r;case 2:return uT(r);case 3:if(Kc>=q)return bl.slice(q-wl,(q+=r)-wl);if(Kc==0&&os<140&&r<32){let o=r<16?QA(r):cT(r);if(o!=null)return o}return aT(r);case 4:let t=new Array(r);for(let o=0;o<r;o++)t[o]=Xe();return t;case 5:if(Ye.mapsAsObjects){let o={};if(Ye.keyMap)for(let i=0;i<r;i++)o[en(Ye.decodeKey(Xe()))]=Xe();else for(let i=0;i<r;i++)o[en(Xe())]=Xe();return o}else{zc&&(Ye.mapsAsObjects=!0,zc=!1);let o=new Map;if(Ye.keyMap)for(let i=0;i<r;i++)o.set(Ye.decodeKey(Xe()),Xe());else for(let i=0;i<r;i++)o.set(Xe(),Xe());return o}case 6:if(r>=KA){let o=Bt[r&8191];if(o)return o.read||(o.read=oy(o)),o.read();if(r<65536){if(r==sT){let i=Ta(),s=Xe(),a=Xe();sy(s,a);let c={};if(Ye.keyMap)for(let f=2;f<i;f++){let p=Ye.decodeKey(a[f-2]);c[en(p)]=Xe()}else for(let f=2;f<i;f++){let p=a[f-2];c[en(p)]=Xe()}return c}else if(r==iT){let i=Ta(),s=Xe();for(let a=2;a<i;a++)sy(s++,Xe());return Xe()}else if(r==KA)return mT();if(Ye.getShared&&(cy(),o=Bt[r&8191],o))return o.read||(o.read=oy(o)),o.read()}}let n=Ut[r];if(n)return n.handlesRead?n(Xe):n(Xe());{let o=Xe();for(let i=0;i<ny.length;i++){let s=ny[i](r,o);if(s!==void 0)return s}return new qn(o,r)}case 7:switch(r){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let o=(br||ns())[r];if(o!==void 0)return o;throw new Error("Unknown token "+r)}default:if(isNaN(r)){let o=new Error("Unexpected end of CBOR data");throw o.incomplete=!0,o}throw new Error("Unknown CBOR token "+r)}}var qA=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function oy(r){function e(){let t=ge[q++];if(t=t&31,t>23)switch(t){case 24:t=ge[q++];break;case 25:t=lr.getUint16(q),q+=2;break;case 26:t=lr.getUint32(q),q+=4;break;default:throw new Error("Expected array header, but got "+ge[q-1])}let n=this.compiledReader;for(;n;){if(n.propertyCount===t)return n(Xe);n=n.next}if(this.slowReads++>=WA){let i=this.length==t?this:this.slice(0,t);return n=Ye.keyMap?new Function("r","return {"+i.map(s=>Ye.decodeKey(s)).map(s=>qA.test(s)?en(s)+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(s=>qA.test(s)?en(s)+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"}"),this.compiledReader&&(n.next=this.compiledReader),n.propertyCount=t,this.compiledReader=n,n(Xe)}let o={};if(Ye.keyMap)for(let i=0;i<t;i++)o[en(Ye.decodeKey(this[i]))]=Xe();else for(let i=0;i<t;i++)o[en(this[i])]=Xe();return o}return r.slowReads=0,e}function en(r){if(typeof r=="string")return r==="__proto__"?"__proto_":r;if(typeof r!="object")return r.toString();throw new Error("Invalid property name type "+typeof r)}var aT=iy;function iy(r){let e;if(r<16&&(e=QA(r)))return e;if(r>64&&ey)return ey.decode(ge.subarray(q,q+=r));let t=q+r,n=[];for(e="";q<t;){let o=ge[q++];if(!(o&128))n.push(o);else if((o&224)===192){let i=ge[q++]&63;n.push((o&31)<<6|i)}else if((o&240)===224){let i=ge[q++]&63,s=ge[q++]&63;n.push((o&31)<<12|i<<6|s)}else if((o&248)===240){let i=ge[q++]&63,s=ge[q++]&63,a=ge[q++]&63,c=(o&7)<<18|i<<12|s<<6|a;c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|c&1023),n.push(c)}else n.push(o);n.length>=4096&&(e+=$t.apply(String,n),n.length=0)}return n.length>0&&(e+=$t.apply(String,n)),e}var $t=String.fromCharCode;function cT(r){let e=q,t=new Array(r);for(let n=0;n<r;n++){let o=ge[q++];if((o&128)>0){q=e;return}t[n]=o}return $t.apply(String,t)}function QA(r){if(r<4)if(r<2){if(r===0)return"";{let e=ge[q++];if((e&128)>1){q-=1;return}return $t(e)}}else{let e=ge[q++],t=ge[q++];if((e&128)>0||(t&128)>0){q-=2;return}if(r<3)return $t(e,t);let n=ge[q++];if((n&128)>0){q-=3;return}return $t(e,t,n)}else{let e=ge[q++],t=ge[q++],n=ge[q++],o=ge[q++];if((e&128)>0||(t&128)>0||(n&128)>0||(o&128)>0){q-=4;return}if(r<6){if(r===4)return $t(e,t,n,o);{let i=ge[q++];if((i&128)>0){q-=5;return}return $t(e,t,n,o,i)}}else if(r<8){let i=ge[q++],s=ge[q++];if((i&128)>0||(s&128)>0){q-=6;return}if(r<7)return $t(e,t,n,o,i,s);let a=ge[q++];if((a&128)>0){q-=7;return}return $t(e,t,n,o,i,s,a)}else{let i=ge[q++],s=ge[q++],a=ge[q++],c=ge[q++];if((i&128)>0||(s&128)>0||(a&128)>0||(c&128)>0){q-=8;return}if(r<10){if(r===8)return $t(e,t,n,o,i,s,a,c);{let f=ge[q++];if((f&128)>0){q-=9;return}return $t(e,t,n,o,i,s,a,c,f)}}else if(r<12){let f=ge[q++],p=ge[q++];if((f&128)>0||(p&128)>0){q-=10;return}if(r<11)return $t(e,t,n,o,i,s,a,c,f,p);let l=ge[q++];if((l&128)>0){q-=11;return}return $t(e,t,n,o,i,s,a,c,f,p,l)}else{let f=ge[q++],p=ge[q++],l=ge[q++],w=ge[q++];if((f&128)>0||(p&128)>0||(l&128)>0||(w&128)>0){q-=12;return}if(r<14){if(r===12)return $t(e,t,n,o,i,s,a,c,f,p,l,w);{let h=ge[q++];if((h&128)>0){q-=13;return}return $t(e,t,n,o,i,s,a,c,f,p,l,w,h)}}else{let h=ge[q++],m=ge[q++];if((h&128)>0||(m&128)>0){q-=14;return}if(r<15)return $t(e,t,n,o,i,s,a,c,f,p,l,w,h,m);let y=ge[q++];if((y&128)>0){q-=15;return}return $t(e,t,n,o,i,s,a,c,f,p,l,w,h,m,y)}}}}}function uT(r){return Ye.copyBuffers?Uint8Array.prototype.slice.call(ge,q,q+=r):ge.subarray(q,q+=r)}var YA=new Float32Array(1),xl=new Uint8Array(YA.buffer,0,4);function fT(){let r=ge[q++],e=ge[q++],t=(r&127)>>2;if(t===31)return e||r&3?NaN:r&128?-1/0:1/0;if(t===0){let n=((r&3)<<8|e)/16777216;return r&128?-n:n}return xl[3]=r&128|(t>>1)+56,xl[2]=(r&7)<<5|e>>3,xl[1]=e<<5,xl[0]=0,YA[0]}var $U=new Array(4096);var qn=class{constructor(e,t){this.value=e,this.tag=t}};Ut[0]=r=>new Date(r);Ut[1]=r=>new Date(Math.round(r*1e3));Ut[2]=r=>{let e=BigInt(0);for(let t=0,n=r.byteLength;t<n;t++)e=BigInt(r[t])+e<<BigInt(8);return e};Ut[3]=r=>BigInt(-1)-Ut[2](r);Ut[4]=r=>+(r[1]+"e"+r[0]);Ut[5]=r=>r[1]*Math.exp(r[0]*Math.log(2));var sy=(r,e)=>{r=r-57344;let t=Bt[r];t&&t.isShared&&((Bt.restoreStructures||(Bt.restoreStructures=[]))[r]=t),Bt[r]=e,e.read=oy(e)};Ut[oT]=r=>{let e=r.length,t=r[1];sy(r[0],t);let n={};for(let o=2;o<e;o++){let i=t[o-2];n[en(i)]=r[o]}return n};Ut[14]=r=>Ht?Ht[0].slice(Ht.position0,Ht.position0+=r):new qn(r,14);Ut[15]=r=>Ht?Ht[1].slice(Ht.position1,Ht.position1+=r):new qn(r,15);var lT={Error,RegExp};Ut[27]=r=>(lT[r[0]]||Error)(r[1],r[2]);var JA=r=>{if(ge[q++]!=132){let t=new Error("Packed values structure must be followed by a 4 element array");throw ge.length<q&&(t.incomplete=!0),t}let e=r();if(!e||!e.length){let t=new Error("Packed values structure must be followed by a 4 element array");throw t.incomplete=!0,t}return br=br?e.concat(br.slice(e.length)):e,br.prefixes=r(),br.suffixes=r(),r()};JA.handlesRead=!0;Ut[51]=JA;Ut[FA]=r=>{if(!br)if(Ye.getShared)cy();else return new qn(r,FA);if(typeof r=="number")return br[16+(r>=0?2*r:-2*r-1)];let e=new Error("No support for non-integer packed references yet");throw r===void 0&&(e.incomplete=!0),e};Ut[28]=r=>{_n||(_n=new Map,_n.id=0);let e=_n.id++,t=ge[q],n;t>>5==4?n=[]:n={};let o={target:n};_n.set(e,o);let i=r();return o.used?Object.assign(n,i):(o.target=i,i)};Ut[28].handlesRead=!0;Ut[29]=r=>{let e=_n.get(r);return e.used=!0,e.target};Ut[258]=r=>new Set(r);(Ut[259]=r=>(Ye.mapsAsObjects&&(Ye.mapsAsObjects=!1,zc=!0),r())).handlesRead=!0;function Sa(r,e){return typeof r=="string"?r+e:r instanceof Array?r.concat(e):Object.assign({},r,e)}function ns(){if(!br)if(Ye.getShared)cy();else throw new Error("No packed values available");return br}var dT=1399353956;ny.push((r,e)=>{if(r>=225&&r<=255)return Sa(ns().prefixes[r-224],e);if(r>=28704&&r<=32767)return Sa(ns().prefixes[r-28672],e);if(r>=1879052288&&r<=2147483647)return Sa(ns().prefixes[r-1879048192],e);if(r>=216&&r<=223)return Sa(e,ns().suffixes[r-216]);if(r>=27647&&r<=28671)return Sa(e,ns().suffixes[r-27639]);if(r>=1811940352&&r<=1879048191)return Sa(e,ns().suffixes[r-1811939328]);if(r==dT)return{packedValues:br,structures:Bt.slice(0),version:e};if(r==55799)return e});var pT=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,$A=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],hT=[64,68,69,70,71,72,77,78,79,85,86];for(let r=0;r<$A.length;r++)yT($A[r],hT[r]);function yT(r,e){let t="get"+r.name.slice(0,-5),n;typeof r=="function"?n=r.BYTES_PER_ELEMENT:r=null;for(let o=0;o<2;o++){if(!o&&n==1)continue;let i=n==2?1:n==4?2:3;Ut[o?e:e-4]=n==1||o==pT?s=>{if(!r)throw new Error("Could not find typed array for code "+e);return!Ye.copyBuffers&&(n===1||n===2&&!(s.byteOffset&1)||n===4&&!(s.byteOffset&3)||n===8&&!(s.byteOffset&7))?new r(s.buffer,s.byteOffset,s.byteLength):new r(Uint8Array.prototype.slice.call(s,0).buffer)}:s=>{if(!r)throw new Error("Could not find typed array for code "+e);let a=new DataView(s.buffer,s.byteOffset,s.byteLength),c=s.length>>i,f=new r(c),p=a[t];for(let l=0;l<c;l++)f[l]=p.call(a,l<<i,o);return f}}}function mT(){let r=Ta(),e=q+Xe();for(let n=2;n<r;n++){let o=Ta();q+=o}let t=q;return q=e,Ht=[iy(Ta()),iy(Ta())],Ht.position0=0,Ht.position1=0,Ht.postBundlePosition=q,q=t,Xe()}function Ta(){let r=ge[q++]&31;if(r>23)switch(r){case 24:r=ge[q++];break;case 25:r=lr.getUint16(q),q+=2;break;case 26:r=lr.getUint32(q),q+=4;break}return r}function cy(){if(Ye.getShared){let r=XA(()=>(ge=null,Ye.getShared()))||{},e=r.structures||[];Ye.sharedVersion=r.version,br=Ye.sharedValues=r.packedValues,Bt===!0?Ye.structures=Bt=e:Bt.splice.apply(Bt,[0,e.length].concat(e))}}function XA(r){let e=os,t=q,n=ry,o=wl,i=Kc,s=bl,a=ty,c=_n,f=Ht,p=new Uint8Array(ge.slice(0,os)),l=Bt,w=Ye,h=Fc,m=r();return os=e,q=t,ry=n,wl=o,Kc=i,bl=s,ty=a,_n=c,Ht=f,ge=p,Fc=h,Bt=l,Ye=w,lr=new DataView(ge.buffer,ge.byteOffset,ge.byteLength),m}function ay(){ge=null,_n=null,Bt=null}function ZA(r){Ut[r.tag]=r.decode}var vl=new Array(147);for(let r=0;r<256;r++)vl[r]=+("1e"+Math.floor(45.15-r*.30103));var uy=new Vc({useRecords:!1}),jU=uy.decode,WU=uy.decodeMultiple,Sl={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};var Tl;try{Tl=new TextEncoder}catch{}var Cl,hy,Pl=typeof globalThis=="object"&&globalThis.Buffer,qc=typeof Pl<"u",fy=qc?Pl.allocUnsafeSlow:Uint8Array,ex=qc?Pl:Uint8Array,tx=256,rx=qc?4294967296:2144337920;var ly,M,ht,I=0,di,Gt=null,gT=61440,AT=/[\u0080-\uFFFF]/,Dr=Symbol("record-id"),Bl=class extends Vc{constructor(e){super(e),this.offset=0;let t,n,o,i,s,a;e=e||{};let c=ex.prototype.utf8Write?function(U,T,E){return M.utf8Write(U,T,E)}:Tl&&Tl.encodeInto?function(U,T){return Tl.encodeInto(U,M.subarray(T)).written}:!1,f=this,p=e.structures||e.saveStructures,l=e.maxSharedStructures;if(l==null&&(l=p?128:0),l>8190)throw new Error("Maximum maxSharedStructure is 8190");let w=e.sequential;w&&(l=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let h,m,y=e.sharedValues,b;if(y){b=Object.create(null);for(let U=0,T=y.length;U<T;U++)b[y[U]]=U}let S=[],P=0,D=0;this.mapEncode=function(U,T){if(this._keyMap&&!this._mapped)switch(U.constructor.name){case"Array":U=U.map(E=>this.encodeKeys(E));break}return this.encode(U,T)},this.encode=function(U,T){if(M||(M=new fy(8192),ht=new DataView(M.buffer,0,8192),I=0),di=M.length-10,di-I<2048?(M=new fy(M.length),ht=new DataView(M.buffer,0,M.length),di=M.length-10,I=0):T===py&&(I=I+7&2147483640),n=I,f.useSelfDescribedHeader&&(ht.setUint32(I,3654940416),I+=3),a=f.structuredClone?new Map:null,f.bundleStrings&&typeof U!="string"?(Gt=[],Gt.size=1/0):Gt=null,o=f.structures,o){if(o.uninitialized){let k=f.getShared()||{};f.structures=o=k.structures||[],f.sharedVersion=k.version;let L=f.sharedValues=k.packedValues;if(L){b={};for(let K=0,ne=L.length;K<ne;K++)b[L[K]]=K}}let E=o.length;if(E>l&&!w&&(E=l),!o.transitions){o.transitions=Object.create(null);for(let k=0;k<E;k++){let L=o[k];if(!L)continue;let K,ne=o.transitions;for(let ce=0,oe=L.length;ce<oe;ce++){ne[Dr]===void 0&&(ne[Dr]=k);let ye=L[ce];K=ne[ye],K||(K=ne[ye]=Object.create(null)),ne=K}ne[Dr]=k|1048576}}w||(o.nextId=E)}if(i&&(i=!1),s=o||[],m=b,e.pack){let E=new Map;if(E.values=[],E.encoder=f,E.maxValues=e.maxPrivatePackedValues||(b?16:1/0),E.objectMap=b||!1,E.samplingPackedValues=h,El(U,E),E.values.length>0){M[I++]=216,M[I++]=51,jn(4);let k=E.values;$(k),jn(0),jn(0),m=Object.create(b||null);for(let L=0,K=k.length;L<K;L++)m[k[L]]=L}}ly=T&_l;try{if(ly)return;if($(U),Gt&&ix(n,$),f.offset=I,a&&a.idsToInsert){I+=a.idsToInsert.length*2,I>di&&V(I),f.offset=I;let E=wT(M.subarray(n,I),a.idsToInsert);return a=null,E}return T&py?(M.start=n,M.end=I,M):M.subarray(n,I)}finally{if(o){if(D<10&&D++,o.length>l&&(o.length=l),P>1e4)o.transitions=null,D=0,P=0,S.length>0&&(S=[]);else if(S.length>0&&!w){for(let E=0,k=S.length;E<k;E++)S[E][Dr]=void 0;S=[]}}if(i&&f.saveShared){f.structures.length>l&&(f.structures=f.structures.slice(0,l));let E=M.subarray(n,I);return f.updateSharedData()===!1?f.encode(U):E}T&sx&&(I=n)}},this.findCommonStringsToPack=()=>(h=new Map,b||(b=Object.create(null)),U=>{let T=U&&U.threshold||4,E=this.pack?U.maxPrivatePackedValues||16:0;y||(y=this.sharedValues=[]);for(let[k,L]of h)L.count>T&&(b[k]=E++,y.push(k),i=!0);for(;this.saveShared&&this.updateSharedData()===!1;);h=null});let $=U=>{I>di&&(M=V(I));var T=typeof U,E;if(T==="string"){if(m){let ne=m[U];if(ne>=0){ne<16?M[I++]=ne+224:(M[I++]=198,ne&1?$(15-ne>>1):$(ne-16>>1));return}else if(h&&!e.pack){let ce=h.get(U);ce?ce.count++:h.set(U,{count:1})}}let k=U.length;if(Gt&&k>=4&&k<1024){if((Gt.size+=k)>gT){let ce,oe=(Gt[0]?Gt[0].length*3+Gt[1].length:0)+10;I+oe>di&&(M=V(I+oe)),M[I++]=217,M[I++]=223,M[I++]=249,M[I++]=Gt.position?132:130,M[I++]=26,ce=I-n,I+=4,Gt.position&&ix(n,$),Gt=["",""],Gt.size=0,Gt.position=ce}let ne=AT.test(U);Gt[ne?0:1]+=U,M[I++]=ne?206:207,$(k);return}let L;k<32?L=1:k<256?L=2:k<65536?L=3:L=5;let K=k*3;if(I+K>di&&(M=V(I+K)),k<64||!c){let ne,ce,oe,ye=I+L;for(ne=0;ne<k;ne++)ce=U.charCodeAt(ne),ce<128?M[ye++]=ce:ce<2048?(M[ye++]=ce>>6|192,M[ye++]=ce&63|128):(ce&64512)===55296&&((oe=U.charCodeAt(ne+1))&64512)===56320?(ce=65536+((ce&1023)<<10)+(oe&1023),ne++,M[ye++]=ce>>18|240,M[ye++]=ce>>12&63|128,M[ye++]=ce>>6&63|128,M[ye++]=ce&63|128):(M[ye++]=ce>>12|224,M[ye++]=ce>>6&63|128,M[ye++]=ce&63|128);E=ye-I-L}else E=c(U,I+L,K);E<24?M[I++]=96|E:E<256?(L<2&&M.copyWithin(I+2,I+1,I+1+E),M[I++]=120,M[I++]=E):E<65536?(L<3&&M.copyWithin(I+3,I+2,I+2+E),M[I++]=121,M[I++]=E>>8,M[I++]=E&255):(L<5&&M.copyWithin(I+5,I+3,I+3+E),M[I++]=122,ht.setUint32(I,E),I+=4),I+=E}else if(T==="number")if(!this.alwaysUseFloat&&U>>>0===U)U<24?M[I++]=U:U<256?(M[I++]=24,M[I++]=U):U<65536?(M[I++]=25,M[I++]=U>>8,M[I++]=U&255):(M[I++]=26,ht.setUint32(I,U),I+=4);else if(!this.alwaysUseFloat&&U>>0===U)U>=-24?M[I++]=31-U:U>=-256?(M[I++]=56,M[I++]=~U):U>=-65536?(M[I++]=57,ht.setUint16(I,~U),I+=2):(M[I++]=58,ht.setUint32(I,~U),I+=4);else{let k;if((k=this.useFloat32)>0&&U<4294967296&&U>=-2147483648){M[I++]=250,ht.setFloat32(I,U);let L;if(k<4||(L=U*vl[(M[I]&127)<<1|M[I+1]>>7])>>0===L){I+=4;return}else I--}M[I++]=251,ht.setFloat64(I,U),I+=8}else if(T==="object")if(!U)M[I++]=246;else{if(a){let L=a.get(U);if(L){if(M[I++]=216,M[I++]=29,M[I++]=25,!L.references){let K=a.idsToInsert||(a.idsToInsert=[]);L.references=[],K.push(L)}L.references.push(I-n),I+=2;return}else a.set(U,{offset:I-n})}let k=U.constructor;if(k===Object)W(U,!0);else if(k===Array){E=U.length,E<24?M[I++]=128|E:jn(E);for(let L=0;L<E;L++)$(U[L])}else if(k===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(M[I++]=217,M[I++]=1,M[I++]=3),E=U.size,E<24?M[I++]=160|E:E<256?(M[I++]=184,M[I++]=E):E<65536?(M[I++]=185,M[I++]=E>>8,M[I++]=E&255):(M[I++]=186,ht.setUint32(I,E),I+=4),f.keyMap)for(let[L,K]of U)$(f.encodeKey(L)),$(K);else for(let[L,K]of U)$(L),$(K);else{for(let L=0,K=Cl.length;L<K;L++){let ne=hy[L];if(U instanceof ne){let ce=Cl[L],oe=ce.tag;oe==null&&(oe=ce.getTag&&ce.getTag.call(this,U)),oe<24?M[I++]=192|oe:oe<256?(M[I++]=216,M[I++]=oe):oe<65536?(M[I++]=217,M[I++]=oe>>8,M[I++]=oe&255):oe>-1&&(M[I++]=218,ht.setUint32(I,oe),I+=4),ce.encode.call(this,U,$,V);return}}if(U[Symbol.iterator]){if(ly){let L=new Error("Iterable should be serialized as iterator");throw L.iteratorNotHandled=!0,L}M[I++]=159;for(let L of U)$(L);M[I++]=255;return}if(U[Symbol.asyncIterator]||dy(U)){let L=new Error("Iterable/blob should be serialized as iterator");throw L.iteratorNotHandled=!0,L}if(this.useToJSON&&U.toJSON){let L=U.toJSON();if(L!==U)return $(L)}W(U,!U.hasOwnProperty)}}else if(T==="boolean")M[I++]=U?245:244;else if(T==="bigint"){if(U<BigInt(1)<<BigInt(64)&&U>=0)M[I++]=27,ht.setBigUint64(I,U);else if(U>-(BigInt(1)<<BigInt(64))&&U<0)M[I++]=59,ht.setBigUint64(I,-U-BigInt(1));else if(this.largeBigIntToFloat)M[I++]=251,ht.setFloat64(I,Number(U));else throw new RangeError(U+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");I+=8}else if(T==="undefined")M[I++]=247;else throw new Error("Unknown type: "+T)},W=this.useRecords===!1?this.variableMapSize?U=>{let T=Object.keys(U),E=Object.values(U),k=T.length;k<24?M[I++]=160|k:k<256?(M[I++]=184,M[I++]=k):k<65536?(M[I++]=185,M[I++]=k>>8,M[I++]=k&255):(M[I++]=186,ht.setUint32(I,k),I+=4);let L;if(f.keyMap)for(let K=0;K<k;K++)$(f.encodeKey(T[K])),$(E[K]);else for(let K=0;K<k;K++)$(T[K]),$(E[K])}:(U,T)=>{M[I++]=185;let E=I-n;I+=2;let k=0;if(f.keyMap)for(let L in U)(T||U.hasOwnProperty(L))&&($(f.encodeKey(L)),$(U[L]),k++);else for(let L in U)(T||U.hasOwnProperty(L))&&($(L),$(U[L]),k++);M[E+++n]=k>>8,M[E+n]=k&255}:(U,T)=>{let E,k=s.transitions||(s.transitions=Object.create(null)),L=0,K=0,ne,ce;if(this.keyMap){ce=Object.keys(U).map(ye=>this.encodeKey(ye)),K=ce.length;for(let ye=0;ye<K;ye++){let ve=ce[ye];E=k[ve],E||(E=k[ve]=Object.create(null),L++),k=E}}else for(let ye in U)(T||U.hasOwnProperty(ye))&&(E=k[ye],E||(k[Dr]&1048576&&(ne=k[Dr]&65535),E=k[ye]=Object.create(null),L++),k=E,K++);let oe=k[Dr];if(oe!==void 0)oe&=65535,M[I++]=217,M[I++]=oe>>8|224,M[I++]=oe&255;else if(ce||(ce=k.__keys__||(k.__keys__=Object.keys(U))),ne===void 0?(oe=s.nextId++,oe||(oe=0,s.nextId=1),oe>=tx&&(s.nextId=(oe=l)+1)):oe=ne,s[oe]=ce,oe<l){M[I++]=217,M[I++]=oe>>8|224,M[I++]=oe&255,k=s.transitions;for(let ye=0;ye<K;ye++)(k[Dr]===void 0||k[Dr]&1048576)&&(k[Dr]=oe),k=k[ce[ye]];k[Dr]=oe|1048576,i=!0}else{if(k[Dr]=oe,ht.setUint32(I,3655335680),I+=3,L&&(P+=D*L),S.length>=tx-l&&(S.shift()[Dr]=void 0),S.push(k),jn(K+2),$(57344+oe),$(ce),T===null)return;for(let ye in U)(T||U.hasOwnProperty(ye))&&$(U[ye]);return}if(K<24?M[I++]=128|K:jn(K),T!==null)for(let ye in U)(T||U.hasOwnProperty(ye))&&$(U[ye])},V=U=>{let T;if(U>16777216){if(U-n>rx)throw new Error("Encoded buffer would be larger than maximum buffer size");T=Math.min(rx,Math.round(Math.max((U-n)*(U>67108864?1.25:2),4194304)/4096)*4096)}else T=(Math.max(U-n<<2,M.length-1)>>12)+1<<12;let E=new fy(T);return ht=new DataView(E.buffer,0,T),M.copy?M.copy(E,0,n,U):E.set(M.slice(n,U)),I-=n,n=0,di=E.length-10,M=E},Z=100,X=1e3;this.encodeAsIterable=function(U,T){return F(U,T,_e)},this.encodeAsAsyncIterable=function(U,T){return F(U,T,ie)};function*_e(U,T,E){let k=U.constructor;if(k===Object){let L=f.useRecords!==!1;L?W(U,null):nx(Object.keys(U).length,160);for(let K in U){let ne=U[K];L||$(K),ne&&typeof ne=="object"?T[K]?yield*_e(ne,T[K]):yield*de(ne,T,K):$(ne)}}else if(k===Array){let L=U.length;jn(L);for(let K=0;K<L;K++){let ne=U[K];ne&&(typeof ne=="object"||I-n>Z)?T.element?yield*_e(ne,T.element):yield*de(ne,T,"element"):$(ne)}}else if(U[Symbol.iterator]){M[I++]=159;for(let L of U)L&&(typeof L=="object"||I-n>Z)?T.element?yield*_e(L,T.element):yield*de(L,T,"element"):$(L);M[I++]=255}else dy(U)?(nx(U.size,64),yield M.subarray(n,I),yield U,B()):U[Symbol.asyncIterator]?(M[I++]=159,yield M.subarray(n,I),yield U,B(),M[I++]=255):$(U);E&&I>n?yield M.subarray(n,I):I-n>Z&&(yield M.subarray(n,I),B())}function*de(U,T,E){let k=I-n;try{$(U),I-n>Z&&(yield M.subarray(n,I),B())}catch(L){if(L.iteratorNotHandled)T[E]={},I=n+k,yield*_e.call(this,U,T[E]);else throw L}}function B(){Z=X,f.encode(null,_l)}function F(U,T,E){return T&&T.chunkThreshold?Z=X=T.chunkThreshold:Z=100,U&&typeof U=="object"?(f.encode(null,_l),E(U,f.iterateProperties||(f.iterateProperties={}),!0)):[f.encode(U)]}async function*ie(U,T){for(let E of _e(U,T,!0)){let k=E.constructor;if(k===ex||k===Uint8Array)yield E;else if(dy(E)){let L=E.stream().getReader(),K;for(;!(K=await L.read()).done;)yield K.value}else if(E[Symbol.asyncIterator])for await(let L of E)B(),L?yield*ie(L,T.async||(T.async={})):yield f.encode(L);else yield E}}}useBuffer(e){M=e,ht=new DataView(M.buffer,M.byteOffset,M.byteLength),I=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let t=this.structures.slice(0),n=new Il(t,this.sharedValues,this.sharedVersion),o=this.saveShared(n,i=>(i&&i.version||0)==e);return o===!1?(n=this.getShared()||{},this.structures=n.structures||[],this.sharedValues=n.packedValues,this.sharedVersion=n.version,this.structures.nextId=this.structures.length):t.forEach((i,s)=>this.structures[s]=i),o}};function nx(r,e){r<24?M[I++]=e|r:r<256?(M[I++]=e|24,M[I++]=r):r<65536?(M[I++]=e|25,M[I++]=r>>8,M[I++]=r&255):(M[I++]=e|26,ht.setUint32(I,r),I+=4)}var Il=class{constructor(e,t,n){this.structures=e,this.packedValues=t,this.version=n}};function jn(r){r<24?M[I++]=128|r:r<256?(M[I++]=152,M[I++]=r):r<65536?(M[I++]=153,M[I++]=r>>8,M[I++]=r&255):(M[I++]=154,ht.setUint32(I,r),I+=4)}var xT=typeof Blob>"u"?function(){}:Blob;function dy(r){if(r instanceof xT)return!0;let e=r[Symbol.toStringTag];return e==="Blob"||e==="File"}function El(r,e){switch(typeof r){case"string":if(r.length>3){if(e.objectMap[r]>-1||e.values.length>=e.maxValues)return;let n=e.get(r);if(n)++n.count==2&&e.values.push(r);else if(e.set(r,{count:1}),e.samplingPackedValues){let o=e.samplingPackedValues.get(r);o?o.count++:e.samplingPackedValues.set(r,{count:1})}}break;case"object":if(r)if(r instanceof Array)for(let n=0,o=r.length;n<o;n++)El(r[n],e);else{let n=!e.encoder.useRecords;for(var t in r)r.hasOwnProperty(t)&&(n&&El(t,e),El(r[t],e))}break;case"function":console.log(r)}}var bT=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;hy=[Date,Set,Error,RegExp,qn,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,Il];Cl=[{tag:1,encode(r,e){let t=r.getTime()/1e3;(this.useTimestamp32||r.getMilliseconds()===0)&&t>=0&&t<4294967296?(M[I++]=26,ht.setUint32(I,t),I+=4):(M[I++]=251,ht.setFloat64(I,t),I+=8)}},{tag:258,encode(r,e){let t=Array.from(r);e(t)}},{tag:27,encode(r,e){e([r.name,r.message])}},{tag:27,encode(r,e){e(["RegExp",r.source,r.flags])}},{getTag(r){return r.tag},encode(r,e){e(r.value)}},{encode(r,e,t){ox(r,t)}},{getTag(r){if(r.constructor===Uint8Array&&(this.tagUint8Array||qc&&this.tagUint8Array!==!1))return 64},encode(r,e,t){ox(r,t)}},$n(68,1),$n(69,2),$n(70,4),$n(71,8),$n(72,1),$n(77,2),$n(78,4),$n(79,8),$n(85,4),$n(86,8),{encode(r,e){let t=r.packedValues||[],n=r.structures||[];if(t.values.length>0){M[I++]=216,M[I++]=51,jn(4);let o=t.values;e(o),jn(0),jn(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,s=o.length;i<s;i++)packedObjectMap[o[i]]=i}if(n){ht.setUint32(I,3655335424),I+=3;let o=n.slice(0);o.unshift(57344),o.push(new qn(r.version,1399353956)),e(o)}else e(new qn(r.version,1399353956))}}];function $n(r,e){return!bT&&e>1&&(r-=4),{tag:r,encode:function(n,o){let i=n.byteLength,s=n.byteOffset||0,a=n.buffer||n;o(qc?Pl.from(a,s,i):new Uint8Array(a,s,i))}}}function ox(r,e){let t=r.byteLength;t<24?M[I++]=64+t:t<256?(M[I++]=88,M[I++]=t):t<65536?(M[I++]=89,M[I++]=t>>8,M[I++]=t&255):(M[I++]=90,ht.setUint32(I,t),I+=4),I+t>=M.length&&e(I+t),M.set(r.buffer?r:new Uint8Array(r),I),I+=t}function wT(r,e){let t,n=e.length*2,o=r.length-n;e.sort((i,s)=>i.offset>s.offset?1:-1);for(let i=0;i<e.length;i++){let s=e[i];s.id=i;for(let a of s.references)r[a++]=i>>8,r[a]=i&255}for(;t=e.pop();){let i=t.offset;r.copyWithin(i+n,i,o),n-=2;let s=i+n;r[s++]=216,r[s++]=28,o=i}return r}function ix(r,e){ht.setUint32(Gt.position+r,I-Gt.position-r+1);let t=Gt;Gt=null,e(t[0]),e(t[1])}function vT(r){if(r.Class){if(!r.encode)throw new Error("Extension has no encode function");hy.unshift(r.Class),Cl.unshift(r)}ZA(r)}var yy=new Bl({useRecords:!1}),ST=yy.encode,TT=yy.encodeAsIterable,ET=yy.encodeAsAsyncIterable,{NEVER:_T,ALWAYS:CT,DECIMAL_ROUND:BT,DECIMAL_FIT:IT}=Sl,py=512,sx=1024,_l=2048;var my="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ax="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",cx=r=>{let e=typeof Uint8Array>"u"?[]:new Uint8Array(256),t=my.length;for(let n=0;n<t;n++)e[r.charCodeAt(n)]=n;return e},PT=cx(my),UT=cx(ax),RT=/^[-A-Za-z0-9\-_]*$/,OT=/^[-A-Za-z0-9+/]*={0,3}$/,Wn={};Wn.toArrayBuffer=(r,e)=>{let t=r.length,n=r.length*.75,o,i=0,s,a,c,f;r[r.length-1]==="="&&(n--,r[r.length-2]==="="&&n--);let p=new ArrayBuffer(n),l=new Uint8Array(p),w=e?UT:PT;for(o=0;o<t;o+=4)s=w[r.charCodeAt(o)],a=w[r.charCodeAt(o+1)],c=w[r.charCodeAt(o+2)],f=w[r.charCodeAt(o+3)],l[i++]=s<<2|a>>4,l[i++]=(a&15)<<4|c>>2,l[i++]=(c&3)<<6|f&63;return p};Wn.fromArrayBuffer=(r,e)=>{let t=new Uint8Array(r),n,o="",i=t.length,s=e?ax:my;for(n=0;n<i;n+=3)o+=s[t[n]>>2],o+=s[(t[n]&3)<<4|t[n+1]>>4],o+=s[(t[n+1]&15)<<2|t[n+2]>>6],o+=s[t[n+2]&63];let a=i%3;return a===2?o=o.substring(0,o.length-1)+(e?"":"="):a===1&&(o=o.substring(0,o.length-2)+(e?"":"==")),o};Wn.toString=(r,e)=>new TextDecoder().decode(Wn.toArrayBuffer(r,e));Wn.fromString=(r,e)=>Wn.fromArrayBuffer(new TextEncoder().encode(r),e);Wn.validate=(r,e)=>{if(!(typeof r=="string"||r instanceof String))return!1;try{return e?RT.test(r):OT.test(r)}catch{return!1}};Wn.base64=Wn;var Qn=Wn;var fm=Vr(fx(),1);var Zn={};yn(Zn,{Any:()=>Jn,BaseBlock:()=>Nt,BaseStringBlock:()=>Wc,BitString:()=>In,BmpString:()=>us,Boolean:()=>ss,CharacterString:()=>As,Choice:()=>Ba,Constructed:()=>zt,DATE:()=>eu,DateTime:()=>ru,Duration:()=>nu,EndOfContent:()=>Qc,Enumerated:()=>as,GeneralString:()=>gs,GeneralizedTime:()=>xs,GraphicString:()=>ms,HexBlock:()=>Xn,IA5String:()=>ys,Integer:()=>Uo,Null:()=>Cn,NumericString:()=>ls,ObjectIdentifier:()=>cs,OctetString:()=>Bn,Primitive:()=>Po,PrintableString:()=>ds,RawData:()=>by,RelativeObjectIdentifier:()=>Zc,Repeated:()=>bs,Sequence:()=>Sr,Set:()=>Tr,TIME:()=>ou,TeletexString:()=>ps,TimeOfDay:()=>tu,UTCTime:()=>Ai,UniversalString:()=>fs,Utf8String:()=>rn,ValueBlock:()=>Wt,VideotexString:()=>hs,ViewWriter:()=>Ca,VisibleString:()=>gi,compareSchema:()=>mi,fromBER:()=>Oo,verifySchema:()=>eE});var Ve=Vr(hi());function is(r,e){let t=0;if(r.length===1)return r[0];for(let n=r.length-1;n>=0;n--)t+=r[r.length-1-n]*Math.pow(2,e*n);return t}function yi(r,e,t=-1){let n=t,o=r,i=0,s=Math.pow(2,e);for(let a=1;a<8;a++){if(r<s){let c;if(n<0)c=new ArrayBuffer(a),i=a;else{if(n<a)return new ArrayBuffer(0);c=new ArrayBuffer(n),i=n}let f=new Uint8Array(c);for(let p=a-1;p>=0;p--){let l=Math.pow(2,p*e);f[i-p-1]=Math.floor(o/l),o-=f[i-p-1]*l}return c}s*=Math.pow(2,e)}return new ArrayBuffer(0)}function Dl(...r){let e=0,t=0;for(let i of r)e+=i.length;let n=new ArrayBuffer(e),o=new Uint8Array(n);for(let i of r)o.set(i,t),t+=i.length;return o}function Ay(){let r=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let a=r[0]===255&&r[1]&128,c=r[0]===0&&(r[1]&128)===0;(a||c)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let a=0;a<this.valueHex.byteLength;a++)t[a]=0;t[0]=r[0]&128;let n=is(t,8),o=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(o);for(let a=0;a<this.valueHex.byteLength;a++)i[a]=r[a];return i[0]&=127,is(i,8)-n}function lx(r){let e=r<0?r*-1:r,t=128;for(let n=1;n<8;n++){if(e<=t){if(r<0){let s=t-e,a=yi(s,8,n),c=new Uint8Array(a);return c[0]|=128,a}let o=yi(e,8,n),i=new Uint8Array(o);if(i[0]&128){let s=o.slice(0),a=new Uint8Array(s);o=new ArrayBuffer(o.byteLength+1),i=new Uint8Array(o);for(let c=0;c<s.byteLength;c++)i[c+1]=a[c];i[0]=0}return o}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function dx(r,e){if(r.byteLength!==e.byteLength)return!1;let t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<t.length;o++)if(t[o]!==n[o])return!1;return!0}function wr(r,e){let t=r.toString(10);if(e<t.length)return"";let n=e-t.length,o=new Array(n);for(let s=0;s<n;s++)o[s]="0";return o.join("").concat(t)}var rR=Math.log(2);function Ml(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function wy(r){let e=0,t=0;for(let o=0;o<r.length;o++){let i=r[o];e+=i.byteLength}let n=new Uint8Array(e);for(let o=0;o<r.length;o++){let i=r[o];n.set(new Uint8Array(i),t),t+=i.byteLength}return n.buffer}function Ro(r,e,t,n){return e instanceof Uint8Array?e.byteLength?t<0?(r.error="Wrong parameter: inputOffset less than zero",!1):n<0?(r.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-n<0?(r.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(r.error="Wrong parameter: inputBuffer has zero length",!1):(r.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}var Ca=class{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return wy(this.items)}},$c=[new Uint8Array([1])],px="0123456789",xy="name",hx="valueHexView",KT="isHexOnly",FT="idBlock",VT="tagClass",qT="tagNumber",$T="isConstructed",jT="fromBER",WT="toBER",QT="local",vr="",Pn=new ArrayBuffer(0),Xl=new Uint8Array(0),jc="EndOfContent",mx="OCTET STRING",gx="BIT STRING";function Xn(r){var e;return e=class extends r{constructor(...n){var o;super(...n);let i=n[0]||{};this.isHexOnly=(o=i.isHexOnly)!==null&&o!==void 0?o:!1,this.valueHexView=i.valueHex?Ve.BufferSourceConverter.toUint8Array(i.valueHex):Xl}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,o,i){let s=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!Ro(this,s,o,i))return-1;let a=o+i;return this.valueHexView=s.subarray(o,a),this.valueHexView.length?(this.blockLength=i,a):(this.warnings.push("Zero buffer length"),o)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Pn)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:Ve.Convert.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}var Io=class{constructor({blockLength:e=0,error:t=vr,warnings:n=[],valueBeforeDecode:o=Xl}={}){this.blockLength=e,this.error=t,this.warnings=n,this.valueBeforeDecodeView=Ve.BufferSourceConverter.toUint8Array(o)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:Ve.Convert.ToHex(this.valueBeforeDecodeView)}}};Io.NAME="baseBlock";var Wt=class extends Io{fromBER(e,t,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};Wt.NAME="valueBlock";var Ll=class extends Xn(Io){constructor({idBlock:e={}}={}){var t,n,o,i;super(),e?(this.isHexOnly=(t=e.isHexOnly)!==null&&t!==void 0?t:!1,this.valueHexView=e.valueHex?Ve.BufferSourceConverter.toUint8Array(e.valueHex):Xl,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(o=e.tagNumber)!==null&&o!==void 0?o:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",Pn}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){let o=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,t|=i,o[0]=t}return o.buffer}if(!this.isHexOnly){let o=yi(this.tagNumber,7),i=new Uint8Array(o),s=o.byteLength,a=new Uint8Array(s+1);if(a[0]=t|31,!e){for(let c=0;c<s-1;c++)a[c+1]=i[c]|128;a[s]=i[s-1]}return a.buffer}let n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=t|31,!e){let o=this.valueHexView;for(let i=0;i<o.length-1;i++)n[i+1]=o[i]|128;n[this.valueHexView.byteLength]=o[o.length-1]}return n.buffer}fromBER(e,t,n){let o=Ve.BufferSourceConverter.toUint8Array(e);if(!Ro(this,o,t,n))return-1;let i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;let a=i[0]&31;if(a!==31)this.tagNumber=a,this.blockLength=1;else{let c=1,f=this.valueHexView=new Uint8Array(255),p=255;for(;i[c]&128;){if(f[c-1]=i[c]&127,c++,c>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(c===p){p+=255;let w=new Uint8Array(p);for(let h=0;h<f.length;h++)w[h]=f[h];f=this.valueHexView=new Uint8Array(p)}}this.blockLength=c+1,f[c-1]=i[c]&127;let l=new Uint8Array(c);for(let w=0;w<c;w++)l[w]=f[w];f=this.valueHexView=new Uint8Array(c),f.set(l),this.blockLength<=9?this.tagNumber=is(f,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};Ll.NAME="identificationBlock";var Hl=class extends Io{constructor({lenBlock:e={}}={}){var t,n,o;super(),this.isIndefiniteForm=(t=e.isIndefiniteForm)!==null&&t!==void 0?t:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(o=e.length)!==null&&o!==void 0?o:0}fromBER(e,t,n){let o=Ve.BufferSourceConverter.toUint8Array(e);if(!Ro(this,o,t,n))return-1;let i=o.subarray(t,t+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,t+this.blockLength;let s=i[0]&127;if(s>8)return this.error="Too big integer",-1;if(s+1>i.length)return this.error="End of input reached before message was fully decoded",-1;let a=t+1,c=o.subarray(a,a+s);return c[s-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=is(c,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=s+1,t+this.blockLength}toBER(e=!1){let t,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=128),t;if(this.longFormUsed){let o=yi(this.length,8);if(o.byteLength>127)return this.error="Too big length",Pn;if(t=new ArrayBuffer(o.byteLength+1),e)return t;let i=new Uint8Array(o);n=new Uint8Array(t),n[0]=o.byteLength|128;for(let s=0;s<o.byteLength;s++)n[s+1]=i[s];return t}return t=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(t),n[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};Hl.NAME="lengthBlock";var le={},Nt=class extends Io{constructor({name:e=vr,optional:t=!1,primitiveSchema:n,...o}={},i){super(o),this.name=e,this.optional=t,n&&(this.primitiveSchema=n),this.idBlock=new Ll(o),this.lenBlock=new Hl(o),this.valueBlock=i?new i(o):new Wt(o)}fromBER(e,t,n){let o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}toBER(e,t){let n=t||new Ca;t||Ax(this);let o=this.idBlock.toBER(e);if(n.write(o),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{let i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;let s=this.lenBlock.toBER(e);n.write(s),n.write(i)}return t?Pn:n.final()}toJSON(){let e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():Ve.Convert.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${Ve.Convert.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;let t=this.toBER(),n=e.toBER();return dx(t,n)}};Nt.NAME="BaseBlock";function Ax(r){if(r instanceof le.Constructed)for(let e of r.valueBlock.value)Ax(e)&&(r.lenBlock.isIndefiniteForm=!0);return!!r.lenBlock.isIndefiniteForm}var Wc=class extends Nt{constructor({value:e=vr,...t}={},n){super(t,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,n){let o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};Wc.NAME="BaseStringBlock";var Gl=class extends Xn(Wt){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}};Gl.NAME="PrimitiveValueBlock";var xx,Po=class extends Nt{constructor(e={}){super(e,Gl),this.idBlock.isConstructed=!1}};xx=Po;le.Primitive=xx;Po.NAME="PRIMITIVE";function YT(r,e){if(r instanceof e)return r;let t=new e;return t.idBlock=r.idBlock,t.lenBlock=r.lenBlock,t.warnings=r.warnings,t.valueBeforeDecodeView=r.valueBeforeDecodeView,t}function Ia(r,e=0,t=r.length){let n=e,o=new Nt({},Wt),i=new Io;if(!Ro(i,r,e,t))return o.error=i.error,{offset:-1,result:o};if(!r.subarray(e,e+t).length)return o.error="Zero buffer length",{offset:-1,result:o};let a=o.idBlock.fromBER(r,e,t);if(o.idBlock.warnings.length&&o.warnings.concat(o.idBlock.warnings),a===-1)return o.error=o.idBlock.error,{offset:-1,result:o};if(e=a,t-=o.idBlock.blockLength,a=o.lenBlock.fromBER(r,e,t),o.lenBlock.warnings.length&&o.warnings.concat(o.lenBlock.warnings),a===-1)return o.error=o.lenBlock.error,{offset:-1,result:o};if(e=a,t-=o.lenBlock.blockLength,!o.idBlock.isConstructed&&o.lenBlock.isIndefiniteForm)return o.error="Indefinite length form used for primitive encoding form",{offset:-1,result:o};let c=Nt;switch(o.idBlock.tagClass){case 1:if(o.idBlock.tagNumber>=37&&o.idBlock.isHexOnly===!1)return o.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:o};switch(o.idBlock.tagNumber){case 0:if(o.idBlock.isConstructed&&o.lenBlock.length>0)return o.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:o};c=le.EndOfContent;break;case 1:c=le.Boolean;break;case 2:c=le.Integer;break;case 3:c=le.BitString;break;case 4:c=le.OctetString;break;case 5:c=le.Null;break;case 6:c=le.ObjectIdentifier;break;case 10:c=le.Enumerated;break;case 12:c=le.Utf8String;break;case 13:c=le.RelativeObjectIdentifier;break;case 14:c=le.TIME;break;case 15:return o.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:o};case 16:c=le.Sequence;break;case 17:c=le.Set;break;case 18:c=le.NumericString;break;case 19:c=le.PrintableString;break;case 20:c=le.TeletexString;break;case 21:c=le.VideotexString;break;case 22:c=le.IA5String;break;case 23:c=le.UTCTime;break;case 24:c=le.GeneralizedTime;break;case 25:c=le.GraphicString;break;case 26:c=le.VisibleString;break;case 27:c=le.GeneralString;break;case 28:c=le.UniversalString;break;case 29:c=le.CharacterString;break;case 30:c=le.BmpString;break;case 31:c=le.DATE;break;case 32:c=le.TimeOfDay;break;case 33:c=le.DateTime;break;case 34:c=le.Duration;break;default:{let f=o.idBlock.isConstructed?new le.Constructed:new le.Primitive;f.idBlock=o.idBlock,f.lenBlock=o.lenBlock,f.warnings=o.warnings,o=f}}break;case 2:case 3:case 4:default:c=o.idBlock.isConstructed?le.Constructed:le.Primitive}return o=YT(o,c),a=o.fromBER(r,e,o.lenBlock.isIndefiniteForm?t:o.lenBlock.length),o.valueBeforeDecodeView=r.subarray(n,n+o.blockLength),{offset:a,result:o}}function Oo(r){if(!r.byteLength){let e=new Nt({},Wt);return e.error="Input buffer has zero length",{offset:-1,result:e}}return Ia(Ve.BufferSourceConverter.toUint8Array(r).slice(),0,r.byteLength)}function JT(r,e){return r?1:e}var Yn=class extends Wt{constructor({value:e=[],isIndefiniteForm:t=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,n){let o=Ve.BufferSourceConverter.toUint8Array(e);if(!Ro(this,o,t,n))return-1;if(this.valueBeforeDecodeView=o.subarray(t,t+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),t;let i=t;for(;JT(this.isIndefiniteForm,n)>0;){let s=Ia(o,i,n);if(s.offset===-1)return this.error=s.result.error,this.warnings.concat(s.result.warnings),-1;if(i=s.offset,this.blockLength+=s.result.blockLength,n-=s.result.blockLength,this.value.push(s.result),this.isIndefiniteForm&&s.result.constructor.NAME===jc)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===jc?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){let n=t||new Ca;for(let o=0;o<this.value.length;o++)this.value[o].toBER(e,n);return t?Pn:n.final()}toJSON(){let e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let t of this.value)e.value.push(t.toJSON());return e}};Yn.NAME="ConstructedValueBlock";var bx,zt=class extends Nt{constructor(e={}){super(e,Yn),this.idBlock.isConstructed=!0}fromBER(e,t,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let o=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return o===-1?(this.error=this.valueBlock.error,o):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),o)}onAsciiEncoding(){let e=[];for(let n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(o=>`  ${o}`).join(`
`));let t=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :
${e.join(`
`)}`:`${t} :`}};bx=zt;le.Constructed=bx;zt.NAME="CONSTRUCTED";var zl=class extends Wt{fromBER(e,t,n){return t}toBER(e){return Pn}};zl.override="EndOfContentValueBlock";var wx,Qc=class extends Nt{constructor(e={}){super(e,zl),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};wx=Qc;le.EndOfContent=wx;Qc.NAME=jc;var vx,Cn=class extends Nt{constructor(e={}){super(e,Wt),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,t+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+n}toBER(e,t){let n=new ArrayBuffer(2);if(!e){let o=new Uint8Array(n);o[0]=5,o[1]=0}return t&&t.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}};vx=Cn;le.Null=vx;Cn.NAME="NULL";var Kl=class extends Xn(Wt){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=Ve.BufferSourceConverter.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(let e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,n){let o=Ve.BufferSourceConverter.toUint8Array(e);return Ro(this,o,t,n)?(this.valueHexView=o.subarray(t,t+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Ay.call(this),this.blockLength=n,t+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};Kl.NAME="BooleanValueBlock";var Sx,ss=class extends Nt{constructor(e={}){super(e,Kl),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};Sx=ss;le.Boolean=Sx;ss.NAME="BOOLEAN";var Fl=class extends Xn(Yn){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,n){let o=0;if(this.isConstructed){if(this.isHexOnly=!1,o=Yn.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(let i=0;i<this.value.length;i++){let s=this.value[i].constructor.NAME;if(s===jc){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(s!==mx)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,o=super.fromBER(e,t,n),this.blockLength=n;return o}toBER(e,t){return this.isConstructed?Yn.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};Fl.NAME="OctetStringValueBlock";var Tx,Bn=class r extends Nt{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},Fl),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+n);try{if(i.byteLength){let s=Ia(i,0,i.byteLength);s.offset!==-1&&s.offset===n&&(this.valueBlock.value=[s.result])}}catch{}}return super.fromBER(e,t,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?zt.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${Ve.Convert.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof r&&e.push(t.valueBlock.valueHexView);return Ve.BufferSourceConverter.concat(e)}};Tx=Bn;le.OctetString=Tx;Bn.NAME=mx;var Vl=class extends Xn(Yn){constructor({unusedBits:e=0,isConstructed:t=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,n){if(!n)return t;let o=-1;if(this.isConstructed){if(o=Yn.prototype.fromBER.call(this,e,t,n),o===-1)return o;for(let a of this.value){let c=a.constructor.NAME;if(c===jc){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(c!==gx)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let f=a.valueBlock;if(this.unusedBits>0&&f.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=f.unusedBits}return o}let i=Ve.BufferSourceConverter.toUint8Array(e);if(!Ro(this,i,t,n))return-1;let s=i.subarray(t,t+n);if(this.unusedBits=s[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let a=s.subarray(1);try{if(a.byteLength){let c=Ia(a,0,a.byteLength);c.offset!==-1&&c.offset===n-1&&(this.value=[c.result])}}catch{}}return this.valueHexView=s.subarray(1),this.blockLength=s.length,t+n}toBER(e,t){if(this.isConstructed)return Yn.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Pn;let n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};Vl.NAME="BitStringValueBlock";var Ex,In=class extends Nt{constructor({idBlock:e={},lenBlock:t={},...n}={}){var o,i;(o=n.isConstructed)!==null&&o!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!n.isIndefiniteForm},...n},Vl),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return zt.prototype.onAsciiEncoding.call(this);{let e=[],t=this.valueBlock.valueHexView;for(let o of t)e.push(o.toString(2).padStart(8,"0"));let n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}};Ex=In;le.BitString=Ex;In.NAME=gx;var _x;function XT(r,e){let t=new Uint8Array([0]),n=new Uint8Array(r),o=new Uint8Array(e),i=n.slice(0),s=i.length-1,a=o.slice(0),c=a.length-1,f=0,p=c<s?s:c,l=0;for(let w=p;w>=0;w--,l++){switch(!0){case l<a.length:f=i[s-l]+a[c-l]+t[0];break;default:f=i[s-l]+t[0]}switch(t[0]=f/10,!0){case l>=i.length:i=Dl(new Uint8Array([f%10]),i);break;default:i[s-l]=f%10}}return t[0]>0&&(i=Dl(t,i)),i}function yx(r){if(r>=$c.length)for(let e=$c.length;e<=r;e++){let t=new Uint8Array([0]),n=$c[e-1].slice(0);for(let o=n.length-1;o>=0;o--){let i=new Uint8Array([(n[o]<<1)+t[0]]);t[0]=i[0]/10,n[o]=i[0]%10}t[0]>0&&(n=Dl(t,n)),$c.push(n)}return $c[r]}function ZT(r,e){let t=0,n=new Uint8Array(r),o=new Uint8Array(e),i=n.slice(0),s=i.length-1,a=o.slice(0),c=a.length-1,f,p=0;for(let l=c;l>=0;l--,p++)switch(f=i[s-p]-a[c-p]-t,!0){case f<0:t=1,i[s-p]=f+10;break;default:t=0,i[s-p]=f}if(t>0)for(let l=s-c+1;l>=0;l--,p++)if(f=i[s-p]-t,f<0)t=1,i[s-p]=f+10;else{t=0,i[s-p]=f;break}return i.slice()}var Yc=class extends Xn(Wt){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Ay.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(lx(e))}get valueDec(){return this._valueDec}fromDER(e,t,n,o=0){let i=this.fromBER(e,t,n);if(i===-1)return i;let s=this.valueHexView;return s[0]===0&&s[1]&128?this.valueHexView=s.subarray(1):o!==0&&s.length<o&&(o-s.length>1&&(o=s.length+1),this.valueHexView=s.subarray(o-s.length)),i}toDER(e=!1){let t=this.valueHexView;switch(!0){case(t[0]&128)!==0:{let n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(t,1),this.valueHexView=n}break;case(t[0]===0&&(t[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,t,n){let o=super.fromBER(e,t,n);return o===-1||this.setValueHex(),o}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let e=this.valueHexView.length*8-1,t=new Uint8Array(this.valueHexView.length*8/3),n=0,o,i=this.valueHexView,s="",a=!1;for(let c=i.byteLength-1;c>=0;c--){o=i[c];for(let f=0;f<8;f++){if((o&1)===1)switch(n){case e:t=ZT(yx(n),t),s="-";break;default:t=XT(t,yx(n))}n++,o>>=1}}for(let c=0;c<t.length;c++)t[c]&&(a=!0),a&&(s+=px.charAt(t[c]));return a===!1&&(s+=px.charAt(0)),s}};_x=Yc;Yc.NAME="IntegerValueBlock";Object.defineProperty(_x.prototype,"valueHex",{set:function(r){this.valueHexView=new Uint8Array(r),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var Cx,Uo=class r extends Nt{constructor(e={}){super(e,Yc),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Ml(),BigInt(this.valueBlock.toString())}static fromBigInt(e){Ml();let t=BigInt(e),n=new Ca,o=t.toString(16).replace(/^-/,""),i=new Uint8Array(Ve.Convert.FromHex(o));if(t<0){let a=new Uint8Array(i.length+(i[0]&128?1:0));a[0]|=128;let f=BigInt(`0x${Ve.Convert.ToHex(a)}`)+t,p=Ve.BufferSourceConverter.toUint8Array(Ve.Convert.FromHex(f.toString(16)));p[0]|=128,n.write(p)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new r({valueHex:n.final()})}convertToDER(){let e=new r({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new r({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};Cx=Uo;le.Integer=Cx;Uo.NAME="INTEGER";var Bx,as=class extends Uo{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};Bx=as;le.Enumerated=Bx;as.NAME="ENUMERATED";var Jc=class extends Xn(Wt){constructor({valueDec:e=-1,isFirstSid:t=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,n){if(!n)return t;let o=Ve.BufferSourceConverter.toUint8Array(e);if(!Ro(this,o,t,n))return-1;let i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=i[a]&127,this.blockLength++,!!(i[a]&128));a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=is(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){Ml();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;let n=new Uint8Array(t.length/7);for(let o=0;o<n.length;o++)n[o]=parseInt(t.slice(o*7,o*7+7),2)+(o+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}let t=yi(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",Pn;let n=new Uint8Array(t.byteLength);if(!e){let o=new Uint8Array(t),i=t.byteLength-1;for(let s=0;s<i;s++)n[s]=o[s]|128;n[i]=o[i]}return n}toString(){let e="";if(this.isHexOnly)e=Ve.Convert.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};Jc.NAME="sidBlock";var ql=class extends Wt{constructor({value:e=vr,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){let i=new Jc;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e){let t=[];for(let n=0;n<this.value.length;n++){let o=this.value[n].toBER(e);if(o.byteLength===0)return this.error=this.value[n].error,Pn;t.push(o)}return wy(t)}fromString(e){this.value=[];let t=0,n=0,o="",i=!1;do if(n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1,i){let s=this.value[0],a=0;switch(s.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}let c=parseInt(o,10);if(isNaN(c))return;s.valueDec=c+a,i=!1}else{let s=new Jc;if(o>Number.MAX_SAFE_INTEGER){Ml();let a=BigInt(o);s.valueBigInt=a}else if(s.valueDec=parseInt(o,10),isNaN(s.valueDec))return;this.value.length||(s.isFirstSid=!0,i=!0),this.value.push(s)}while(n!==-1)}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t?(o=`{${o}}`,this.value[n].isFirstSid?e=`2.{${o} - 80}`:e+=o):e+=o}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}};ql.NAME="ObjectIdentifierValueBlock";var Ix,cs=class extends Nt{constructor(e={}){super(e,ql),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Ix=cs;le.ObjectIdentifier=Ix;cs.NAME="OBJECT IDENTIFIER";var Xc=class extends Xn(Io){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,n){if(n===0)return t;let o=Ve.BufferSourceConverter.toUint8Array(e);if(!Ro(this,o,t,n))return-1;let i=o.subarray(t,t+n);this.valueHexView=new Uint8Array(n);for(let a=0;a<n&&(this.valueHexView[a]=i[a]&127,this.blockLength++,!!(i[a]&128));a++);let s=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength;a++)s[a]=this.valueHexView[a];return this.valueHexView=s,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=is(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);let o=this.valueHexView,i=new Uint8Array(this.blockLength);for(let s=0;s<this.blockLength-1;s++)i[s]=o[s]|128;return i[this.blockLength-1]=o[this.blockLength-1],i.buffer}let t=yi(this.valueDec,7);if(t.byteLength===0)return this.error="Error during encoding SID value",Pn;let n=new Uint8Array(t.byteLength);if(!e){let o=new Uint8Array(t),i=t.byteLength-1;for(let s=0;s<i;s++)n[s]=o[s]|128;n[i]=o[i]}return n.buffer}toString(){let e="";return this.isHexOnly?e=Ve.Convert.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};Xc.NAME="relativeSidBlock";var $l=class extends Wt{constructor({value:e=vr,...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,n){let o=t;for(;n>0;){let i=new Xc;if(o=i.fromBER(e,o,n),o===-1)return this.blockLength=0,this.error=i.error,o;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return o}toBER(e,t){let n=[];for(let o=0;o<this.value.length;o++){let i=this.value[o].toBER(e);if(i.byteLength===0)return this.error=this.value[o].error,Pn;n.push(i)}return wy(n)}fromString(e){this.value=[];let t=0,n=0,o="";do{n=e.indexOf(".",t),n===-1?o=e.substring(t):o=e.substring(t,n),t=n+1;let i=new Xc;if(i.valueDec=parseInt(o,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let e="",t=!1;for(let n=0;n<this.value.length;n++){t=this.value[n].isHexOnly;let o=this.value[n].toString();n!==0&&(e=`${e}.`),t&&(o=`{${o}}`),e+=o}return e}toJSON(){let e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}};$l.NAME="RelativeObjectIdentifierValueBlock";var Px,Zc=class extends Nt{constructor(e={}){super(e,$l),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};Px=Zc;le.RelativeObjectIdentifier=Px;Zc.NAME="RelativeObjectIdentifier";var Ux,Sr=class extends zt{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};Ux=Sr;le.Sequence=Ux;Sr.NAME="SEQUENCE";var Rx,Tr=class extends zt{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};Rx=Tr;le.Set=Rx;Tr.NAME="SET";var jl=class extends Xn(Wt){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=vr}toJSON(){return{...super.toJSON(),value:this.value}}};jl.NAME="StringValueBlock";var Wl=class extends jl{};Wl.NAME="SimpleStringValueBlock";var dr=class extends Wc{constructor({...e}={}){super(e,Wl)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,Ve.BufferSourceConverter.toUint8Array(e))}fromString(e){let t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t);for(let o=0;o<t;o++)n[o]=e.charCodeAt(o);this.valueBlock.value=e}};dr.NAME="SIMPLE STRING";var Ql=class extends dr{fromBuffer(e){this.valueBlock.valueHexView=Ve.BufferSourceConverter.toUint8Array(e);try{this.valueBlock.value=Ve.Convert.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=Ve.Convert.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(Ve.Convert.FromUtf8String(e)),this.valueBlock.value=e}};Ql.NAME="Utf8StringValueBlock";var Ox,rn=class extends Ql{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};Ox=rn;le.Utf8String=Ox;rn.NAME="UTF8String";var Yl=class extends dr{fromBuffer(e){this.valueBlock.value=Ve.Convert.ToUtf16String(e),this.valueBlock.valueHexView=Ve.BufferSourceConverter.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(Ve.Convert.FromUtf16String(e))}};Yl.NAME="BmpStringValueBlock";var kx,us=class extends Yl{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};kx=us;le.BmpString=kx;us.NAME="BMPString";var Jl=class extends dr{fromBuffer(e){let t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(t);for(let o=0;o<n.length;o+=4)n[o]=n[o+3],n[o+1]=n[o+2],n[o+2]=0,n[o+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){let t=e.length,n=this.valueBlock.valueHexView=new Uint8Array(t*4);for(let o=0;o<t;o++){let i=yi(e.charCodeAt(o),8),s=new Uint8Array(i);if(s.length>4)continue;let a=4-s.length;for(let c=s.length-1;c>=0;c--)n[o*4+c+a]=s[c]}this.valueBlock.value=e}};Jl.NAME="UniversalStringValueBlock";var Nx,fs=class extends Jl{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};Nx=fs;le.UniversalString=Nx;fs.NAME="UniversalString";var Dx,ls=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};Dx=ls;le.NumericString=Dx;ls.NAME="NumericString";var Mx,ds=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};Mx=ds;le.PrintableString=Mx;ds.NAME="PrintableString";var Lx,ps=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};Lx=ps;le.TeletexString=Lx;ps.NAME="TeletexString";var Hx,hs=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};Hx=hs;le.VideotexString=Hx;hs.NAME="VideotexString";var Gx,ys=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};Gx=ys;le.IA5String=Gx;ys.NAME="IA5String";var zx,ms=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};zx=ms;le.GraphicString=zx;ms.NAME="GraphicString";var Kx,gi=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};Kx=gi;le.VisibleString=Kx;gi.NAME="VisibleString";var Fx,gs=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};Fx=gs;le.GeneralString=Fx;gs.NAME="GeneralString";var Vx,As=class extends dr{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};Vx=As;le.CharacterString=Vx;As.NAME="CharacterString";var qx,Ai=class extends gi{constructor({value:e,valueDate:t,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let o=0;o<e.length;o++)this.valueBlock.valueHexView[o]=e.charCodeAt(o)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,Ve.BufferSourceConverter.toUint8Array(e)))}toBuffer(){let e=this.toString(),t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){let n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}let o=parseInt(n[1],10);o>=50?this.year=1900+o:this.year=2e3+o,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){let t=new Array(7);return t[0]=wr(this.year<2e3?this.year-1900:this.year-2e3,2),t[1]=wr(this.month,2),t[2]=wr(this.day,2),t[3]=wr(this.hour,2),t[4]=wr(this.minute,2),t[5]=wr(this.second,2),t[6]="Z",t.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};qx=Ai;le.UTCTime=qx;Ai.NAME="UTCTime";var $x,xs=class extends Ai{constructor(e={}){var t;super(e),(t=this.millisecond)!==null&&t!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t=!1,n="",o="",i=0,s,a=0,c=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),t=!0;else{let l=new Number(e[e.length-1]);if(isNaN(l.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(t){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let l=1,w=n.indexOf("+"),h="";if(w===-1&&(w=n.indexOf("-"),l=-1),w!==-1){if(h=n.substring(w+1),n=n.substring(0,w),h.length!==2&&h.length!==4)throw new Error("Wrong input string for conversion");let m=parseInt(h.substring(0,2),10);if(isNaN(m.valueOf()))throw new Error("Wrong input string for conversion");if(a=l*m,h.length===4){if(m=parseInt(h.substring(2,4),10),isNaN(m.valueOf()))throw new Error("Wrong input string for conversion");c=l*m}}}let f=n.indexOf(".");if(f===-1&&(f=n.indexOf(",")),f!==-1){let l=new Number(`0${n.substring(f)}`);if(isNaN(l.valueOf()))throw new Error("Wrong input string for conversion");i=l.valueOf(),o=n.substring(0,f)}else o=n;switch(!0){case o.length===8:if(s=/(\d{4})(\d{2})(\d{2})/ig,f!==-1)throw new Error("Wrong input string for conversion");break;case o.length===10:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let l=60*i;this.minute=Math.floor(l),l=60*(l-this.minute),this.second=Math.floor(l),l=1e3*(l-this.second),this.millisecond=Math.floor(l)}break;case o.length===12:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let l=60*i;this.second=Math.floor(l),l=1e3*(l-this.second),this.millisecond=Math.floor(l)}break;case o.length===14:if(s=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,f!==-1){let l=1e3*i;this.millisecond=Math.floor(l)}break;default:throw new Error("Wrong input string for conversion")}let p=s.exec(o);if(p===null)throw new Error("Wrong input string for conversion");for(let l=1;l<p.length;l++)switch(l){case 1:this.year=parseInt(p[l],10);break;case 2:this.month=parseInt(p[l],10);break;case 3:this.day=parseInt(p[l],10);break;case 4:this.hour=parseInt(p[l],10)+a;break;case 5:this.minute=parseInt(p[l],10)+c;break;case 6:this.second=parseInt(p[l],10);break;default:throw new Error("Wrong input string for conversion")}if(t===!1){let l=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=l.getUTCFullYear(),this.month=l.getUTCMonth(),this.day=l.getUTCDay(),this.hour=l.getUTCHours(),this.minute=l.getUTCMinutes(),this.second=l.getUTCSeconds(),this.millisecond=l.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){let t=[];return t.push(wr(this.year,4)),t.push(wr(this.month,2)),t.push(wr(this.day,2)),t.push(wr(this.hour,2)),t.push(wr(this.minute,2)),t.push(wr(this.second,2)),this.millisecond!==0&&(t.push("."),t.push(wr(this.millisecond,3))),t.push("Z"),t.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};$x=xs;le.GeneralizedTime=$x;xs.NAME="GeneralizedTime";var jx,eu=class extends rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};jx=eu;le.DATE=jx;eu.NAME="DATE";var Wx,tu=class extends rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};Wx=tu;le.TimeOfDay=Wx;tu.NAME="TimeOfDay";var Qx,ru=class extends rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};Qx=ru;le.DateTime=Qx;ru.NAME="DateTime";var Yx,nu=class extends rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};Yx=nu;le.Duration=Yx;nu.NAME="Duration";var Jx,ou=class extends rn{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};Jx=ou;le.TIME=Jx;ou.NAME="TIME";var Jn=class{constructor({name:e=vr,optional:t=!1}={}){this.name=e,this.optional=t}},Ba=class extends Jn{constructor({value:e=[],...t}={}){super(t),this.value=e}},bs=class extends Jn{constructor({value:e=new Jn,local:t=!1,...n}={}){super(n),this.value=e,this.local=t}},by=class{constructor({data:e=Xl}={}){this.dataView=Ve.BufferSourceConverter.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=Ve.BufferSourceConverter.toUint8Array(e)}fromBER(e,t,n){let o=t+n;return this.dataView=Ve.BufferSourceConverter.toUint8Array(e).subarray(t,o),o}toBER(e){return this.dataView.slice().buffer}};function mi(r,e,t){if(t instanceof Ba){for(let i=0;i<t.value.length;i++)if(mi(r,e,t.value[i]).verified)return{verified:!0,result:r};{let i={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(xy)&&(i.name=t.name),i}}if(t instanceof Jn)return t.hasOwnProperty(xy)&&(r[t.name]=e),{verified:!0,result:r};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(FT in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(jT in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(WT in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let n=t.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty(VT)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty(qT)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:r};if(t.idBlock.hasOwnProperty($T)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:r};if(!(KT in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:r};if(t.idBlock.isHexOnly){if(!(hx in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let i=t.idBlock.valueHexView,s=e.idBlock.valueHexView;if(i.length!==s.length)return{verified:!1,result:r};for(let a=0;a<i.length;a++)if(i[a]!==s[1])return{verified:!1,result:r}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&(r[t.name]=e)),t instanceof le.Constructed){let i=0,s={verified:!1,result:{error:"Unknown error"}},a=t.valueBlock.value.length;if(a>0&&t.valueBlock.value[0]instanceof bs&&(a=e.valueBlock.value.length),a===0)return{verified:!0,result:r};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let c=!0;for(let f=0;f<t.valueBlock.value.length;f++)c=c&&(t.valueBlock.value[f].optional||!1);return c?{verified:!0,result:r}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&delete r[t.name]),r.error="Inconsistent object length",{verified:!1,result:r})}for(let c=0;c<a;c++)if(c-i>=e.valueBlock.value.length){if(t.valueBlock.value[c].optional===!1){let f={verified:!1,result:r};return r.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&(delete r[t.name],f.name=t.name)),f}}else if(t.valueBlock.value[0]instanceof bs){if(s=mi(r,e.valueBlock.value[c],t.valueBlock.value[0].value),s.verified===!1)if(t.valueBlock.value[0].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&delete r[t.name]),s;if(xy in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let f={};QT in t.valueBlock.value[0]&&t.valueBlock.value[0].local?f=e:f=r,typeof f[t.valueBlock.value[0].name]>"u"&&(f[t.valueBlock.value[0].name]=[]),f[t.valueBlock.value[0].name].push(e.valueBlock.value[c])}}else if(s=mi(r,e.valueBlock.value[c-i],t.valueBlock.value[c]),s.verified===!1)if(t.valueBlock.value[c].optional)i++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&delete r[t.name]),s;if(s.verified===!1){let c={verified:!1,result:r};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&(delete r[t.name],c.name=t.name)),c}return{verified:!0,result:r}}if(t.primitiveSchema&&hx in e.valueBlock){let i=Ia(e.valueBlock.valueHexView);if(i.offset===-1){let s={verified:!1,result:i.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,vr),t.name&&(delete r[t.name],s.name=t.name)),s}return mi(r,i.result,t.primitiveSchema)}return{verified:!0,result:r}}function eE(r,e){if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema type"}};let t=Ia(Ve.BufferSourceConverter.toUint8Array(r));return t.offset===-1?{verified:!1,result:t.result}:mi(t.result,t.result,e)}var se;(function(r){r[r.Sequence=0]="Sequence",r[r.Set=1]="Set",r[r.Choice=2]="Choice"})(se||(se={}));var R;(function(r){r[r.Any=1]="Any",r[r.Boolean=2]="Boolean",r[r.OctetString=3]="OctetString",r[r.BitString=4]="BitString",r[r.Integer=5]="Integer",r[r.Enumerated=6]="Enumerated",r[r.ObjectIdentifier=7]="ObjectIdentifier",r[r.Utf8String=8]="Utf8String",r[r.BmpString=9]="BmpString",r[r.UniversalString=10]="UniversalString",r[r.NumericString=11]="NumericString",r[r.PrintableString=12]="PrintableString",r[r.TeletexString=13]="TeletexString",r[r.VideotexString=14]="VideotexString",r[r.IA5String=15]="IA5String",r[r.GraphicString=16]="GraphicString",r[r.VisibleString=17]="VisibleString",r[r.GeneralString=18]="GeneralString",r[r.CharacterString=19]="CharacterString",r[r.UTCTime=20]="UTCTime",r[r.GeneralizedTime=21]="GeneralizedTime",r[r.DATE=22]="DATE",r[r.TimeOfDay=23]="TimeOfDay",r[r.DateTime=24]="DateTime",r[r.Duration=25]="Duration",r[r.TIME=26]="TIME",r[r.Null=27]="Null"})(R||(R={}));var vy=Vr(hi()),ws=class{constructor(e,t=0){if(this.unusedBits=0,this.value=new ArrayBuffer(0),e)if(typeof e=="number")this.fromNumber(e);else if(vy.BufferSourceConverter.isBufferSource(e))this.unusedBits=t,this.value=vy.BufferSourceConverter.toArrayBuffer(e);else throw TypeError("Unsupported type of 'params' argument for BitString")}fromASN(e){if(!(e instanceof In))throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString");return this.unusedBits=e.valueBlock.unusedBits,this.value=e.valueBlock.valueHex,this}toASN(){return new In({unusedBits:this.unusedBits,valueHex:this.value})}toSchema(e){return new In({name:e})}toNumber(){let e="",t=new Uint8Array(this.value);for(let n of t)e+=n.toString(2).padStart(8,"0");return e=e.split("").reverse().join(""),this.unusedBits&&(e=e.slice(this.unusedBits).padStart(this.unusedBits,"0")),parseInt(e,2)}fromNumber(e){let t=e.toString(2),n=t.length+7>>3;this.unusedBits=(n<<3)-t.length;let o=new Uint8Array(n);t=t.padStart(n<<3,"0").split("").reverse().join("");let i=0;for(;i<n;)o[i]=parseInt(t.slice(i<<3,(i<<3)+8),2),i++;this.value=o.buffer}};var Sy=Vr(hi()),We=class{get byteLength(){return this.buffer.byteLength}get byteOffset(){return 0}constructor(e){typeof e=="number"?this.buffer=new ArrayBuffer(e):Sy.BufferSourceConverter.isBufferSource(e)?this.buffer=Sy.BufferSourceConverter.toArrayBuffer(e):Array.isArray(e)?this.buffer=new Uint8Array(e):this.buffer=new ArrayBuffer(0)}fromASN(e){if(!(e instanceof Bn))throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString");return this.buffer=e.valueBlock.valueHex,this}toASN(){return new Bn({valueHex:this.buffer})}toSchema(e){return new Bn({name:e})}};var tE={fromASN:r=>r instanceof Cn?null:r.valueBeforeDecodeView,toASN:r=>{if(r===null)return new Cn;let e=Oo(r);if(e.result.error)throw new Error(e.result.error);return e.result}},rE={fromASN:r=>r.valueBlock.valueHexView.byteLength>=4?r.valueBlock.toString():r.valueBlock.valueDec,toASN:r=>new Uo({value:+r})},nE={fromASN:r=>r.valueBlock.valueDec,toASN:r=>new as({value:r})},at={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Uo({valueHex:r})};var oE={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new In({valueHex:r})},iE={fromASN:r=>r.valueBlock.toString(),toASN:r=>new cs({value:r})},sE={fromASN:r=>r.valueBlock.value,toASN:r=>new ss({value:r})},Pa={fromASN:r=>r.valueBlock.valueHexView,toASN:r=>new Bn({valueHex:r})};function nn(r){return{fromASN:e=>e.valueBlock.value,toASN:e=>new r({value:e})}}var aE=nn(rn),cE=nn(us),uE=nn(fs),fE=nn(ls),lE=nn(ds),dE=nn(ps),pE=nn(hs),hE=nn(ys),yE=nn(ms),mE=nn(gi),gE=nn(gs),AE=nn(As),xE={fromASN:r=>r.toDate(),toASN:r=>new Ai({valueDate:r})},bE={fromASN:r=>r.toDate(),toASN:r=>new xs({valueDate:r})},wE={fromASN:()=>null,toASN:()=>new Cn};function Ua(r){switch(r){case R.Any:return tE;case R.BitString:return oE;case R.BmpString:return cE;case R.Boolean:return sE;case R.CharacterString:return AE;case R.Enumerated:return nE;case R.GeneralString:return gE;case R.GeneralizedTime:return bE;case R.GraphicString:return yE;case R.IA5String:return hE;case R.Integer:return rE;case R.Null:return wE;case R.NumericString:return fE;case R.ObjectIdentifier:return iE;case R.OctetString:return Pa;case R.PrintableString:return lE;case R.TeletexString:return dE;case R.UTCTime:return xE;case R.UniversalString:return uE;case R.Utf8String:return aE;case R.VideotexString:return pE;case R.VisibleString:return mE;default:return null}}function on(r){return typeof r=="function"&&r.prototype?r.prototype.toASN&&r.prototype.fromASN?!0:on(r.prototype):!!(r&&typeof r=="object"&&"toASN"in r&&"fromASN"in r)}function Ey(r){var e;if(r){let t=Object.getPrototypeOf(r);return((e=t?.prototype)===null||e===void 0?void 0:e.constructor)===Array?!0:Ey(t)}return!1}function Xx(r,e){if(!(r&&e)||r.byteLength!==e.byteLength)return!1;let t=new Uint8Array(r),n=new Uint8Array(e);for(let o=0;o<r.byteLength;o++)if(t[o]!==n[o])return!1;return!0}var Zl=class{constructor(){this.items=new WeakMap}has(e){return this.items.has(e)}get(e,t=!1){let n=this.items.get(e);if(!n)throw new Error(`Cannot get schema for '${e.prototype.constructor.name}' target`);if(t&&!n.schema)throw new Error(`Schema '${e.prototype.constructor.name}' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'.`);return n}cache(e){let t=this.get(e);t.schema||(t.schema=this.create(e,!0))}createDefault(e){let t={type:se.Sequence,items:{}},n=this.findParentSchema(e);return n&&(Object.assign(t,n),t.items=Object.assign({},t.items,n.items)),t}create(e,t){let n=this.items.get(e)||this.createDefault(e),o=[];for(let i in n.items){let s=n.items[i],a=t?i:"",c;if(typeof s.type=="number"){let p=R[s.type],l=Zn[p];if(!l)throw new Error(`Cannot get ASN1 class by name '${p}'`);c=new l({name:a})}else on(s.type)?c=new s.type().toSchema(a):s.optional?this.get(s.type).type===se.Choice?c=new Jn({name:a}):(c=this.create(s.type,!1),c.name=a):c=new Jn({name:a});let f=!!s.optional||s.defaultValue!==void 0;if(s.repeated){c.name="";let p=s.repeated==="set"?Tr:Sr;c=new p({name:"",value:[new bs({name:a,value:c})]})}if(s.context!==null&&s.context!==void 0)if(s.implicit)if(typeof s.type=="number"||on(s.type)){let p=s.repeated?zt:Po;o.push(new p({name:a,optional:f,idBlock:{tagClass:3,tagNumber:s.context}}))}else{this.cache(s.type);let p=!!s.repeated,l=p?c:this.get(s.type,!0).schema;l="valueBlock"in l?l.valueBlock.value:l.value,o.push(new zt({name:p?"":a,optional:f,idBlock:{tagClass:3,tagNumber:s.context},value:l}))}else o.push(new zt({optional:f,idBlock:{tagClass:3,tagNumber:s.context},value:[c]}));else c.optional=f,o.push(c)}switch(n.type){case se.Sequence:return new Sr({value:o,name:""});case se.Set:return new Tr({value:o,name:""});case se.Choice:return new Ba({value:o,name:""});default:throw new Error("Unsupported ASN1 type in use")}}set(e,t){return this.items.set(e,t),this}findParentSchema(e){let t=Object.getPrototypeOf(e);return t?this.items.get(t)||this.findParentSchema(t):null}};var pr=new Zl;var be=r=>e=>{let t;pr.has(e)?t=pr.get(e):(t=pr.createDefault(e),pr.set(e,t)),Object.assign(t,r)};var _=r=>(e,t)=>{let n;pr.has(e.constructor)?n=pr.get(e.constructor):(n=pr.createDefault(e.constructor),pr.set(e.constructor,n));let o=Object.assign({},r);if(typeof o.type=="number"&&!o.converter){let i=Ua(r.type);if(!i)throw new Error(`Cannot get default converter for property '${t}' of ${e.constructor.name}`);o.converter=i}n.items[t]=o};var iu=class extends Error{constructor(){super(...arguments),this.schemas=[]}};var xt=class{static parse(e,t){let n=Oo(e);if(n.result.error)throw new Error(n.result.error);return this.fromASN(n.result,t)}static fromASN(e,t){var n;try{if(on(t))return new t().fromASN(e);let o=pr.get(t);pr.cache(t);let i=o.schema;if(e.constructor===zt&&o.type!==se.Choice){i=new zt({idBlock:{tagClass:3,tagNumber:e.idBlock.tagNumber},value:o.schema.valueBlock.value});for(let c in o.items)delete e[c]}let s=mi({},e,i);if(!s.verified)throw new iu(`Data does not match to ${t.name} ASN1 schema. ${s.result.error}`);let a=new t;if(Ey(t)){if(!("value"in e.valueBlock&&Array.isArray(e.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let c=o.itemType;if(typeof c=="number"){let f=Ua(c);if(!f)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);return t.from(e.valueBlock.value,p=>f.fromASN(p))}else return t.from(e.valueBlock.value,f=>this.fromASN(f,c))}for(let c in o.items){let f=s.result[c];if(!f)continue;let p=o.items[c],l=p.type;if(typeof l=="number"||on(l)){let w=(n=p.converter)!==null&&n!==void 0?n:on(l)?new l:null;if(!w)throw new Error("Converter is empty");if(p.repeated)if(p.implicit){let h=p.repeated==="sequence"?Sr:Tr,m=new h;m.valueBlock=f.valueBlock;let y=Oo(m.toBER(!1));if(y.offset===-1)throw new Error(`Cannot parse the child item. ${y.result.error}`);if(!("value"in y.result.valueBlock&&Array.isArray(y.result.valueBlock.value)))throw new Error("Cannot get items from the ASN.1 parsed value. ASN.1 object is not constructed.");let b=y.result.valueBlock.value;a[c]=Array.from(b,S=>w.fromASN(S))}else a[c]=Array.from(f,h=>w.fromASN(h));else{let h=f;if(p.implicit){let m;if(on(l))m=new l().toSchema("");else{let y=R[l],b=Zn[y];if(!b)throw new Error(`Cannot get '${y}' class from asn1js module`);m=new b}m.valueBlock=h.valueBlock,h=Oo(m.toBER(!1)).result}a[c]=w.fromASN(h)}}else if(p.repeated){if(!Array.isArray(f))throw new Error("Cannot get list of items from the ASN.1 parsed value. ASN.1 value should be iterable.");a[c]=Array.from(f,w=>this.fromASN(w,l))}else a[c]=this.fromASN(f,l)}return a}catch(o){throw o instanceof iu&&o.schemas.push(t.name),o}}};var xi=class r{static serialize(e){return e instanceof Nt?e.toBER(!1):this.toASN(e).toBER(!1)}static toASN(e){if(e&&typeof e=="object"&&on(e))return e.toASN();if(!(e&&typeof e=="object"))throw new TypeError("Parameter 1 should be type of Object.");let t=e.constructor,n=pr.get(t);pr.cache(t);let o=[];if(n.itemType){if(!Array.isArray(e))throw new TypeError("Parameter 1 should be type of Array.");if(typeof n.itemType=="number"){let s=Ua(n.itemType);if(!s)throw new Error(`Cannot get default converter for array item of ${t.name} ASN1 schema`);o=e.map(a=>s.toASN(a))}else o=e.map(s=>this.toAsnItem({type:n.itemType},"[]",t,s))}else for(let s in n.items){let a=n.items[s],c=e[s];if(c===void 0||a.defaultValue===c||typeof a.defaultValue=="object"&&typeof c=="object"&&Xx(this.serialize(a.defaultValue),this.serialize(c)))continue;let f=r.toAsnItem(a,s,t,c);if(typeof a.context=="number")if(a.implicit)if(!a.repeated&&(typeof a.type=="number"||on(a.type))){let p={};p.valueHex=f instanceof Cn?f.valueBeforeDecodeView:f.valueBlock.toBER(),o.push(new Po({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},...p}))}else o.push(new zt({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:f.valueBlock.value}));else o.push(new zt({optional:a.optional,idBlock:{tagClass:3,tagNumber:a.context},value:[f]}));else a.repeated?o=o.concat(f):o.push(f)}let i;switch(n.type){case se.Sequence:i=new Sr({value:o});break;case se.Set:i=new Tr({value:o});break;case se.Choice:if(!o[0])throw new Error(`Schema '${t.name}' has wrong data. Choice cannot be empty.`);i=o[0];break}return i}static toAsnItem(e,t,n,o){let i;if(typeof e.type=="number"){let s=e.converter;if(!s)throw new Error(`Property '${t}' doesn't have converter for type ${R[e.type]} in schema '${n.name}'`);if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");let a=Array.from(o,f=>s.toASN(f)),c=e.repeated==="sequence"?Sr:Tr;i=new c({value:a})}else i=s.toASN(o)}else if(e.repeated){if(!Array.isArray(o))throw new TypeError("Parameter 'objProp' should be type of Array.");let s=Array.from(o,c=>this.toASN(c)),a=e.repeated==="sequence"?Sr:Tr;i=new a({value:s})}else i=this.toASN(o);return i}};var it=class extends Array{constructor(e=[]){if(typeof e=="number")super(e);else{super();for(let t of e)this.push(t)}}};var _y=Vr(hi());var Un=class r{static serialize(e){return xi.serialize(e)}static parse(e,t){return xt.parse(e,t)}static toString(e){let t=_y.BufferSourceConverter.isBufferSource(e)?_y.BufferSourceConverter.toArrayBuffer(e):r.serialize(e),n=Oo(t);if(n.offset===-1)throw new Error(`Cannot decode ASN.1 data. ${n.result.error}`);return n.result.toString()}};function v(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}var td=Vr(eb()),tb=Vr(hi()),su=class{static decodeIP(e){if(e.length===64&&parseInt(e,16)===0)return"::/0";if(e.length!==16)return e;let t=parseInt(e.slice(8),16).toString(2).split("").reduce((o,i)=>o+ +i,0),n=e.slice(0,8).replace(/(.{2})/g,o=>`${parseInt(o,16)}.`);return n=n.slice(0,-1),`${n}/${t}`}static toString(e){if(e.byteLength===4||e.byteLength===16){let t=new Uint8Array(e);return td.fromByteArray(Array.from(t)).toString()}return this.decodeIP(tb.Convert.ToHex(e))}static fromString(e){let t=td.parse(e);return new Uint8Array(t.toByteArray()).buffer}};var rb=Vr(hi()),Cy,By,Iy,sn=class{constructor(e={}){Object.assign(this,e)}toString(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""}};v([_({type:R.TeletexString})],sn.prototype,"teletexString",void 0);v([_({type:R.PrintableString})],sn.prototype,"printableString",void 0);v([_({type:R.UniversalString})],sn.prototype,"universalString",void 0);v([_({type:R.Utf8String})],sn.prototype,"utf8String",void 0);v([_({type:R.BmpString})],sn.prototype,"bmpString",void 0);sn=v([be({type:se.Choice})],sn);var Ra=class extends sn{constructor(e={}){super(e),Object.assign(this,e)}toString(){return this.ia5String||(this.anyValue?rb.Convert.ToHex(this.anyValue):super.toString())}};v([_({type:R.IA5String})],Ra.prototype,"ia5String",void 0);v([_({type:R.Any})],Ra.prototype,"anyValue",void 0);Ra=v([be({type:se.Choice})],Ra);var au=class{constructor(e={}){this.type="",this.value=new Ra,Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],au.prototype,"type",void 0);v([_({type:Ra})],au.prototype,"value",void 0);var cu=Cy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,Cy.prototype)}};cu=Cy=v([be({type:se.Set,itemType:au})],cu);var Py=By=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,By.prototype)}};Py=By=v([be({type:se.Sequence,itemType:cu})],Py);var Mr=Iy=class extends Py{constructor(e){super(e),Object.setPrototypeOf(this,Iy.prototype)}};Mr=Iy=v([be({type:se.Sequence})],Mr);var vE={fromASN:r=>su.toString(Pa.fromASN(r)),toASN:r=>Pa.toASN(su.fromString(r))},uu=class{constructor(e={}){this.typeId="",this.value=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],uu.prototype,"typeId",void 0);v([_({type:R.Any,context:0})],uu.prototype,"value",void 0);var fu=class{constructor(e={}){this.partyName=new sn,Object.assign(this,e)}};v([_({type:sn,optional:!0,context:0,implicit:!0})],fu.prototype,"nameAssigner",void 0);v([_({type:sn,context:1,implicit:!0})],fu.prototype,"partyName",void 0);var gt=class{constructor(e={}){Object.assign(this,e)}};v([_({type:uu,context:0,implicit:!0})],gt.prototype,"otherName",void 0);v([_({type:R.IA5String,context:1,implicit:!0})],gt.prototype,"rfc822Name",void 0);v([_({type:R.IA5String,context:2,implicit:!0})],gt.prototype,"dNSName",void 0);v([_({type:R.Any,context:3,implicit:!0})],gt.prototype,"x400Address",void 0);v([_({type:Mr,context:4,implicit:!1})],gt.prototype,"directoryName",void 0);v([_({type:fu,context:5})],gt.prototype,"ediPartyName",void 0);v([_({type:R.IA5String,context:6,implicit:!0})],gt.prototype,"uniformResourceIdentifier",void 0);v([_({type:R.OctetString,context:7,implicit:!0,converter:vE})],gt.prototype,"iPAddress",void 0);v([_({type:R.ObjectIdentifier,context:8,implicit:!0})],gt.prototype,"registeredID",void 0);gt=v([be({type:se.Choice})],gt);var rd="1.3.6.1.5.5.7",nd=`${rd}.1`,nb=`${rd}.2`,vs=`${rd}.3`,od=`${rd}.48`,dO=`${nb}.1`,pO=`${nb}.2`,hO=`${od}.1`,yO=`${od}.2`,mO=`${od}.3`,gO=`${od}.5`,Oe="2.5.29";var Uy,SO=`${nd}.1`,Ss=class{constructor(e={}){this.accessMethod="",this.accessLocation=new gt,Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],Ss.prototype,"accessMethod",void 0);v([_({type:gt})],Ss.prototype,"accessLocation",void 0);var ob=Uy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,Uy.prototype)}};ob=Uy=v([be({type:se.Sequence,itemType:Ss})],ob);var Ry=`${Oe}.35`,lu=class extends We{},bi=class{constructor(e={}){e&&Object.assign(this,e)}};v([_({type:lu,context:0,optional:!0,implicit:!0})],bi.prototype,"keyIdentifier",void 0);v([_({type:gt,context:1,optional:!0,implicit:!0,repeated:"sequence"})],bi.prototype,"authorityCertIssuer",void 0);v([_({type:R.Integer,context:2,optional:!0,implicit:!0,converter:at})],bi.prototype,"authorityCertSerialNumber",void 0);var Oy=`${Oe}.19`,Ts=class{constructor(e={}){this.cA=!1,Object.assign(this,e)}};v([_({type:R.Boolean,defaultValue:!1})],Ts.prototype,"cA",void 0);v([_({type:R.Integer,optional:!0})],Ts.prototype,"pathLenConstraint",void 0);var ky,wi=ky=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,ky.prototype)}};wi=ky=v([be({type:se.Sequence,itemType:gt})],wi);var Ny,qO=`${Oe}.29`,ib=Ny=class extends wi{constructor(e){super(e),Object.setPrototypeOf(this,Ny.prototype)}};ib=Ny=v([be({type:se.Sequence})],ib);var Dy,SE=`${Oe}.32`,JO=`${SE}.0`,ko=class{constructor(e={}){Object.assign(this,e)}toString(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""}};v([_({type:R.IA5String})],ko.prototype,"ia5String",void 0);v([_({type:R.VisibleString})],ko.prototype,"visibleString",void 0);v([_({type:R.BmpString})],ko.prototype,"bmpString",void 0);v([_({type:R.Utf8String})],ko.prototype,"utf8String",void 0);ko=v([be({type:se.Choice})],ko);var du=class{constructor(e={}){this.organization=new ko,this.noticeNumbers=[],Object.assign(this,e)}};v([_({type:ko})],du.prototype,"organization",void 0);v([_({type:R.Integer,repeated:"sequence"})],du.prototype,"noticeNumbers",void 0);var pu=class{constructor(e={}){Object.assign(this,e)}};v([_({type:du,optional:!0})],pu.prototype,"noticeRef",void 0);v([_({type:ko,optional:!0})],pu.prototype,"explicitText",void 0);var id=class{constructor(e={}){Object.assign(this,e)}};v([_({type:R.IA5String})],id.prototype,"cPSuri",void 0);v([_({type:pu})],id.prototype,"userNotice",void 0);id=v([be({type:se.Choice})],id);var hu=class{constructor(e={}){this.policyQualifierId="",this.qualifier=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],hu.prototype,"policyQualifierId",void 0);v([_({type:R.Any})],hu.prototype,"qualifier",void 0);var yu=class{constructor(e={}){this.policyIdentifier="",Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],yu.prototype,"policyIdentifier",void 0);v([_({type:hu,repeated:"sequence",optional:!0})],yu.prototype,"policyQualifiers",void 0);var sb=Dy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,Dy.prototype)}};sb=Dy=v([be({type:se.Sequence,itemType:yu})],sb);var i4=`${Oe}.20`,mu=class{constructor(e=0){this.value=e}};v([_({type:R.Integer})],mu.prototype,"value",void 0);mu=v([be({type:se.Choice})],mu);var d4=`${Oe}.27`,ab=class extends mu{};ab=v([be({type:se.Choice})],ab);var My,Ly=`${Oe}.31`,Rn;(function(r){r[r.unused=1]="unused",r[r.keyCompromise=2]="keyCompromise",r[r.cACompromise=4]="cACompromise",r[r.affiliationChanged=8]="affiliationChanged",r[r.superseded=16]="superseded",r[r.cessationOfOperation=32]="cessationOfOperation",r[r.certificateHold=64]="certificateHold",r[r.privilegeWithdrawn=128]="privilegeWithdrawn",r[r.aACompromise=256]="aACompromise"})(Rn||(Rn={}));var gu=class extends ws{toJSON(){let e=[],t=this.toNumber();return t&Rn.aACompromise&&e.push("aACompromise"),t&Rn.affiliationChanged&&e.push("affiliationChanged"),t&Rn.cACompromise&&e.push("cACompromise"),t&Rn.certificateHold&&e.push("certificateHold"),t&Rn.cessationOfOperation&&e.push("cessationOfOperation"),t&Rn.keyCompromise&&e.push("keyCompromise"),t&Rn.privilegeWithdrawn&&e.push("privilegeWithdrawn"),t&Rn.superseded&&e.push("superseded"),t&Rn.unused&&e.push("unused"),e}toString(){return`[${this.toJSON().join(", ")}]`}},Es=class{constructor(e={}){Object.assign(this,e)}};v([_({type:gt,context:0,repeated:"sequence",implicit:!0})],Es.prototype,"fullName",void 0);v([_({type:cu,context:1,implicit:!0})],Es.prototype,"nameRelativeToCRLIssuer",void 0);Es=v([be({type:se.Choice})],Es);var vi=class{constructor(e={}){Object.assign(this,e)}};v([_({type:Es,context:0,optional:!0})],vi.prototype,"distributionPoint",void 0);v([_({type:gu,context:1,optional:!0,implicit:!0})],vi.prototype,"reasons",void 0);v([_({type:gt,context:2,optional:!0,repeated:"sequence",implicit:!0})],vi.prototype,"cRLIssuer",void 0);var _s=My=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,My.prototype)}};_s=My=v([be({type:se.Sequence,itemType:vi})],_s);var Hy,C4=`${Oe}.46`,cb=Hy=class extends _s{constructor(e){super(e),Object.setPrototypeOf(this,Hy.prototype)}};cb=Hy=v([be({type:se.Sequence,itemType:vi})],cb);var N4=`${Oe}.28`,Lr=class r{constructor(e={}){this.onlyContainsUserCerts=r.ONLY,this.onlyContainsCACerts=r.ONLY,this.indirectCRL=r.ONLY,this.onlyContainsAttributeCerts=r.ONLY,Object.assign(this,e)}};Lr.ONLY=!1;v([_({type:Es,context:0,optional:!0})],Lr.prototype,"distributionPoint",void 0);v([_({type:R.Boolean,context:1,defaultValue:Lr.ONLY,implicit:!0})],Lr.prototype,"onlyContainsUserCerts",void 0);v([_({type:R.Boolean,context:2,defaultValue:Lr.ONLY,implicit:!0})],Lr.prototype,"onlyContainsCACerts",void 0);v([_({type:gu,context:3,optional:!0,implicit:!0})],Lr.prototype,"onlySomeReasons",void 0);v([_({type:R.Boolean,context:4,defaultValue:Lr.ONLY,implicit:!0})],Lr.prototype,"indirectCRL",void 0);v([_({type:R.Boolean,context:5,defaultValue:Lr.ONLY,implicit:!0})],Lr.prototype,"onlyContainsAttributeCerts",void 0);var G4=`${Oe}.21`,Au;(function(r){r[r.unspecified=0]="unspecified",r[r.keyCompromise=1]="keyCompromise",r[r.cACompromise=2]="cACompromise",r[r.affiliationChanged=3]="affiliationChanged",r[r.superseded=4]="superseded",r[r.cessationOfOperation=5]="cessationOfOperation",r[r.certificateHold=6]="certificateHold",r[r.removeFromCRL=8]="removeFromCRL",r[r.privilegeWithdrawn=9]="privilegeWithdrawn",r[r.aACompromise=10]="aACompromise"})(Au||(Au={}));var Gy=class{constructor(e=Au.unspecified){this.reason=Au.unspecified,this.reason=e}toJSON(){return Au[this.reason]}toString(){return this.toJSON()}};v([_({type:R.Enumerated})],Gy.prototype,"reason",void 0);Gy=v([be({type:se.Choice})],Gy);var zy,Ky=`${Oe}.37`,sd=zy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,zy.prototype)}};sd=zy=v([be({type:se.Sequence,itemType:R.ObjectIdentifier})],sd);var j4=`${Ky}.0`,W4=`${vs}.1`,Q4=`${vs}.2`,Y4=`${vs}.3`,J4=`${vs}.4`,X4=`${vs}.8`,Z4=`${vs}.9`;var ok=`${Oe}.54`,Fy=class{constructor(e=new ArrayBuffer(0)){this.value=e}};v([_({type:R.Integer,converter:at})],Fy.prototype,"value",void 0);Fy=v([be({type:se.Choice})],Fy);var fk=`${Oe}.24`,Vy=class{constructor(e){this.value=new Date,e&&(this.value=e)}};v([_({type:R.GeneralizedTime})],Vy.prototype,"value",void 0);Vy=v([be({type:se.Choice})],Vy);var qy,gk=`${Oe}.18`,ub=qy=class extends wi{constructor(e){super(e),Object.setPrototypeOf(this,qy.prototype)}};ub=qy=v([be({type:se.Sequence})],ub);var vk=`${Oe}.15`,fb;(function(r){r[r.digitalSignature=1]="digitalSignature",r[r.nonRepudiation=2]="nonRepudiation",r[r.keyEncipherment=4]="keyEncipherment",r[r.dataEncipherment=8]="dataEncipherment",r[r.keyAgreement=16]="keyAgreement",r[r.keyCertSign=32]="keyCertSign",r[r.cRLSign=64]="cRLSign",r[r.encipherOnly=128]="encipherOnly",r[r.decipherOnly=256]="decipherOnly"})(fb||(fb={}));var $y,Bk=`${Oe}.30`,Oa=class{constructor(e={}){this.base=new gt,this.minimum=0,Object.assign(this,e)}};v([_({type:gt})],Oa.prototype,"base",void 0);v([_({type:R.Integer,context:0,defaultValue:0,implicit:!0})],Oa.prototype,"minimum",void 0);v([_({type:R.Integer,context:1,optional:!0,implicit:!0})],Oa.prototype,"maximum",void 0);var ad=$y=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,$y.prototype)}};ad=$y=v([be({type:se.Sequence,itemType:Oa})],ad);var cd=class{constructor(e={}){Object.assign(this,e)}};v([_({type:ad,context:0,optional:!0,implicit:!0})],cd.prototype,"permittedSubtrees",void 0);v([_({type:ad,context:1,optional:!0,implicit:!0})],cd.prototype,"excludedSubtrees",void 0);var kk=`${Oe}.36`,ud=class{constructor(e={}){Object.assign(this,e)}};v([_({type:R.Integer,context:0,implicit:!0,optional:!0,converter:at})],ud.prototype,"requireExplicitPolicy",void 0);v([_({type:R.Integer,context:1,implicit:!0,optional:!0,converter:at})],ud.prototype,"inhibitPolicyMapping",void 0);var jy,Hk=`${Oe}.33`,xu=class{constructor(e={}){this.issuerDomainPolicy="",this.subjectDomainPolicy="",Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],xu.prototype,"issuerDomainPolicy",void 0);v([_({type:R.ObjectIdentifier})],xu.prototype,"subjectDomainPolicy",void 0);var lb=jy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,jy.prototype)}};lb=jy=v([be({type:se.Sequence,itemType:xu})],lb);var Wy,db=`${Oe}.17`,fd=Wy=class extends wi{constructor(e){super(e),Object.setPrototypeOf(this,Wy.prototype)}};fd=Wy=v([be({type:se.Sequence})],fd);var ka=class{constructor(e={}){this.type="",this.values=[],Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],ka.prototype,"type",void 0);v([_({type:R.Any,repeated:"set"})],ka.prototype,"values",void 0);var Qy,tN=`${Oe}.9`,pb=Qy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,Qy.prototype)}};pb=Qy=v([be({type:se.Sequence,itemType:ka})],pb);var Yy=`${Oe}.14`,bu=class extends lu{};var fN=`${Oe}.16`,ld=class{constructor(e={}){Object.assign(this,e)}};v([_({type:R.GeneralizedTime,context:0,implicit:!0,optional:!0})],ld.prototype,"notBefore",void 0);v([_({type:R.GeneralizedTime,context:1,implicit:!0,optional:!0})],ld.prototype,"notAfter",void 0);var wu;(function(r){r[r.keyUpdateAllowed=1]="keyUpdateAllowed",r[r.newExtensions=2]="newExtensions",r[r.pKIXCertificate=4]="pKIXCertificate"})(wu||(wu={}));var dd=class extends ws{toJSON(){let e=[],t=this.toNumber();return t&wu.pKIXCertificate&&e.push("pKIXCertificate"),t&wu.newExtensions&&e.push("newExtensions"),t&wu.keyUpdateAllowed&&e.push("keyUpdateAllowed"),e}toString(){return`[${this.toJSON().join(", ")}]`}},pd=class{constructor(e={}){this.entrustVers="",this.entrustInfoFlags=new dd,Object.assign(this,e)}};v([_({type:R.GeneralString})],pd.prototype,"entrustVers",void 0);v([_({type:dd})],pd.prototype,"entrustInfoFlags",void 0);var Jy,xN=`${nd}.11`,hb=Jy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,Jy.prototype)}};hb=Jy=v([be({type:se.Sequence,itemType:Ss})],hb);var yb=Vr(hi()),Le=class r{constructor(e={}){this.algorithm="",Object.assign(this,e)}isEqual(e){return e instanceof r&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&yb.isEqual(e.parameters,this.parameters)||e.parameters===this.parameters)}};v([_({type:R.ObjectIdentifier})],Le.prototype,"algorithm",void 0);v([_({type:R.Any,optional:!0})],Le.prototype,"parameters",void 0);var Cs=class{constructor(e={}){this.algorithm=new Le,this.subjectPublicKey=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:Le})],Cs.prototype,"algorithm",void 0);v([_({type:R.BitString})],Cs.prototype,"subjectPublicKey",void 0);var Qt=class{constructor(e){if(e)if(typeof e=="string"||typeof e=="number"||e instanceof Date){let t=new Date(e);t.getUTCFullYear()>2049?this.generalTime=t:this.utcTime=t}else Object.assign(this,e)}getTime(){let e=this.utcTime||this.generalTime;if(!e)throw new Error("Cannot get time from CHOICE object");return e}};v([_({type:R.UTCTime})],Qt.prototype,"utcTime",void 0);v([_({type:R.GeneralizedTime})],Qt.prototype,"generalTime",void 0);Qt=v([be({type:se.Choice})],Qt);var Bs=class{constructor(e){this.notBefore=new Qt(new Date),this.notAfter=new Qt(new Date),e&&(this.notBefore=new Qt(e.notBefore),this.notAfter=new Qt(e.notAfter))}};v([_({type:Qt})],Bs.prototype,"notBefore",void 0);v([_({type:Qt})],Bs.prototype,"notAfter",void 0);var Xy,On=class r{constructor(e={}){this.extnID="",this.critical=r.CRITICAL,this.extnValue=new We,Object.assign(this,e)}};On.CRITICAL=!1;v([_({type:R.ObjectIdentifier})],On.prototype,"extnID",void 0);v([_({type:R.Boolean,defaultValue:On.CRITICAL})],On.prototype,"critical",void 0);v([_({type:We})],On.prototype,"extnValue",void 0);var hd=Xy=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,Xy.prototype)}};hd=Xy=v([be({type:se.Sequence,itemType:On})],hd);var vu;(function(r){r[r.v1=0]="v1",r[r.v2=1]="v2",r[r.v3=2]="v3"})(vu||(vu={}));var hr=class{constructor(e={}){this.version=vu.v1,this.serialNumber=new ArrayBuffer(0),this.signature=new Le,this.issuer=new Mr,this.validity=new Bs,this.subject=new Mr,this.subjectPublicKeyInfo=new Cs,Object.assign(this,e)}};v([_({type:R.Integer,context:0,defaultValue:vu.v1})],hr.prototype,"version",void 0);v([_({type:R.Integer,converter:at})],hr.prototype,"serialNumber",void 0);v([_({type:Le})],hr.prototype,"signature",void 0);v([_({type:Mr})],hr.prototype,"issuer",void 0);v([_({type:Bs})],hr.prototype,"validity",void 0);v([_({type:Mr})],hr.prototype,"subject",void 0);v([_({type:Cs})],hr.prototype,"subjectPublicKeyInfo",void 0);v([_({type:R.BitString,context:1,implicit:!0,optional:!0})],hr.prototype,"issuerUniqueID",void 0);v([_({type:R.BitString,context:2,implicit:!0,optional:!0})],hr.prototype,"subjectUniqueID",void 0);v([_({type:hd,context:3,optional:!0})],hr.prototype,"extensions",void 0);var Hr=class{constructor(e={}){this.tbsCertificate=new hr,this.signatureAlgorithm=new Le,this.signatureValue=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:hr})],Hr.prototype,"tbsCertificate",void 0);v([_({type:Le})],Hr.prototype,"signatureAlgorithm",void 0);v([_({type:R.BitString})],Hr.prototype,"signatureValue",void 0);var Na=class{constructor(e={}){this.userCertificate=new ArrayBuffer(0),this.revocationDate=new Qt,Object.assign(this,e)}};v([_({type:R.Integer,converter:at})],Na.prototype,"userCertificate",void 0);v([_({type:Qt})],Na.prototype,"revocationDate",void 0);v([_({type:On,optional:!0,repeated:"sequence"})],Na.prototype,"crlEntryExtensions",void 0);var an=class{constructor(e={}){this.signature=new Le,this.issuer=new Mr,this.thisUpdate=new Qt,Object.assign(this,e)}};v([_({type:R.Integer,optional:!0})],an.prototype,"version",void 0);v([_({type:Le})],an.prototype,"signature",void 0);v([_({type:Mr})],an.prototype,"issuer",void 0);v([_({type:Qt})],an.prototype,"thisUpdate",void 0);v([_({type:Qt,optional:!0})],an.prototype,"nextUpdate",void 0);v([_({type:Na,repeated:"sequence",optional:!0})],an.prototype,"revokedCertificates",void 0);v([_({type:On,optional:!0,context:0,repeated:"sequence"})],an.prototype,"crlExtensions",void 0);var Si=class{constructor(e={}){this.tbsCertList=new an,this.signatureAlgorithm=new Le,this.signature=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:an})],Si.prototype,"tbsCertList",void 0);v([_({type:Le})],Si.prototype,"signatureAlgorithm",void 0);v([_({type:R.BitString})],Si.prototype,"signature",void 0);var Zy="1.2.840.10045.2.1";var mb="1.2.840.10045.4.1",gb="1.2.840.10045.4.3.1",Ab="1.2.840.10045.4.3.2",xb="1.2.840.10045.4.3.3",bb="1.2.840.10045.4.3.4";var em="1.2.840.10045.3.1.7";var tm="1.3.132.0.34";function Su(r){return new Le({algorithm:r})}var oM=Su(mb),iM=Su(gb),sM=Su(Ab),aM=Su(xb),cM=Su(bb);var Ti=class{constructor(e={}){Object.assign(this,e)}};v([_({type:R.ObjectIdentifier})],Ti.prototype,"namedCurve",void 0);Ti=v([be({type:se.Choice})],Ti);var Da=class{constructor(e={}){this.version=1,this.privateKey=new We,Object.assign(this,e)}};v([_({type:R.Integer})],Da.prototype,"version",void 0);v([_({type:We})],Da.prototype,"privateKey",void 0);v([_({type:Ti,context:0,optional:!0})],Da.prototype,"parameters",void 0);v([_({type:R.BitString,context:1,optional:!0})],Da.prototype,"publicKey",void 0);var Is=class{constructor(e={}){this.r=new ArrayBuffer(0),this.s=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:R.Integer,converter:at})],Is.prototype,"r",void 0);v([_({type:R.Integer,converter:at})],Is.prototype,"s",void 0);var Er="1.2.840.113549.1.1",wb=`${Er}.1`,vb=`${Er}.7`,Sb=`${Er}.9`,Tb=`${Er}.10`,Eb=`${Er}.2`,_b=`${Er}.4`,Cb=`${Er}.5`,CM=`${Er}.14`;var BM=`${Er}.11`,Bb=`${Er}.12`,Ib=`${Er}.13`,rm=`${Er}.15`,nm=`${Er}.16`,Pb="1.3.14.3.2.26",Ub="2.16.840.1.101.3.4.2.4",Rb="2.16.840.1.101.3.4.2.1",Ob="2.16.840.1.101.3.4.2.2",kb="2.16.840.1.101.3.4.2.3",Nb="2.16.840.1.101.3.4.2.5",Db="2.16.840.1.101.3.4.2.6",Mb="1.2.840.113549.2.2",Lb="1.2.840.113549.2.5",Ma=`${Er}.8`;function Kt(r){return new Le({algorithm:r,parameters:null})}var UM=Kt(Mb),RM=Kt(Lb),No=Kt(Pb),OM=Kt(Ub),kM=Kt(Rb),NM=Kt(Ob),DM=Kt(kb),MM=Kt(Nb),LM=Kt(Db),yd=new Le({algorithm:Ma,parameters:Un.serialize(No)}),om=new Le({algorithm:Sb,parameters:Un.serialize(Pa.toASN(new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer))}),HM=Kt(wb),GM=Kt(Eb),zM=Kt(_b),KM=Kt(Cb),FM=Kt(rm),VM=Kt(nm),qM=Kt(Bb),$M=Kt(Ib),jM=Kt(rm),WM=Kt(nm);var La=class{constructor(e={}){this.hashAlgorithm=new Le(No),this.maskGenAlgorithm=new Le({algorithm:Ma,parameters:Un.serialize(No)}),this.pSourceAlgorithm=new Le(om),Object.assign(this,e)}};v([_({type:Le,context:0,defaultValue:No})],La.prototype,"hashAlgorithm",void 0);v([_({type:Le,context:1,defaultValue:yd})],La.prototype,"maskGenAlgorithm",void 0);v([_({type:Le,context:2,defaultValue:om})],La.prototype,"pSourceAlgorithm",void 0);var tL=new Le({algorithm:vb,parameters:Un.serialize(new La)});var Ps=class{constructor(e={}){this.hashAlgorithm=new Le(No),this.maskGenAlgorithm=new Le({algorithm:Ma,parameters:Un.serialize(No)}),this.saltLength=20,this.trailerField=1,Object.assign(this,e)}};v([_({type:Le,context:0,defaultValue:No})],Ps.prototype,"hashAlgorithm",void 0);v([_({type:Le,context:1,defaultValue:yd})],Ps.prototype,"maskGenAlgorithm",void 0);v([_({type:R.Integer,context:2,defaultValue:20})],Ps.prototype,"saltLength",void 0);v([_({type:R.Integer,context:3,defaultValue:1})],Ps.prototype,"trailerField",void 0);var cL=new Le({algorithm:Tb,parameters:Un.serialize(new Ps)});var md=class{constructor(e={}){this.digestAlgorithm=new Le,this.digest=new We,Object.assign(this,e)}};v([_({type:Le})],md.prototype,"digestAlgorithm",void 0);v([_({type:We})],md.prototype,"digest",void 0);var im,Ha=class{constructor(e={}){this.prime=new ArrayBuffer(0),this.exponent=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:R.Integer,converter:at})],Ha.prototype,"prime",void 0);v([_({type:R.Integer,converter:at})],Ha.prototype,"exponent",void 0);v([_({type:R.Integer,converter:at})],Ha.prototype,"coefficient",void 0);var gd=im=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,im.prototype)}};gd=im=v([be({type:se.Sequence,itemType:Ha})],gd);var cn=class{constructor(e={}){this.version=0,this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),this.privateExponent=new ArrayBuffer(0),this.prime1=new ArrayBuffer(0),this.prime2=new ArrayBuffer(0),this.exponent1=new ArrayBuffer(0),this.exponent2=new ArrayBuffer(0),this.coefficient=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:R.Integer})],cn.prototype,"version",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"modulus",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"publicExponent",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"privateExponent",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"prime1",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"prime2",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"exponent1",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"exponent2",void 0);v([_({type:R.Integer,converter:at})],cn.prototype,"coefficient",void 0);v([_({type:gd,optional:!0})],cn.prototype,"otherPrimeInfos",void 0);var Us=class{constructor(e={}){this.modulus=new ArrayBuffer(0),this.publicExponent=new ArrayBuffer(0),Object.assign(this,e)}};v([_({type:R.Integer,converter:at})],Us.prototype,"modulus",void 0);v([_({type:R.Integer,converter:at})],Us.prototype,"publicExponent",void 0);var sm;var am;(function(r){r[r.verified=0]="verified",r[r.selfSigned=1]="selfSigned",r[r.unverified=2]="unverified",r[r.failed=3]="failed"})(am||(am={}));var Rs=class{constructor(e={}){this.verifiedBootKey=new We,this.deviceLocked=!1,this.verifiedBootState=am.verified,Object.assign(this,e)}};v([_({type:We})],Rs.prototype,"verifiedBootKey",void 0);v([_({type:R.Boolean})],Rs.prototype,"deviceLocked",void 0);v([_({type:R.Enumerated})],Rs.prototype,"verifiedBootState",void 0);v([_({type:We,optional:!0})],Rs.prototype,"verifiedBootHash",void 0);var Ga=sm=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,sm.prototype)}};Ga=sm=v([be({type:se.Set,itemType:R.Integer})],Ga);var Ee=class{constructor(e={}){Object.assign(this,e)}};v([_({context:1,type:Ga,optional:!0})],Ee.prototype,"purpose",void 0);v([_({context:2,type:R.Integer,optional:!0})],Ee.prototype,"algorithm",void 0);v([_({context:3,type:R.Integer,optional:!0})],Ee.prototype,"keySize",void 0);v([_({context:5,type:Ga,optional:!0})],Ee.prototype,"digest",void 0);v([_({context:6,type:Ga,optional:!0})],Ee.prototype,"padding",void 0);v([_({context:10,type:R.Integer,optional:!0})],Ee.prototype,"ecCurve",void 0);v([_({context:200,type:R.Integer,optional:!0})],Ee.prototype,"rsaPublicExponent",void 0);v([_({context:203,type:Ga,optional:!0})],Ee.prototype,"mgfDigest",void 0);v([_({context:303,type:R.Null,optional:!0})],Ee.prototype,"rollbackResistance",void 0);v([_({context:305,type:R.Null,optional:!0})],Ee.prototype,"earlyBootOnly",void 0);v([_({context:400,type:R.Integer,optional:!0})],Ee.prototype,"activeDateTime",void 0);v([_({context:401,type:R.Integer,optional:!0})],Ee.prototype,"originationExpireDateTime",void 0);v([_({context:402,type:R.Integer,optional:!0})],Ee.prototype,"usageExpireDateTime",void 0);v([_({context:405,type:R.Integer,optional:!0})],Ee.prototype,"usageCountLimit",void 0);v([_({context:503,type:R.Null,optional:!0})],Ee.prototype,"noAuthRequired",void 0);v([_({context:504,type:R.Integer,optional:!0})],Ee.prototype,"userAuthType",void 0);v([_({context:505,type:R.Integer,optional:!0})],Ee.prototype,"authTimeout",void 0);v([_({context:506,type:R.Null,optional:!0})],Ee.prototype,"allowWhileOnBody",void 0);v([_({context:507,type:R.Null,optional:!0})],Ee.prototype,"trustedUserPresenceRequired",void 0);v([_({context:508,type:R.Null,optional:!0})],Ee.prototype,"trustedConfirmationRequired",void 0);v([_({context:509,type:R.Null,optional:!0})],Ee.prototype,"unlockedDeviceRequired",void 0);v([_({context:600,type:R.Null,optional:!0})],Ee.prototype,"allApplications",void 0);v([_({context:601,type:We,optional:!0})],Ee.prototype,"applicationId",void 0);v([_({context:701,type:R.Integer,optional:!0})],Ee.prototype,"creationDateTime",void 0);v([_({context:702,type:R.Integer,optional:!0})],Ee.prototype,"origin",void 0);v([_({context:703,type:R.Null,optional:!0})],Ee.prototype,"rollbackResistant",void 0);v([_({context:704,type:Rs,optional:!0})],Ee.prototype,"rootOfTrust",void 0);v([_({context:705,type:R.Integer,optional:!0})],Ee.prototype,"osVersion",void 0);v([_({context:706,type:R.Integer,optional:!0})],Ee.prototype,"osPatchLevel",void 0);v([_({context:709,type:We,optional:!0})],Ee.prototype,"attestationApplicationId",void 0);v([_({context:710,type:We,optional:!0})],Ee.prototype,"attestationIdBrand",void 0);v([_({context:711,type:We,optional:!0})],Ee.prototype,"attestationIdDevice",void 0);v([_({context:712,type:We,optional:!0})],Ee.prototype,"attestationIdProduct",void 0);v([_({context:713,type:We,optional:!0})],Ee.prototype,"attestationIdSerial",void 0);v([_({context:714,type:We,optional:!0})],Ee.prototype,"attestationIdImei",void 0);v([_({context:715,type:We,optional:!0})],Ee.prototype,"attestationIdMeid",void 0);v([_({context:716,type:We,optional:!0})],Ee.prototype,"attestationIdManufacturer",void 0);v([_({context:717,type:We,optional:!0})],Ee.prototype,"attestationIdModel",void 0);v([_({context:718,type:R.Integer,optional:!0})],Ee.prototype,"vendorPatchLevel",void 0);v([_({context:719,type:R.Integer,optional:!0})],Ee.prototype,"bootPatchLevel",void 0);v([_({context:720,type:R.Null,optional:!0})],Ee.prototype,"deviceUniqueAttestation",void 0);var Os;(function(r){r[r.software=0]="software",r[r.trustedEnvironment=1]="trustedEnvironment",r[r.strongBox=2]="strongBox"})(Os||(Os={}));var Tu;(function(r){r[r.KM2=1]="KM2",r[r.KM3=2]="KM3",r[r.KM4=3]="KM4",r[r.KM4_1=4]="KM4_1",r[r.keyMint1=100]="keyMint1",r[r.keyMint2=200]="keyMint2"})(Tu||(Tu={}));var un=class{constructor(e={}){this.attestationVersion=Tu.KM4,this.attestationSecurityLevel=Os.software,this.keymasterVersion=0,this.keymasterSecurityLevel=Os.software,this.attestationChallenge=new We,this.uniqueId=new We,this.softwareEnforced=new Ee,this.teeEnforced=new Ee,Object.assign(this,e)}};v([_({type:R.Integer})],un.prototype,"attestationVersion",void 0);v([_({type:R.Enumerated})],un.prototype,"attestationSecurityLevel",void 0);v([_({type:R.Integer})],un.prototype,"keymasterVersion",void 0);v([_({type:R.Enumerated})],un.prototype,"keymasterSecurityLevel",void 0);v([_({type:We})],un.prototype,"attestationChallenge",void 0);v([_({type:We})],un.prototype,"uniqueId",void 0);v([_({type:Ee})],un.prototype,"softwareEnforced",void 0);v([_({type:Ee})],un.prototype,"teeEnforced",void 0);var cm,um=class extends Ee{};um=v([be({type:se.Choice})],um);var za=cm=class extends it{constructor(e){super(e),Object.setPrototypeOf(this,cm.prototype)}findProperty(e){let t=this.find(n=>e in n);if(t)return t[e]}};za=cm=v([be({type:se.Sequence,itemType:um})],za);var eo=class{constructor(e={}){this.attestationVersion=Tu.KM4,this.attestationSecurityLevel=Os.software,this.keymasterVersion=0,this.keymasterSecurityLevel=Os.software,this.attestationChallenge=new We,this.uniqueId=new We,this.softwareEnforced=new za,this.teeEnforced=new za,Object.assign(this,e)}};v([_({type:R.Integer})],eo.prototype,"attestationVersion",void 0);v([_({type:R.Enumerated})],eo.prototype,"attestationSecurityLevel",void 0);v([_({type:R.Integer})],eo.prototype,"keymasterVersion",void 0);v([_({type:R.Enumerated})],eo.prototype,"keymasterSecurityLevel",void 0);v([_({type:We})],eo.prototype,"attestationChallenge",void 0);v([_({type:We})],eo.prototype,"uniqueId",void 0);v([_({type:za})],eo.prototype,"softwareEnforced",void 0);v([_({type:za})],eo.prototype,"teeEnforced",void 0);var Eu=class{constructor(e={}){Object.assign(this,e)}};v([_({type:R.OctetString})],Eu.prototype,"packageName",void 0);v([_({type:R.Integer})],Eu.prototype,"version",void 0);var Ad=class{constructor(e={}){Object.assign(this,e)}};v([_({type:Eu,repeated:"set"})],Ad.prototype,"packageInfos",void 0);v([_({type:R.OctetString,repeated:"set"})],Ad.prototype,"signatureDigests",void 0);function CE(r,e="base64url"){let t=Qn.toArrayBuffer(r,e==="base64url");return new Uint8Array(t)}function BE(r,e="base64url"){return Qn.fromArrayBuffer(r,e==="base64url")}function IE(r){let e=Qn.toArrayBuffer(r,!0);return Qn.fromArrayBuffer(e)}function PE(r){return Qn.fromString(r,!0)}function UE(r){return Qn.toString(r,!0)}function RE(r){return Qn.validate(r,!1)}function OE(r){return r=r.replace(/=/g,""),Qn.validate(r,!0)}var yr={};yn(yr,{decodeFirst:()=>kE,encode:()=>NE});var Hb=new Ul.Encoder({mapsAsObjects:!1,tagUint8Array:!1});function kE(r){let e=new Uint8Array(r),t=Hb.decodeMultiple(e);if(t===void 0)throw new Error("CBOR input data was empty");let[n]=t;return n}function NE(r){return Hb.encode(r)}var Ci={};yn(Ci,{digest:()=>zb,getRandomValues:()=>Kb,verify:()=>$b});var Fa={};yn(Fa,{COSEALG:()=>ze,COSECRV:()=>Gr,COSEKEYS:()=>$e,COSEKTY:()=>kn,isCOSEAlg:()=>Ei,isCOSECrv:()=>DE,isCOSEKty:()=>xd,isCOSEPublicKeyEC2:()=>ks,isCOSEPublicKeyOKP:()=>lm,isCOSEPublicKeyRSA:()=>Ka});function lm(r){let e=r.get($e.kty);return xd(e)&&e===kn.OKP}function ks(r){let e=r.get($e.kty);return xd(e)&&e===kn.EC2}function Ka(r){let e=r.get($e.kty);return xd(e)&&e===kn.RSA}var $e;(function(r){r[r.kty=1]="kty",r[r.alg=3]="alg",r[r.crv=-1]="crv",r[r.x=-2]="x",r[r.y=-3]="y",r[r.n=-1]="n",r[r.e=-2]="e"})($e||($e={}));var kn;(function(r){r[r.OKP=1]="OKP",r[r.EC2=2]="EC2",r[r.RSA=3]="RSA"})(kn||(kn={}));function xd(r){return Object.values(kn).indexOf(r)>=0}var Gr;(function(r){r[r.P256=1]="P256",r[r.P384=2]="P384",r[r.P521=3]="P521",r[r.ED25519=6]="ED25519",r[r.SECP256K1=8]="SECP256K1"})(Gr||(Gr={}));function DE(r){return Object.values(Gr).indexOf(r)>=0}var ze;(function(r){r[r.ES256=-7]="ES256",r[r.EdDSA=-8]="EdDSA",r[r.ES384=-35]="ES384",r[r.ES512=-36]="ES512",r[r.PS256=-37]="PS256",r[r.PS384=-38]="PS384",r[r.PS512=-39]="PS512",r[r.ES256K=-47]="ES256K",r[r.RS256=-257]="RS256",r[r.RS384=-258]="RS384",r[r.RS512=-259]="RS512",r[r.RS1=-65535]="RS1"})(ze||(ze={}));function Ei(r){return Object.values(ze).indexOf(r)>=0}function _i(r){if([ze.RS1].indexOf(r)>=0)return"SHA-1";if([ze.ES256,ze.PS256,ze.RS256].indexOf(r)>=0)return"SHA-256";if([ze.ES384,ze.PS384,ze.RS384].indexOf(r)>=0)return"SHA-384";if([ze.ES512,ze.PS512,ze.RS512,ze.EdDSA].indexOf(r)>=0)return"SHA-512";throw new Error(`Could not map COSE alg value of ${r} to a WebCrypto alg`)}var Ns;async function fn(){if(Ns)return Ns;let r=Gb.stubThisGlobalThisCrypto();if(r)return Ns=r,Ns;let e=await Gb.stubThisImportNodeCrypto();if(e?.webcrypto)return Ns=e.webcrypto,Ns;throw new dm}var dm=class extends Error{constructor(){let e="An instance of the Crypto API could not be located";super(e),this.name="MissingWebCrypto"}},Gb={stubThisImportNodeCrypto:async()=>{try{return await import("crypto")}catch{return{webcrypto:void 0}}},stubThisGlobalThisCrypto:()=>globalThis.crypto,setCachedCrypto:r=>{Ns=r}};async function zb(r,e){let t=await fn(),n=_i(e),o=await t.subtle.digest(n,r);return new Uint8Array(o)}async function Kb(r){return(await fn()).getRandomValues(r),r}async function Va(r){let e=await fn(),{keyData:t,algorithm:n}=r;return e.subtle.importKey("jwk",t,n,!1,["verify"])}async function bd(r){let{cosePublicKey:e,signature:t,data:n,shaHashOverride:o}=r,i=await fn(),s=e.get($e.alg),a=e.get($e.crv),c=e.get($e.x),f=e.get($e.y);if(!s)throw new Error("Public key was missing alg (EC2)");if(!a)throw new Error("Public key was missing crv (EC2)");if(!c)throw new Error("Public key was missing x (EC2)");if(!f)throw new Error("Public key was missing y (EC2)");let p;if(a===Gr.P256)p="P-256";else if(a===Gr.P384)p="P-384";else if(a===Gr.P521)p="P-521";else throw new Error(`Unexpected COSE crv value of ${a} (EC2)`);let l={kty:"EC",crv:p,x:qe.fromBuffer(c),y:qe.fromBuffer(f),ext:!1},h=await Va({keyData:l,algorithm:{name:"ECDSA",namedCurve:p}}),m=_i(s);o&&(m=_i(o));let y={name:"ECDSA",hash:{name:m}};return i.subtle.verify(y,h,t,n)}function pm(r){if([ze.EdDSA].indexOf(r)>=0)return"Ed25519";if([ze.ES256,ze.ES384,ze.ES512,ze.ES256K].indexOf(r)>=0)return"ECDSA";if([ze.RS256,ze.RS384,ze.RS512,ze.RS1].indexOf(r)>=0)return"RSASSA-PKCS1-v1_5";if([ze.PS256,ze.PS384,ze.PS512].indexOf(r)>=0)return"RSA-PSS";throw new Error(`Could not map COSE alg value of ${r} to a WebCrypto key alg name`)}async function wd(r){let{cosePublicKey:e,signature:t,data:n,shaHashOverride:o}=r,i=await fn(),s=e.get($e.alg),a=e.get($e.n),c=e.get($e.e);if(!s)throw new Error("Public key was missing alg (RSA)");if(!Ei(s))throw new Error(`Public key had invalid alg ${s} (RSA)`);if(!a)throw new Error("Public key was missing n (RSA)");if(!c)throw new Error("Public key was missing e (RSA)");let f={kty:"RSA",alg:"",n:qe.fromBuffer(a),e:qe.fromBuffer(c),ext:!1},p={name:pm(s),hash:{name:_i(s)}},l={name:pm(s)};if(o&&(p.hash.name=_i(o)),p.name==="RSASSA-PKCS1-v1_5")p.hash.name==="SHA-256"?f.alg="RS256":p.hash.name==="SHA-384"?f.alg="RS384":p.hash.name==="SHA-512"?f.alg="RS512":p.hash.name==="SHA-1"&&(f.alg="RS1");else if(p.name==="RSA-PSS"){let h=0;p.hash.name==="SHA-256"?(f.alg="PS256",h=32):p.hash.name==="SHA-384"?(f.alg="PS384",h=48):p.hash.name==="SHA-512"&&(f.alg="PS512",h=64),l.saltLength=h}else throw new Error(`Unexpected RSA key algorithm ${s} (${p.name})`);let w=await Va({keyData:f,algorithm:p});return i.subtle.verify(l,w,t,n)}async function Fb(r){let{cosePublicKey:e,signature:t,data:n}=r,o=await fn(),i=e.get($e.alg),s=e.get($e.crv),a=e.get($e.x);if(!i)throw new Error("Public key was missing alg (OKP)");if(!Ei(i))throw new Error(`Public key had invalid alg ${i} (OKP)`);if(!s)throw new Error("Public key was missing crv (OKP)");if(!a)throw new Error("Public key was missing x (OKP)");let c;if(s===Gr.ED25519)c="Ed25519";else throw new Error(`Unexpected COSE crv value of ${s} (OKP)`);let f={kty:"OKP",crv:c,alg:"EdDSA",x:qe.fromBuffer(a),ext:!1},l=await Va({keyData:f,algorithm:{name:c,namedCurve:c}}),w={name:c};return o.subtle.verify(w,l,t,n)}function qb(r){let e=xt.parse(r,Is),t=new Uint8Array(e.r),n=new Uint8Array(e.s);return Vb(t)&&(t=t.slice(1)),Vb(n)&&(n=n.slice(1)),Je.concat([t,n])}function Vb(r){return r[0]===0&&(r[1]&128)!==0}function $b(r){let{cosePublicKey:e,signature:t,data:n,shaHashOverride:o}=r;if(ks(e)){let s=qb(t);return bd({cosePublicKey:e,signature:s,data:n,shaHashOverride:o})}else{if(Ka(e))return wd({cosePublicKey:e,signature:t,data:n,shaHashOverride:o});if(lm(e))return Fb({cosePublicKey:e,signature:t,data:n})}let i=e.get($e.kty);throw new Error(`Signature verification with public key of kty ${i} is not supported by this method`)}var Je={};yn(Je,{areEqual:()=>ME,concat:()=>GE,fromASCIIString:()=>FE,fromHex:()=>HE,fromUTF8String:()=>KE,toDataView:()=>VE,toHex:()=>LE,toUTF8String:()=>zE});function ME(r,e){return r.length!=e.length?!1:r.every((t,n)=>t===e[n])}function LE(r){return Array.from(r,t=>t.toString(16).padStart(2,"0")).join("")}function HE(r){if(!r)return Uint8Array.from([]);if(!(r.length!==0&&r.length%2===0&&!/[^a-fA-F0-9]/u.test(r)))throw new Error("Invalid hex string");let t=r.match(/.{1,2}/g)??[];return Uint8Array.from(t.map(n=>parseInt(n,16)))}function GE(r){let e=0,t=r.reduce((o,i)=>o+i.length,0),n=new Uint8Array(t);return r.forEach(o=>{n.set(o,e),e+=o.length}),n}function zE(r){return new globalThis.TextDecoder("utf-8").decode(r)}function KE(r){return new globalThis.TextEncoder().encode(r)}function FE(r){return Uint8Array.from(r.split("").map(e=>e.charCodeAt(0)))}function VE(r){return new DataView(r.buffer,r.byteOffset,r.length)}function vd(r){let e=Je.toHex(r);return[e.slice(0,8),e.slice(8,12),e.slice(12,16),e.slice(16,20),e.slice(20,32)].join("-")}function ln(r){let e;if(typeof r=="string")if(qe.isBase64url(r))e=qe.toBase64(r);else if(qe.isBase64(r))e=r;else throw new Error("Certificate is not a valid base64 or base64url string");else e=qe.fromBuffer(r,"base64");let t="";for(let n=0;n<Math.ceil(e.length/64);n+=1){let o=64*n;t+=`${e.substr(o,64)}
`}return t=`-----BEGIN CERTIFICATE-----
${t}-----END CERTIFICATE-----
`,t}function qa(r){let e=yr.decodeFirst(r),t=Uint8Array.from([4]),n=e.get($e.x),o=e.get($e.y);if(!n)throw new Error("COSE public key was missing x");return o?Je.concat([t,n,o]):Je.concat([t,n])}function $a(r){return qE.stubThis(yr.decodeFirst(r))}var qE={stubThis:r=>r};async function _u(){let r=new Uint8Array(32);return await Ci.getRandomValues(r),$E.stubThis(r)}var $E={stubThis:r=>r};var jb={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN"};function Ds(r){let e=xt.parse(r,Hr),t=e.tbsCertificate,n={combined:""};t.issuer.forEach(([s])=>{let a=jb[s.type];a&&(n[a]=s.value.toString())}),n.combined=Wb(n);let o={combined:""};t.subject.forEach(([s])=>{let a=jb[s.type];a&&(o[a]=s.value.toString())}),o.combined=Wb(o);let i=!1;if(t.extensions)for(let s of t.extensions)s.extnID===Oy&&(i=xt.parse(s.extnValue,Ts).cA);return{issuer:n,subject:o,version:t.version,basicConstraintsCA:i,notBefore:t.validity.notBefore.getTime(),notAfter:t.validity.notAfter.getTime(),parsedCertificate:e}}function Wb(r){let e=[];return r.C&&e.push(r.C),r.O&&e.push(r.O),r.OU&&e.push(r.OU),r.CN&&e.push(r.CN),e.join(" : ")}function Sd(r){return jE.stubThis(r)}var jE={stubThis:r=>(0,fm.fetch)(r)};var Qb={};async function hm(r){let{extensions:e}=r.tbsCertificate;if(!e)return!1;let t,n,o;e.forEach(w=>{w.extnID===Ry?t=xt.parse(w.extnValue,bi):w.extnID===Yy?n=xt.parse(w.extnValue,bu):w.extnID===Ly&&(o=xt.parse(w.extnValue,_s))});let i;t&&t.keyIdentifier?i=Je.toHex(new Uint8Array(t.keyIdentifier.buffer)):n&&(i=Je.toHex(new Uint8Array(n.buffer)));let s=Je.toHex(new Uint8Array(r.tbsCertificate.serialNumber));if(i){let w=Qb[i];if(w){let h=new Date;if(!w.nextUpdate||w.nextUpdate>h)return w.revokedCerts.indexOf(s)>=0}}let a=o?.[0].distributionPoint?.fullName?.[0].uniformResourceIdentifier;if(!a)return!1;let c;try{c=await(await Sd(a)).arrayBuffer()}catch{return!1}let f;try{f=xt.parse(c,Si)}catch{return!1}let p={revokedCerts:[],nextUpdate:void 0};f.tbsCertList.nextUpdate&&(p.nextUpdate=f.tbsCertList.nextUpdate.getTime());let l=f.tbsCertList.revokedCertificates;if(l){for(let w of l){let h=Je.toHex(new Uint8Array(w.userCertificate));p.revokedCerts.push(h)}return i&&(Qb[i]=p),p.revokedCerts.indexOf(s)>=0}return!1}function Yb(r){let e;try{e=yr.decodeFirst(r)}catch(t){let n=t;throw new Error(`Error decoding authenticator extensions: ${n.message}`)}return Jb(e)}function Jb(r){let e={};for(let[t,n]of r)n instanceof Map?e[t]=Jb(n):e[t]=n;return e}function Cu(r){if(r.byteLength<37)throw new Error(`Authenticator data was ${r.byteLength} bytes, expected at least 37 bytes`);let e=0,t=Je.toDataView(r),n=r.slice(e,e+=32),o=r.slice(e,e+=1),i=o[0],s={up:!!(i&1),uv:!!(i&4),be:!!(i&8),bs:!!(i&16),at:!!(i&64),ed:!!(i&128),flagsInt:i},a=r.slice(e,e+4),c=t.getUint32(e,!1);e+=4;let f,p,l;if(s.at){f=r.slice(e,e+=16);let m=t.getUint16(e);e+=2,p=r.slice(e,e+=m);let y=Je.fromHex("a301634f4b500327206745643235353139"),b=r.slice(e,e+y.byteLength),S=!1;Je.areEqual(y,b)&&(S=!0,r[e]=164);let P=yr.decodeFirst(r.slice(e)),D=Uint8Array.from(yr.encode(P));S&&(r[e]=163),l=D,e+=D.byteLength}let w,h;if(s.ed){let m=yr.decodeFirst(r.slice(e));h=Uint8Array.from(yr.encode(m)),w=Yb(h),e+=h.byteLength}if(r.byteLength>e)throw new Error("Leftover bytes detected while parsing authenticator data");return WE.stubThis({rpIdHash:n,flagsBuf:o,flags:s,counter:c,counterBuf:a,aaguid:f,credentialID:p,credentialPublicKey:l,extensionsData:w,extensionsDataBuffer:h})}var WE={stubThis:r=>r};function Bu(r){let e;if(r==="1.2.840.10045.4.3.2")e=ze.ES256;else if(r==="1.2.840.10045.4.3.3")e=ze.ES384;else if(r==="1.2.840.10045.4.3.4")e=ze.ES512;else if(r==="1.2.840.113549.1.1.11")e=ze.RS256;else if(r==="1.2.840.113549.1.1.12")e=ze.RS384;else if(r==="1.2.840.113549.1.1.13")e=ze.RS512;else if(r==="1.2.840.113549.1.1.5")e=ze.RS1;else throw new Error(`Unable to map X.509 signature algorithm ${r} to a COSE algorithm`);return e}function Td(r){let e=new Map,t=xt.parse(r,Hr),{tbsCertificate:n}=t,{subjectPublicKeyInfo:o,signature:i}=n,s=i.algorithm,a=o.algorithm.algorithm;if(a===Zy){if(!o.algorithm.parameters)throw new Error("Certificate public key was missing parameters (EC2)");let c=xt.parse(new Uint8Array(o.algorithm.parameters),Ti),f=-999,{namedCurve:p}=c;if(p===em)f=Gr.P256;else if(p===tm)f=Gr.P384;else throw new Error(`Certificate public key contained unexpected namedCurve ${p} (EC2)`);let l=new Uint8Array(o.subjectPublicKey),w,h;if(l[0]===4){let y=1,b=(l.length-1)/2;w=l.slice(y,y+=b),h=l.slice(y)}else throw new Error('TODO: Figure out how to handle public keys in "compressed form"');let m=new Map;m.set($e.kty,kn.EC2),m.set($e.alg,Bu(s)),m.set($e.crv,f),m.set($e.x,w),m.set($e.y,h),e=m}else if(a==="1.2.840.113549.1.1.1"){let c=xt.parse(o.subjectPublicKey,Us),f=new Map;f.set($e.kty,kn.RSA),f.set($e.alg,Bu(s)),f.set($e.n,new Uint8Array(c.modulus)),f.set($e.e,new Uint8Array(c.publicExponent)),e=f}else throw new Error(`Certificate public key contained unexpected algorithm ID ${a}`);return e}function Do(r){let{signature:e,data:t,credentialPublicKey:n,x509Certificate:o,hashAlgorithm:i}=r;if(!o&&!n)throw new Error('Must declare either "leafCert" or "credentialPublicKey"');if(o&&n)throw new Error('Must not declare both "leafCert" and "credentialPublicKey"');let s=new Map;return n?s=$a(n):o&&(s=Td(o)),QE.stubThis(Ci.verify({cosePublicKey:s,signature:e,data:t,shaHashOverride:i}))}var QE={stubThis:r=>r};function ja(r){let e=r.replace("-----BEGIN CERTIFICATE-----","").replace("-----END CERTIFICATE-----","").replace(/[\n ]/g,"");return qe.toBuffer(e,"base64")}async function to(r,e=[]){if(e.length===0)return!0;let t=!1,n;for(let o of e)try{let i=r.concat([o]);await YE(i),t=!1,n=void 0;break}catch(i){if(i instanceof Iu)t=!0;else if(i instanceof Ms)n=i.message;else throw i}if(t)throw new Iu;if(n)throw new Ms(n);return!0}async function YE(r){if(new Set(r).size!==r.length)throw new Error("Invalid certificate path: found duplicate certificates");for(let e=0;e<r.length;e+=1){let t=r[e],n=e===0,o=e+1>=r.length,i="";o?i=t:i=r[e+1];let s=Ds(ja(t)),a=Ds(ja(i)),c=s.parsedCertificate;if(await hm(c))throw new Error("Found revoked certificate in certificate path");let{notBefore:p,notAfter:l}=a,w=new Date(Date.now());if(p>w||l<w)throw n?new Ms(`Leaf certificate is not yet valid or expired: ${i}`):o?new Ms(`Root certificate is not yet valid or expired: ${i}`):new Ms(`Intermediate certificate is not yet valid or expired: ${i}`);if(s.issuer.combined!==a.subject.combined)throw new Iu;let h=xi.serialize(c.tbsCertificate),m=c.signatureValue,y=Bu(c.signatureAlgorithm.algorithm),b=ja(i);if(!await Do({data:new Uint8Array(h),signature:new Uint8Array(m),x509Certificate:b,hashAlgorithm:y}))throw new Error("Invalid certificate path: invalid signature")}return!0}var Iu=class extends Error{constructor(){let e="Subject issuer did not match issuer subject";super(e),this.name="InvalidSubjectAndIssuer"}},Ms=class extends Error{constructor(e){super(e),this.name="CertificateNotYetValidOrExpired"}};var XE={residentKey:"preferred",userVerification:"preferred"},ZE=[-8,-7,-257];async function ym(r){let{rpName:e,rpID:t,userID:n,userName:o,challenge:i=await _u(),userDisplayName:s=o,timeout:a=6e4,attestationType:c="none",excludeCredentials:f=[],authenticatorSelection:p=XE,extensions:l,supportedAlgorithmIDs:w=ZE}=r,h=w.map(y=>({alg:y,type:"public-key"}));p.residentKey===void 0?p.requireResidentKey&&(p.residentKey="required"):p.requireResidentKey=p.residentKey==="required";let m=i;return typeof m=="string"&&(m=Je.fromASCIIString(m)),{challenge:qe.fromBuffer(m),rp:{name:e,id:t},user:{id:n,name:o,displayName:s},pubKeyCredParams:h,timeout:a,attestation:c,excludeCredentials:f.map(y=>({...y,id:qe.fromBuffer(y.id)})),authenticatorSelection:p,extensions:{...l,credProps:!0}}}var Zb=`-----BEGIN CERTIFICATE-----
MIIDdTCCAl2gAwIBAgILBAAAAAABFUtaw5QwDQYJKoZIhvcNAQEFBQAwVzELMAkG
A1UEBhMCQkUxGTAXBgNVBAoTEEdsb2JhbFNpZ24gbnYtc2ExEDAOBgNVBAsTB1Jv
b3QgQ0ExGzAZBgNVBAMTEkdsb2JhbFNpZ24gUm9vdCBDQTAeFw05ODA5MDExMjAw
MDBaFw0yODAxMjgxMjAwMDBaMFcxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9i
YWxTaWduIG52LXNhMRAwDgYDVQQLEwdSb290IENBMRswGQYDVQQDExJHbG9iYWxT
aWduIFJvb3QgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDaDuaZ
jc6j40+Kfvvxi4Mla+pIH/EqsLmVEQS98GPR4mdmzxzdzxtIK+6NiY6arymAZavp
xy0Sy6scTHAHoT0KMM0VjU/43dSMUBUc71DuxC73/OlS8pF94G3VNTCOXkNz8kHp
1Wrjsok6Vjk4bwY8iGlbKk3Fp1S4bInMm/k8yuX9ifUSPJJ4ltbcdG6TRGHRjcdG
snUOhugZitVtbNV4FpWi6cgKOOvyJBNPc1STE4U6G7weNLWLBYy5d4ux2x8gkasJ
U26Qzns3dLlwR5EiUWMWea6xrkEmCMgZK9FGqkjWZCrXgzT/LCrBbBlDSgeF59N8
9iFo7+ryUp9/k5DPAgMBAAGjQjBAMA4GA1UdDwEB/wQEAwIBBjAPBgNVHRMBAf8E
BTADAQH/MB0GA1UdDgQWBBRge2YaRQ2XyolQL30EzTSo//z9SzANBgkqhkiG9w0B
AQUFAAOCAQEA1nPnfE920I2/7LqivjTFKDK1fPxsnCwrvQmeU79rXqoRSLblCKOz
yj1hTdNGCbM+w6DjY1Ub8rrvrTnhQ7k4o+YviiY776BQVvnGCv04zcQLcFGUl5gE
38NflNUVyRRBnMRddWQVDf9VMOyGj/8N7yy5Y0b2qvzfvGn9LhJIZJrglfCm7ymP
AbEVtQwdpf5pLGkkeB6zpxxxYu7KyJesF12KwvhHhm4qxFYxldBniYUr+WymXUad
DKqC5JlR3XC321Y9YeRq4VzW9v493kHMB65jUr9TU/Qr6cf9tveCX4XSQRjbgbME
HMUfpIBvFSDJ3gyICh3WZlXi/EjJKSZp4A==
-----END CERTIFICATE-----
`;var ew=`-----BEGIN CERTIFICATE-----
MIIFYDCCA0igAwIBAgIJAOj6GWMU0voYMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMTYwNTI2MTYyODUyWhcNMjYwNTI0MTYy
ODUyWjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaOBpjCBozAdBgNVHQ4EFgQUNmHhAHyIBQlRi0RsR/8aTMnqTxIwHwYD
VR0jBBgwFoAUNmHhAHyIBQlRi0RsR/8aTMnqTxIwDwYDVR0TAQH/BAUwAwEB/zAO
BgNVHQ8BAf8EBAMCAYYwQAYDVR0fBDkwNzA1oDOgMYYvaHR0cHM6Ly9hbmRyb2lk
Lmdvb2dsZWFwaXMuY29tL2F0dGVzdGF0aW9uL2NybC8wDQYJKoZIhvcNAQELBQAD
ggIBACDIw41L3KlXG0aMiS//cqrG+EShHUGo8HNsw30W1kJtjn6UBwRM6jnmiwfB
Pb8VA91chb2vssAtX2zbTvqBJ9+LBPGCdw/E53Rbf86qhxKaiAHOjpvAy5Y3m00m
qC0w/Zwvju1twb4vhLaJ5NkUJYsUS7rmJKHHBnETLi8GFqiEsqTWpG/6ibYCv7rY
DBJDcR9W62BW9jfIoBQcxUCUJouMPH25lLNcDc1ssqvC2v7iUgI9LeoM1sNovqPm
QUiG9rHli1vXxzCyaMTjwftkJLkf6724DFhuKug2jITV0QkXvaJWF4nUaHOTNA4u
JU9WDvZLI1j83A+/xnAJUucIv/zGJ1AMH2boHqF8CY16LpsYgBt6tKxxWH00XcyD
CdW2KlBCeqbQPcsFmWyWugxdcekhYsAWyoSf818NUsZdBWBaR/OukXrNLfkQ79Iy
ZohZbvabO/X+MVT3rriAoKc8oE2Uws6DF+60PV7/WIPjNvXySdqspImSN78mflxD
qwLqRBYkA3I75qppLGG9rp7UCdRjxMl8ZDBld+7yvHVgt1cVzJx9xnyGCC23Uaic
MDSXYrB4I4WHXPGjxhZuCuPBLTdOLU8YRvMYdEvYebWHMpvwGCF6bAx3JBpIeOQ1
wDB5y0USicV3YgYGmi+NZfhA4URSh77Yd6uuJOJENRaNVTzk
-----END CERTIFICATE-----
`,tw=`-----BEGIN CERTIFICATE-----
MIIFHDCCAwSgAwIBAgIJANUP8luj8tazMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV
BAUTEGY5MjAwOWU4NTNiNmIwNDUwHhcNMTkxMTIyMjAzNzU4WhcNMzQxMTE4MjAz
NzU4WjAbMRkwFwYDVQQFExBmOTIwMDllODUzYjZiMDQ1MIICIjANBgkqhkiG9w0B
AQEFAAOCAg8AMIICCgKCAgEAr7bHgiuxpwHsK7Qui8xUFmOr75gvMsd/dTEDDJdS
Sxtf6An7xyqpRR90PL2abxM1dEqlXnf2tqw1Ne4Xwl5jlRfdnJLmN0pTy/4lj4/7
tv0Sk3iiKkypnEUtR6WfMgH0QZfKHM1+di+y9TFRtv6y//0rb+T+W8a9nsNL/ggj
nar86461qO0rOs2cXjp3kOG1FEJ5MVmFmBGtnrKpa73XpXyTqRxB/M0n1n/W9nGq
C4FSYa04T6N5RIZGBN2z2MT5IKGbFlbC8UrW0DxW7AYImQQcHtGl/m00QLVWutHQ
oVJYnFPlXTcHYvASLu+RhhsbDmxMgJJ0mcDpvsC4PjvB+TxywElgS70vE0XmLD+O
JtvsBslHZvPBKCOdT0MS+tgSOIfga+z1Z1g7+DVagf7quvmag8jfPioyKvxnK/Eg
sTUVi2ghzq8wm27ud/mIM7AY2qEORR8Go3TVB4HzWQgpZrt3i5MIlCaY504LzSRi
igHCzAPlHws+W0rB5N+er5/2pJKnfBSDiCiFAVtCLOZ7gLiMm0jhO2B6tUXHI/+M
RPjy02i59lINMRRev56GKtcd9qO/0kUJWdZTdA2XoS82ixPvZtXQpUpuL12ab+9E
aDK8Z4RHJYYfCT3Q5vNAXaiWQ+8PTWm2QgBR/bkwSWc+NpUFgNPN9PvQi8WEg5Um
AGMCAwEAAaNjMGEwHQYDVR0OBBYEFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMB8GA1Ud
IwQYMBaAFDZh4QB8iAUJUYtEbEf/GkzJ6k8SMA8GA1UdEwEB/wQFMAMBAf8wDgYD
VR0PAQH/BAQDAgIEMA0GCSqGSIb3DQEBCwUAA4ICAQBOMaBc8oumXb2voc7XCWnu
XKhBBK3e2KMGz39t7lA3XXRe2ZLLAkLM5y3J7tURkf5a1SutfdOyXAmeE6SRo83U
h6WszodmMkxK5GM4JGrnt4pBisu5igXEydaW7qq2CdC6DOGjG+mEkN8/TA6p3cno
L/sPyz6evdjLlSeJ8rFBH6xWyIZCbrcpYEJzXaUOEaxxXxgYz5/cTiVKN2M1G2ok
QBUIYSY6bjEL4aUN5cfo7ogP3UvliEo3Eo0YgwuzR2v0KR6C1cZqZJSTnghIC/vA
D32KdNQ+c3N+vl2OTsUVMC1GiWkngNx1OO1+kXW+YTnnTUOtOIswUP/Vqd5SYgAI
mMAfY8U9/iIgkQj6T2W6FsScy94IN9fFhE1UtzmLoBIuUFsVXJMTz+Jucth+IqoW
Fua9v1R93/k98p41pjtFX+H8DslVgfP097vju4KDlqN64xV1grw3ZLl4CiOe/A91
oeLm2UHOq6wn3esB4r2EIQKb6jTVGu5sYCcdWpXr0AUVqcABPdgL+H7qJguBw09o
jm6xNIrw2OocrDKsudk/okr/AwqEyPKw9WnMlQgLIKw1rODG2NvU9oR3GVGdMkUB
ZutL8VuFkERQGt6vQ2OCw0sV47VMkuYbacK/xyZFiRcrPJPb41zgbQj9XAEyLKCH
ex0SdDrx+tWUDqG8At2JHA==
-----END CERTIFICATE-----
`;var rw=`-----BEGIN CERTIFICATE-----
MIICEjCCAZmgAwIBAgIQaB0BbHo84wIlpQGUKEdXcTAKBggqhkjOPQQDAzBLMR8w
HQYDVQQDDBZBcHBsZSBXZWJBdXRobiBSb290IENBMRMwEQYDVQQKDApBcHBsZSBJ
bmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMB4XDTIwMDMxODE4MjEzMloXDTQ1MDMx
NTAwMDAwMFowSzEfMB0GA1UEAwwWQXBwbGUgV2ViQXV0aG4gUm9vdCBDQTETMBEG
A1UECgwKQXBwbGUgSW5jLjETMBEGA1UECAwKQ2FsaWZvcm5pYTB2MBAGByqGSM49
AgEGBSuBBAAiA2IABCJCQ2pTVhzjl4Wo6IhHtMSAzO2cv+H9DQKev3//fG59G11k
xu9eI0/7o6V5uShBpe1u6l6mS19S1FEh6yGljnZAJ+2GNP1mi/YK2kSXIuTHjxA/
pcoRf7XkOtO4o1qlcaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUJtdk
2cV4wlpn0afeaxLQG2PxxtcwDgYDVR0PAQH/BAQDAgEGMAoGCCqGSM49BAMDA2cA
MGQCMFrZ+9DsJ1PW9hfNdBywZDsWDbWFp28it1d/5w2RPkRX3Bbn/UbDTNLx7Jr3
jAGGiQIwHFj+dJZYUJR786osByBelJYsVZd2GbHQu209b5RCmGQ21gpSAk9QZW4B
1bWeT0vT
-----END CERTIFICATE-----
`;var nw=`-----BEGIN CERTIFICATE-----
 MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
 A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
 Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
 MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
 A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
 hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
 RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
 gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
 KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
 QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
 XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
 DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
 LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
 RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
 jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
 6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
 mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
 Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
 WD9f
 -----END CERTIFICATE-----
 `;var mm=class{constructor(){Object.defineProperty(this,"pemCertificates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pemCertificates=new Map}setRootCertificates(e){let{identifier:t,certificates:n}=e,o=[];for(let i of n)i instanceof Uint8Array?o.push(ln(i)):o.push(i);this.pemCertificates.set(t,o)}getRootCertificates(e){let{identifier:t}=e;return this.pemCertificates.get(t)??[]}},Bi=new mm;Bi.setRootCertificates({identifier:"android-key",certificates:[ew,tw]});Bi.setRootCertificates({identifier:"android-safetynet",certificates:[Zb]});Bi.setRootCertificates({identifier:"apple",certificates:[rw]});Bi.setRootCertificates({identifier:"mds",certificates:[nw]});function ow(r){return(e,...t)=>{}}function iw(r){let e=r.split(".");return[JSON.parse(qe.toString(e[0])),JSON.parse(qe.toString(e[1])),e[2]]}function sw(r,e){let[t,n,o]=r.split("."),i=Td(e),s=Je.fromUTF8String(`${t}.${n}`),a=qe.toBuffer(o);if(ks(i))return bd({data:s,signature:a,cosePublicKey:i,shaHashOverride:ze.ES256});if(Ka(i))return wd({data:s,signature:a,cosePublicKey:i});let c=i.get($e.kty);throw new Error(`JWT verification with public key of kty ${c} is not supported by this method`)}var e_="https://mds.fidoalliance.org/",zr;(function(r){r[r.DISABLED=0]="DISABLED",r[r.REFRESHING=1]="REFRESHING",r[r.READY=2]="READY"})(zr||(zr={}));var Qa=ow("MetadataService"),gm=class{constructor(){Object.defineProperty(this,"mdsCache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"statementCache",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:zr.DISABLED}),Object.defineProperty(this,"verificationMode",{enumerable:!0,configurable:!0,writable:!0,value:"strict"})}async initialize(e={}){let{mdsServers:t=[e_],statements:n,verificationMode:o}=e;if(this.setState(zr.REFRESHING),n?.length){let i=0;n.forEach(s=>{s.aaguid&&(this.statementCache[s.aaguid]={entry:{metadataStatement:s,statusReports:[],timeOfLastStatusChange:"1970-01-01"},url:""},i+=1)}),Qa(`Cached ${i} local statements`)}if(t?.length){let i=Object.keys(this.statementCache).length,s=t.length;for(let f of t)try{await this.downloadBlob({url:f,no:0,nextUpdate:new Date(0)})}catch(p){Qa(`Could not download BLOB from ${f}:`,p),s-=1}let c=Object.keys(this.statementCache).length-i;Qa(`Cached ${c} statements from ${s} metadata server(s)`)}o&&(this.verificationMode=o),this.setState(zr.READY)}async getStatement(e){if(this.state===zr.DISABLED||!e)return;e instanceof Uint8Array&&(e=vd(e)),await this.pauseUntilReady();let t=this.statementCache[e];if(!t){if(this.verificationMode==="strict")throw new Error(`No metadata statement found for aaguid "${e}"`);return}if(t.url){let o=this.mdsCache[t.url];if(new Date>o.nextUpdate)try{this.setState(zr.REFRESHING),await this.downloadBlob(o)}finally{this.setState(zr.READY)}}let{entry:n}=t;for(let o of n.statusReports){let{status:i}=o;if(i==="USER_VERIFICATION_BYPASS"||i==="ATTESTATION_KEY_COMPROMISE"||i==="USER_KEY_REMOTE_COMPROMISE"||i==="USER_KEY_PHYSICAL_COMPROMISE")throw new Error(`Detected compromised aaguid "${e}"`)}return n.metadataStatement}async downloadBlob(e){let{url:t,no:n}=e,i=await(await Sd(t)).text(),s=iw(i),a=s[0],c=s[1];if(c.no<=n)throw new Error(`Latest BLOB no. "${c.no}" is not greater than previous ${n}`);let f=a.x5c.map(ln);try{let y=Bi.getRootCertificates({identifier:"mds"});await to(f,y)}catch(y){let b=y;throw new Error(`BLOB certificate path could not be validated: ${b.message}`)}let p=f[0];if(!await sw(i,ja(p)))throw new Error("BLOB signature could not be verified");for(let y of c.entries)y.aaguid&&(this.statementCache[y.aaguid]={entry:y,url:t});let[w,h,m]=c.nextUpdate.split("-");this.mdsCache[t]={...e,no:c.no,nextUpdate:new Date(parseInt(w,10),parseInt(h,10)-1,parseInt(m,10))}}pauseUntilReady(){return this.state===zr.READY?new Promise(t=>{t()}):new Promise((t,n)=>{let s=700,a=globalThis.setInterval(()=>{s<1?(clearInterval(a),n(`State did not become ready in ${7e4/1e3} seconds`)):this.state===zr.READY&&(clearInterval(a),t()),s-=1},100)})}setState(e){this.state=e,e===zr.DISABLED?Qa("MetadataService is DISABLED"):e===zr.REFRESHING?Qa("MetadataService is REFRESHING"):e===zr.READY&&Qa("MetadataService is READY")}},Pu=new gm;async function Ed(r={}){let{allowCredentials:e,challenge:t=await _u(),timeout:n=6e4,userVerification:o="preferred",extensions:i,rpID:s}=r,a=t;return typeof a=="string"&&(a=Je.fromUTF8String(a)),{challenge:qe.fromBuffer(a),allowCredentials:e?.map(c=>({...c,id:qe.fromBuffer(c.id)})),timeout:n,userVerification:o,extensions:i,rpId:s}}var _r=class extends Te{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return ro.load(e);case 1:return Uu.load(e);case 2:return Kr.load(e);case 3:return Ls.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}isEd25519(){return this instanceof ro}isMultiEd25519(){return this instanceof Uu}isSingleKey(){return this instanceof Kr}isMultiKey(){return this instanceof Ls}},ro=class r extends _r{constructor(t,n){super();this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){let n=lt.deserialize(t),o=Et.deserialize(t);return new r(n,o)}},Uu=class r extends _r{constructor(t,n){super();this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){let n=bn.deserialize(t),o=Vi.deserialize(t);return new r(n,o)}},Kr=class r extends _r{constructor(t,n){super();this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(2),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){let n=dt.deserialize(t),o=kr.deserialize(t);return new r(n,o)}},Ls=class r extends _r{constructor(t,n,o){super();this.public_keys=t,this.signatures=n,this.signatures_bitmap=o}serialize(t){t.serializeU32AsUleb128(3),this.public_keys.serialize(t),t.serializeVector(this.signatures),t.serializeBytes(this.signatures_bitmap)}static load(t){let n=rs.deserialize(t),o=t.deserializeVector(kr),i=t.deserializeBytes();return new r(n,o,i)}};var no=class extends Te{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Hs.load(e);case 1:return _d.load(e);case 2:return Gs.load(e);case 3:return zs.load(e);case 4:return Ks.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},Hs=class r extends no{constructor(t,n){super();this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){let n=lt.deserialize(t),o=Et.deserialize(t);return new r(n,o)}},_d=class r extends no{constructor(t,n){super();this.public_key=t,this.signature=n}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){let n=bn.deserialize(t),o=Vi.deserialize(t);return new r(n,o)}},Gs=class r extends no{constructor(t,n,o){super();this.sender=t,this.secondary_signer_addresses=n,this.secondary_signers=o}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),t.serializeVector(this.secondary_signer_addresses),t.serializeVector(this.secondary_signers)}static load(t){let n=_r.deserialize(t),o=t.deserializeVector(re),i=t.deserializeVector(_r);return new r(n,o,i)}},zs=class r extends no{constructor(t,n,o,i){super();this.sender=t,this.secondary_signer_addresses=n,this.secondary_signers=o,this.fee_payer=i}serialize(t){t.serializeU32AsUleb128(3),this.sender.serialize(t),t.serializeVector(this.secondary_signer_addresses),t.serializeVector(this.secondary_signers),this.fee_payer.address.serialize(t),this.fee_payer.authenticator.serialize(t)}static load(t){let n=_r.deserialize(t),o=t.deserializeVector(re),i=t.deserializeVector(_r),s=re.deserialize(t),a=_r.deserialize(t),c={address:s,authenticator:a};return new r(n,o,i,c)}},Ks=class r extends no{constructor(t){super();this.sender=t}serialize(t){t.serializeU32AsUleb128(4),this.sender.serialize(t)}static load(t){let n=_r.deserialize(t);return new r(n)}};var Fs=class r extends Te{constructor(t){super();this.chainId=t}serialize(t){t.serializeU8(this.chainId)}static deserialize(t){let n=t.deserializeU8();return new r(n)}};var bt=class r extends Te{constructor(t){super();this.identifier=t}serialize(t){t.serializeStr(this.identifier)}static deserialize(t){let n=t.deserializeStr();return new r(n)}};var Ya=class r extends Te{constructor(t,n){super();this.address=t,this.name=n}static fromStr(t){let n=t.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new r(re.fromString(n[0]),new bt(n[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){let n=re.deserialize(t),o=bt.deserialize(t);return new r(n,o)}};var It=class extends Te{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Vs.load(e);case 1:return qs.load(e);case 2:return Ws.load(e);case 3:return Qs.load(e);case 4:return Js.load(e);case 5:return Ii.load(e);case 6:return Zs.load(e);case 7:return Mo.load(e);case 8:return $s.load(e);case 9:return js.load(e);case 10:return Ys.load(e);case 255:return Xs.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}isBool(){return this instanceof Vs}isAddress(){return this instanceof Js}isGeneric(){return this instanceof Xs}isSigner(){return this instanceof Ii}isVector(){return this instanceof Zs}isStruct(){return this instanceof Mo}isU8(){return this instanceof qs}isU16(){return this instanceof $s}isU32(){return this instanceof js}isU64(){return this instanceof Ws}isU128(){return this instanceof Qs}isU256(){return this instanceof Ys}},Vs=class r extends It{toString(){return"bool"}serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new r}},qs=class r extends It{toString(){return"u8"}serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new r}},$s=class r extends It{toString(){return"u16"}serialize(e){e.serializeU32AsUleb128(8)}static load(e){return new r}},js=class r extends It{toString(){return"u32"}serialize(e){e.serializeU32AsUleb128(9)}static load(e){return new r}},Ws=class r extends It{toString(){return"u64"}serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new r}},Qs=class r extends It{toString(){return"u128"}serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new r}},Ys=class r extends It{toString(){return"u256"}serialize(e){e.serializeU32AsUleb128(10)}static load(e){return new r}},Js=class r extends It{toString(){return"address"}serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new r}},Ii=class r extends It{toString(){return"signer"}serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new r}},Ru=class r extends It{constructor(t){super();this.value=t}toString(){return`&${this.value.toString()}`}serialize(t){t.serializeU32AsUleb128(254)}static load(t){let n=It.deserialize(t);return new r(n)}},Xs=class r extends It{constructor(t){super();this.value=t;if(t<0)throw new Error("Generic type parameter index cannot be negative")}toString(){return`T${this.value}`}serialize(t){t.serializeU32AsUleb128(255),t.serializeU32(this.value)}static load(t){let n=t.deserializeU32();return new r(n)}},Zs=class r extends It{constructor(t){super();this.value=t}toString(){return`vector<${this.value.toString()}>`}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){let n=It.deserialize(t);return new r(n)}},Mo=class r extends It{constructor(t){super();this.value=t}toString(){let t="";return this.value.typeArgs.length>0&&(t=`<${this.value.typeArgs.map(n=>n.toString()).join(", ")}>`),`${this.value.address.toString()}::${this.value.moduleName.identifier}::${this.value.name.identifier}${t}`}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){let n=oo.deserialize(t);return new r(n)}isTypeTag(t,n,o){return this.value.moduleName.identifier===n&&this.value.name.identifier===o&&this.value.address.equals(t)}isString(){return this.isTypeTag(re.ONE,"string","String")}isOption(){return this.isTypeTag(re.ONE,"option","Option")}isObject(){return this.isTypeTag(re.ONE,"object","Object")}},oo=class r extends Te{constructor(t,n,o,i){super();this.address=t,this.moduleName=n,this.name=o,this.typeArgs=i}serialize(t){t.serialize(this.address),t.serialize(this.moduleName),t.serialize(this.name),t.serializeVector(this.typeArgs)}static deserialize(t){let n=re.deserialize(t),o=bt.deserialize(t),i=bt.deserialize(t),s=t.deserializeVector(It);return new r(n,o,i,s)}};function s_(){return new oo(re.ONE,new bt("aptos_coin"),new bt("AptosCoin"),[])}function a_(){return new oo(re.ONE,new bt("string"),new bt("String"),[])}function c_(r){return new oo(re.ONE,new bt("option"),new bt("Option"),[r])}function u_(r){return new oo(re.ONE,new bt("object"),new bt("Object"),[r])}function aw(r){let e=r.deserializeUleb128AsU32();switch(e){case 0:return jt.deserialize(r);case 1:return Ft.deserialize(r);case 2:return jr.deserialize(r);case 3:return re.deserialize(r);case 4:return ft.deserialize(r,jt);case 5:return Tt.deserialize(r);case 6:return qr.deserialize(r);case 7:return $r.deserialize(r);case 8:return Wr.deserialize(r);default:throw new Error(`Unknown variant index for ScriptTransactionArgument: ${e}`)}}var Pi=class extends Te{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Ja.load(e);case 2:return Xa.load(e);case 3:return Za.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Ja=class r extends Pi{constructor(t){super();this.script=t}serialize(t){t.serializeU32AsUleb128(0),this.script.serialize(t)}static load(t){let n=ec.deserialize(t);return new r(n)}},Xa=class r extends Pi{constructor(t){super();this.entryFunction=t}serialize(t){t.serializeU32AsUleb128(2),this.entryFunction.serialize(t)}static load(t){let n=ea.deserialize(t);return new r(n)}},Za=class r extends Pi{constructor(t){super();this.multiSig=t}serialize(t){t.serializeU32AsUleb128(3),this.multiSig.serialize(t)}static load(t){let n=tc.deserialize(t);return new r(n)}},ea=class r{constructor(e,t,n,o){this.module_name=e,this.function_name=t,this.type_args=n,this.args=o}static build(e,t,n,o){return new r(Ya.fromStr(e),new bt(t),n,o)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{t.serializeForEntryFunction(e)})}static deserialize(e){let t=Ya.deserialize(e),n=bt.deserialize(e),o=e.deserializeVector(It),i=e.deserializeUleb128AsU32(),s=new Array;for(let a=0;a<i;a+=1){let c=e.deserializeUleb128AsU32(),f=wc.deserialize(e,c);s.push(f)}return new r(t,n,o,s)}},ec=class r{constructor(e,t,n){this.bytecode=e,this.type_args=t,this.args=n}serialize(e){e.serializeBytes(this.bytecode),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach(t=>{t.serializeForScriptFunction(e)})}static deserialize(e){let t=e.deserializeBytes(),n=e.deserializeVector(It),o=e.deserializeUleb128AsU32(),i=new Array;for(let s=0;s<o;s+=1){let a=aw(e);i.push(a)}return new r(t,n,i)}},tc=class r{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){let t=re.deserialize(e),n=e.deserializeBool(),o;return n&&(o=rc.deserialize(e)),new r(t,o)}},rc=class r extends Te{constructor(t){super();this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new r(ea.deserialize(t))}};var dn=class r extends Te{constructor(t,n,o,i,s,a,c){super();this.sender=t,this.sequence_number=n,this.payload=o,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=a,this.chain_id=c}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){let n=re.deserialize(t),o=t.deserializeU64(),i=Pi.deserialize(t),s=t.deserializeU64(),a=t.deserializeU64(),c=t.deserializeU64(),f=Fs.deserialize(t);return new r(n,o,i,s,a,c,f)}},Ou=class extends Te{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return io.load(e);case 1:return so.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},io=class r extends Ou{constructor(t,n){super();this.raw_txn=t,this.secondary_signer_addresses=n}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),t.serializeVector(this.secondary_signer_addresses)}static load(t){let n=dn.deserialize(t),o=t.deserializeVector(re);return new r(n,o)}},so=class r extends Ou{constructor(t,n,o){super();this.raw_txn=t,this.secondary_signer_addresses=n,this.fee_payer_address=o}serialize(t){t.serializeU32AsUleb128(1),this.raw_txn.serialize(t),t.serializeVector(this.secondary_signer_addresses),this.fee_payer_address.serialize(t)}static load(t){let n=dn.deserialize(t),o=t.deserializeVector(re),i=re.deserialize(t);return new r(n,o,i)}};var Nn=class r extends Te{constructor(t,n){super();this.raw_txn=t,this.authenticator=n}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){let n=dn.deserialize(t),o=no.deserialize(t);return new r(n,o)}};function cw(r){return!!r.match(/^[_a-zA-Z0-9]+$/)}function uw(r){return!!r.match(/\s/)}function f_(r){return!!r.match(/^T[0-9]+$/)}function l_(r,e){let t=e;for(;t<r.length;t+=1){let n=r[t];if(!uw(n))break}return t}var fw=(w=>(w.InvalidTypeTag="unknown type",w.UnexpectedGenericType="unexpected generic type",w.UnexpectedTypeArgumentClose="unexpected '>'",w.UnexpectedWhitespaceCharacter="unexpected whitespace character",w.UnexpectedComma="unexpected ','",w.TypeArgumentCountMismatch="type argument count doesn't match expected amount",w.MissingTypeArgumentClose="no matching '>' for '<'",w.UnexpectedPrimitiveTypeArguments="primitive types not expected to have type arguments",w.UnexpectedVectorTypeArgumentCount="vector type expected to have exactly one type argument",w.UnexpectedStructFormat="unexpected struct format, must be of the form 0xaddress::module_name::struct_name",w.InvalidModuleNameCharacter="module name must only contain alphanumeric or '_' characters",w.InvalidStructNameCharacter="struct name must only contain alphanumeric or '_' characters",w))(fw||{}),yt=class extends Error{constructor(e,t){super(`Failed to parse typeTag '${e}', ${t}`)}};function nc(r,e){let t=e?.allowGenerics??!1,n=[],o=[],i=[],s=0,a="",c=1;for(;s<r.length;){let f=r[s];if(f==="<")n.push({savedExpectedTypes:c,savedStr:a,savedTypes:i}),a="",i=[],c=1;else if(f===">"){if(a!==""){let m=Cd(a,o,t);i.push(m)}let p=n.pop();if(p===void 0)throw new yt(r,"unexpected '>'");if(c!==i.length)throw new yt(r,"type argument count doesn't match expected amount");let{savedStr:l,savedTypes:w,savedExpectedTypes:h}=p;o=i,i=w,a=l,c=h}else if(f===","){if(a.length!==0){let p=Cd(a,o,t);o=[],i.push(p),a="",c+=1}}else if(uw(f)){let p=!1;if(a.length!==0){let w=Cd(a,o,t);o=[],i.push(w),a="",p=!0}s=l_(r,s);let l=r[s];if(s<r.length&&p&&l!==","&&l!==">")throw new yt(r,"unexpected whitespace character");continue}else a+=f;s+=1}if(n.length>0)throw new yt(r,"no matching '>' for '<'");switch(i.length){case 0:return Cd(a,o,t);case 1:if(a==="")return i[0];throw new yt(r,"unexpected ','");default:throw new yt(r,"unexpected whitespace character")}}function Cd(r,e,t){switch(r){case"&signer":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Ru(new Ii);case"signer":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Ii;case"bool":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Vs;case"address":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Js;case"u8":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new qs;case"u16":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new $s;case"u32":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new js;case"u64":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Ws;case"u128":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Qs;case"u256":if(e.length>0)throw new yt(r,"primitive types not expected to have type arguments");return new Ys;case"vector":if(e.length!==1)throw new yt(r,"vector type expected to have exactly one type argument");return new Zs(e[0]);default:if(f_(r)){if(t)return new Xs(Number(r.split("T")[1]));throw new yt(r,"unexpected generic type")}if(!r.match(/.*:.*/))throw new yt(r,"unknown type");let n=r.split("::");if(n.length!==3)throw new yt(r,"unexpected struct format, must be of the form 0xaddress::module_name::struct_name");if(!cw(n[1]))throw new yt(r,"module name must only contain alphanumeric or '_' characters");if(!cw(n[2]))throw new yt(r,"struct name must only contain alphanumeric or '_' characters");return new Mo(new oo(re.fromString(n[0]),new bt(n[1]),new bt(n[2]),e))}}function xm(r){return typeof r=="boolean"}function ta(r){return typeof r=="string"}function ku(r){return typeof r=="number"}function Nu(r){return typeof r=="number"||typeof r=="bigint"||typeof r=="string"}function bm(r){return r==null}function wm(r){return Bd(r)||Pd(r)||Ud(r)||Rd(r)||Od(r)||kd(r)||Nd(r)||Du(r)||Id(r)||lw(r)||r instanceof ft||r instanceof ho}function Bd(r){return r instanceof Tt}function Du(r){return r instanceof re}function Id(r){return r instanceof er}function lw(r){return r instanceof Fo}function Pd(r){return r instanceof jt}function Ud(r){return r instanceof qr}function Rd(r){return r instanceof $r}function Od(r){return r instanceof Ft}function kd(r){return r instanceof jr}function Nd(r){return r instanceof Wr}function Dd(r){return"bytecode"in r}function At(r,e){throw new Error(`Type mismatch for argument ${e}, expected '${r}'`)}function vm(r){let e=r.params.findIndex(t=>t!=="signer"&&t!=="&signer");return e<0?r.params.length:e}function Md(r){let e=r.split("::");if(e.length!==3)throw new Error(`Invalid function ${r}`);let t=e[0],n=e[1],o=e[2];return{moduleAddress:t,moduleName:n,functionName:o}}var d_=new TextEncoder;function Tm(r){return r?.map(e=>ta(e)?nc(e):e)??[]}async function Em(r,e,t,n){let i=(await Zf({aptosConfig:n,accountAddress:r,moduleName:e})).abi?.exposed_functions.find(c=>c.name===t);if(!i)throw new Error(`Could not find entry function ABI for '${r}::${e}::${t}'`);if(!i.is_entry)throw new Error(`'${r}::${e}::${t}' is not an entry function`);let s=vm(i),a=[];for(let c=s;c<i.params.length;c+=1)a.push(nc(i.params[c],{allowGenerics:!0}));return{typeParameters:i.generic_type_params,parameters:a}}function _m(r,e,t,n,o){if(n>=e.parameters.length)throw new Error(`Too many arguments for '${r}', expected ${e.parameters.length}`);let i=e.parameters[n];return ra(t,i,n,o)}function ra(r,e,t,n){return wm(r)?(Sm(e,r,t),r):p_(r,e,t,n)}function p_(r,e,t,n){if(e.isBool()){if(xm(r))return new Tt(r);At("boolean",t)}if(e.isAddress()){if(ta(r))return re.fromString(r);At("string | AccountAddress",t)}if(e.isU8()){if(ku(r))return new jt(r);At("number",t)}if(e.isU16()){if(ku(r))return new qr(r);At("number",t)}if(e.isU32()){if(ku(r))return new $r(r);At("number",t)}if(e.isU64()){if(Nu(r))return new Ft(BigInt(r));At("bigint | number | string",t)}if(e.isU128()){if(Nu(r))return new jr(BigInt(r));At("bigint | number | string",t)}if(e.isU256()){if(Nu(r))return new Wr(BigInt(r));At("bigint | number | string",t)}if(e.isGeneric()){let o=e.value;if(o<0||o>=n.length)throw new Error(`Generic argument ${e.toString()} is invalid for argument ${t}`);return ra(r,n[o],t,n)}if(e.isVector()){if(e.value.isU8()){if(ta(r))return ft.U8(d_.encode(r));if(r instanceof Uint8Array)return ft.U8(r);if(r instanceof ArrayBuffer)return ft.U8(new Uint8Array(r))}if(Array.isArray(r))return new ft(r.map(o=>ra(o,e.value,t,n)));throw new Error(`Type mismatch for argument ${t}, type '${e.toString()}'`)}if(e.isStruct()){if(e.isString()){if(ta(r))return new er(r);At("string",t)}if(e.isObject()){if(ta(r))return re.fromString(r);At("string | AccountAddress",t)}if(e.isOption())return bm(r)?new ho(null):new ho(ra(r,e.value.typeArgs[0],t,n));throw new Error(`Unsupported struct input type for argument ${t}, type '${e.toString()}'`)}throw new Error(`Type mismatch for argument ${t}, type '${e.toString()}'`)}function Sm(r,e,t){if(r.isBool()){if(Bd(e))return;At("Bool",t)}if(r.isAddress()){if(Du(e))return;At("AccountAddress",t)}if(r.isU8()){if(Pd(e))return;At("U8",t)}if(r.isU16()){if(Ud(e))return;At("U16",t)}if(r.isU32()){if(Rd(e))return;At("U32",t)}if(r.isU64()){if(Od(e))return;At("U64",t)}if(r.isU128()){if(kd(e))return;At("U128",t)}if(r.isU256()){if(Nd(e))return;At("U256",t)}if(r.isVector()){if(e instanceof ft){e.values.length>0&&Sm(r.value,e.values[0],t);return}At("MoveVector",t)}if(r instanceof Mo){if(r.isString()){if(Id(e))return;At("MoveString",t)}if(r.isObject()){if(Du(e))return;At("AccountAddress",t)}if(r.isOption()){if(e instanceof ho){e.value!==void 0&&Sm(r.value.typeArgs[0],e.value,t);return}At("MoveOption",t)}}throw new Error(`Type mismatch for argument ${t}, expected '${r.toString()}'`)}async function Lu(r){if(Dd(r))return pw(r);let{moduleAddress:e,moduleName:t,functionName:n}=Md(r.function),o=await ya(async()=>Em(e,t,n,r.aptosConfig),`entry-function-${r.aptosConfig.network}-${e}-${t}-${n}`,1e3*60*5)();return dw(r,o)}function dw(r,e){if(Dd(r))return pw(r);let{moduleAddress:t,moduleName:n,functionName:o}=Md(r.function),i=Tm(r.typeArguments);if(i.length!==e.typeParameters.length)throw new Error(`Type argument count mismatch, expected ${e.typeParameters.length}, received ${i.length}`);let s=r.functionArguments.map((c,f)=>_m(r.function,e,c,f,i));if(s.length!==e.parameters.length)throw new Error(`Too few arguments for '${t}::${n}::${o}', expected ${e.parameters.length} but got ${s.length}`);let a=ea.build(`${t}::${n}`,o,i,s);if("multisigAddress"in r){let c=re.from(r.multisigAddress);return new Za(new tc(c,new rc(a)))}return new Xa(a)}function pw(r){return new Ja(new ec(Ue.fromHexInput(r.bytecode).toUint8Array(),r.typeArguments??[],r.functionArguments))}async function hw(r){let{aptosConfig:e,sender:t,payload:n,options:o,feePayerAddress:i}=r,s=lf[e.network]?Promise.resolve({chain_id:lf[e.network]}):Qf({aptosConfig:e}),a=o?.gasUnitPrice?Promise.resolve({gas_estimate:o.gasUnitPrice}):tl({aptosConfig:e}),[{chain_id:c},{gas_estimate:f}]=await Promise.all([s,a]),p=o?.accountSequenceNumber!==void 0?Promise.resolve({sequence_number:o.accountSequenceNumber}):Fn({aptosConfig:e,accountAddress:t}),l;if(i&&re.from(i).equals(re.ZERO))try{let{sequence_number:y}=await p;l=y}catch{l="0"}else{let{sequence_number:y}=await p;l=y}let{maxGasAmount:w,gasUnitPrice:h,expireTimestamp:m}={maxGasAmount:o?.maxGasAmount?BigInt(o.maxGasAmount):BigInt(Ap),gasUnitPrice:BigInt(f),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+xp),...o};return new dn(re.from(t),BigInt(l),n,BigInt(w),BigInt(h),BigInt(m),new Fs(c))}async function Ld(r){let{aptosConfig:e,sender:t,payload:n,options:o,feePayerAddress:i}=r,s=await hw({aptosConfig:e,sender:t,payload:n,options:o,feePayerAddress:i});if("secondarySignerAddresses"in r){let a=r.secondarySignerAddresses?.map(c=>re.from(c))??[];return{rawTransaction:s,secondarySignerAddresses:a,feePayerAddress:r.feePayerAddress?re.from(r.feePayerAddress):void 0}}return{rawTransaction:s,feePayerAddress:r.feePayerAddress?re.from(r.feePayerAddress):void 0}}function Cm(r){let{signerPublicKey:e,transaction:t,secondarySignersPublicKeys:n,feePayerPublicKey:o}=r,i=Mu(e);if(t.feePayerAddress){let a=new so(t.rawTransaction,t.secondarySignerAddresses??[],t.feePayerAddress),c=[];n&&(c=n.map(l=>Mu(l)));let f=Mu(o),p=new zs(i,t.secondarySignerAddresses??[],c,{address:t.feePayerAddress,authenticator:f});return new Nn(a.raw_txn,p).bcsToBytes()}if(t.secondarySignerAddresses){let a=new io(t.rawTransaction,t.secondarySignerAddresses),c=[];c=n.map(p=>Mu(p));let f=new Gs(i,t.secondarySignerAddresses,c);return new Nn(a.raw_txn,f).bcsToBytes()}let s;if(i instanceof ro)s=new Hs(i.public_key,i.signature);else if(i instanceof Kr)s=new Ks(i);else throw new Error("Invalid public key");return new Nn(t.rawTransaction,s).bcsToBytes()}function Mu(r){if(r instanceof dt){if(r.publicKey instanceof lt)return new Kr(r,new kr(new Et(new Uint8Array(64))));if(r.publicKey instanceof xr)return new Kr(r,new kr(new To(new Uint8Array(64))))}return new ro(new lt(r.toUint8Array()),new Et(new Uint8Array(64)))}function Bm(r){let{signer:e,transaction:t}=r,n=zd(t),o=e.sign(n);switch(e.signingScheme){case 0:return new ro(new lt(e.publicKey.toUint8Array()),new Et(o.toUint8Array()));case 2:if(!dt.isPublicKey(e.publicKey))throw new Error(`Cannot sign transaction, public key does not match ${e.signingScheme}`);return new Kr(e.publicKey,new kr(o));default:throw new Error(`Cannot sign transaction, signing scheme ${e.signingScheme} not supported`)}}async function Hd(r){let{credentialId:e,publicKey:t,transaction:n,timeout:o,rpID:i,options:s}=r;if(console.log("PublicKey",t.toString()),!(t instanceof cr))throw new Error("Unsupported public key for passkey signing.");let a=s?.allowCredentials??[{type:"public-key",id:typeof e=="string"?qe.toBuffer(e):e}],c={rawTransaction:Gd(n)},f=Kd({transaction:c}),p=Gn(f),l=await Ed({allowCredentials:a,challenge:p,timeout:o,rpID:i,userVerification:"required"}),h=(await vh(l)).response;console.log(h);let{clientDataJSON:m,authenticatorData:y,signature:b}=h;console.log("DER Signature: ",b);let S=ii.Signature.fromDER(new Uint8Array(Cc(b))).toCompactRawBytes();console.log("COMPACT Signature: ",new Ue(S).toString());let P=new si(new En(S),qe.toBuffer(y),qe.toBuffer(m));return console.log("WEBAUTHN Signature: ",P),new Kr(new dt(t),new kr(P))}function h_(r){let{publicKey:e,signature:t,authenticatorData:n,clientDataJSON:o}=r,i;if(e instanceof cr)i=new kr(new En(t));else throw new Error("Unsupported public key");let s=new si(i,n,o);return new Kr(new dt(e),new kr(s))}function Im(r){let{transaction:e,senderAuthenticator:t,feePayerAuthenticator:n,additionalSignersAuthenticators:o}=r,i=Gd(e);if((n||o)&&(i instanceof io||i instanceof so))return yw(i,t,n,o);if(t instanceof ro&&i instanceof dn){let s=new Hs(t.public_key,t.signature);return new Nn(i,s).bcsToBytes()}if((t instanceof Kr||t instanceof Ls)&&i instanceof dn){let s=new Ks(t);return new Nn(i,s).bcsToBytes()}throw new Error(`Cannot generate a signed transaction, ${t} is not a supported account authentication scheme`)}function Gd(r){return r.feePayerAddress?new so(r.rawTransaction,r.secondarySignerAddresses??[],r.feePayerAddress):r.secondarySignerAddresses?new io(r.rawTransaction,r.secondarySignerAddresses):r.rawTransaction}function yw(r,e,t,n){if(r instanceof so){if(!t)throw new Error("Must provide a feePayerAuthenticator argument to generate a signed fee payer transaction");let o=new zs(e,r.secondary_signer_addresses,n??[],{address:r.fee_payer_address,authenticator:t});return new Nn(r.raw_txn,o).bcsToBytes()}if(r instanceof io){if(!n)throw new Error("Must provide a additionalSignersAuthenticators argument to generate a signed multi agent transaction");let o=new Gs(e,r.secondary_signer_addresses,n??[]);return new Nn(r.raw_txn,o).bcsToBytes()}throw new Error(`Cannot prepare multi signers transaction to submission, ${typeof r} transaction is not supported`)}function zd(r){let e=Gd(r),t=Gn.create();if(e instanceof dn)t.update(bp);else if(e instanceof io)t.update(df);else if(e instanceof so)t.update(df);else throw new Error(`Unknown transaction type to sign on: ${e}`);let n=t.digest(),o=e.bcsToBytes(),i=new Uint8Array(n.length+o.length);return i.set(n),i.set(o,n.length),i}async function tt(r){let e=await y_(r);return m_(r,e)}async function y_(r){let{aptosConfig:e,data:t}=r,n,o;return"bytecode"in t?(n=t,o=await Lu(n)):"multisigAddress"in t?(n={aptosConfig:e,multisigAddress:t.multisigAddress,function:t.function,functionArguments:t.functionArguments,typeArguments:t.typeArguments},o=await Lu(n)):(n={aptosConfig:e,function:t.function,functionArguments:t.functionArguments,typeArguments:t.typeArguments},o=await Lu(n)),o}async function m_(r,e){let{aptosConfig:t,sender:n,options:o}=r,i;if(g_(r)&&(i=re.ZERO.toString()),A_(r)){let{secondarySignerAddresses:s}=r;return Ld({aptosConfig:t,sender:n,payload:e,options:o,secondarySignerAddresses:s,feePayerAddress:i})}return Ld({aptosConfig:t,sender:n,payload:e,options:o,feePayerAddress:i})}function g_(r){return r.withFeePayer===!0}function A_(r){return"secondarySignerAddresses"in r}function Kd(r){let{transaction:e}=r;return zd(e)}function Fd(r){return Bm({...r})}async function Pm(r){let{aptosConfig:e,transaction:t,signerPublicKey:n,secondarySignersPublicKeys:o,feePayerPublicKey:i,options:s}=r,a=Cm({transaction:t,signerPublicKey:n,secondarySignersPublicKeys:o,feePayerPublicKey:i,options:s}),{data:c}=await Li({aptosConfig:e,body:a,path:"transactions/simulate",params:{estimate_gas_unit_price:r.options?.estimateGasUnitPrice??!1,estimate_max_gas_amount:r.options?.estimateMaxGasAmount??!1,estimate_prioritized_gas_unit_price:r.options?.estimatePrioritizedGasUnitPrice??!1},originMethod:"simulateTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return c}async function oc(r){let{aptosConfig:e}=r,t=Im({...r}),{data:n}=await Li({aptosConfig:e,body:t,path:"transactions",originMethod:"submitTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return n}async function Hu(r){let{aptosConfig:e,signer:t,transaction:n}=r,o=Fd({signer:t,transaction:n});return oc({aptosConfig:e,transaction:n,senderAuthenticator:o})}async function mw(r){let{aptosConfig:e,account:t,metadataBytes:n,moduleBytecode:o,options:i}=r,s=o.map(c=>ft.U8(c));return await tt({aptosConfig:e,sender:re.from(t),data:{function:"0x1::code::publish_package_txn",functionArguments:[ft.U8(n),new ft(s)]},options:i})}async function gw(r){let{aptosConfig:e,fromAccount:t,toNewPrivateKey:n}=r,o=await Fn({aptosConfig:e,accountAddress:t.accountAddress}),i=_o.fromPrivateKey({privateKey:n,legacy:!0}),a=new Gc({sequenceNumber:BigInt(o.sequence_number),originator:t.accountAddress,currentAuthKey:re.from(o.authentication_key),newPublicKey:i.publicKey}).bcsToBytes(),c=t.sign(a),f=i.sign(a),p=await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x1::account::rotate_authentication_key",functionArguments:[new jt(t.signingScheme.valueOf()),ft.U8(t.publicKey.toUint8Array()),new jt(i.signingScheme.valueOf()),ft.U8(i.publicKey.toUint8Array()),ft.U8(c.toUint8Array()),ft.U8(f.toUint8Array())]}});return await Hu({aptosConfig:e,signer:t,transaction:p})}async function Aw(r){let{aptosConfig:e,sender:t,recipient:n,amount:o,coinType:i,options:s}=r;return await tt({aptosConfig:e,sender:t,data:{function:"0x1::aptos_account::transfer_coins",typeArguments:[i??Ac],functionArguments:[n,o]},options:s})}var Gu=class{constructor(e){this.config=e}async transferCoinTransaction(e){return Aw({aptosConfig:this.config,...e})}};var Ui={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",STRING:"0x1::string::String",ARRAY:"vector<u8>"},pn="0x4::token::Token";async function xw(r){let{aptosConfig:e,digitalAssetAddress:t}=r,n={token_data_id:{_eq:re.from(t).toStringLong()}};return(await Qe({aptosConfig:e,query:{query:H0,variables:{where_condition:n}},originMethod:"getDigitalAssetData"})).current_token_datas_v2[0]}async function bw(r){let{aptosConfig:e,digitalAssetAddress:t}=r,n={token_data_id:{_eq:re.from(t).toStringLong()}};return(await Qe({aptosConfig:e,query:{query:Ch,variables:{where_condition:n}},originMethod:"getCurrentDigitalAssetOwnership"})).current_token_ownerships_v2[0]}async function ww(r){let{aptosConfig:e,ownerAddress:t,options:n}=r,o={owner_address:{_eq:re.from(t).toStringLong()},amount:{_gt:0}},i={query:Ch,variables:{where_condition:o,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Qe({aptosConfig:e,query:i,originMethod:"getOwnedDigitalAssets"})).current_token_ownerships_v2}async function vw(r){let{aptosConfig:e,digitalAssetAddress:t,options:n}=r,o={token_data_id:{_eq:re.from(t).toStringLong()}},i={query:L0,variables:{where_condition:o,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Qe({aptosConfig:e,query:i,originMethod:"getDigitalAssetActivity"})).token_activities_v2}async function Sw(r){let{aptosConfig:e,options:t,creator:n}=r;return await tt({aptosConfig:e,sender:n.accountAddress,data:{function:"0x4::aptos_token::create_collection",functionArguments:[new er(r.description),new Ft(r.maxSupply??zi),new er(r.name),new er(r.uri),new Tt(r.mutableDescription??!0),new Tt(r.mutableRoyalty??!0),new Tt(r.mutableURI??!0),new Tt(r.mutableTokenDescription??!0),new Tt(r.mutableTokenName??!0),new Tt(r.mutableTokenProperties??!0),new Tt(r.mutableTokenURI??!0),new Tt(r.tokensBurnableByCreator??!0),new Tt(r.tokensFreezableByCreator??!0),new Ft(r.royaltyNumerator??0),new Ft(r.royaltyDenominator??1)]},options:t})}async function Um(r){let{aptosConfig:e,creatorAddress:t,collectionName:n,options:o}=r,i=re.from(t),s={collection_name:{_eq:n},creator_address:{_eq:i.toStringLong()}};return o?.tokenStandard&&(s.token_standard={_eq:o?.tokenStandard??"v2"}),(await Qe({aptosConfig:e,query:{query:R0,variables:{where_condition:s}},originMethod:"getCollectionData"})).current_collections_v2[0]}async function Tw(r){return(await Um(r)).collection_id}async function Ew(r){let{aptosConfig:e,options:t,creator:n,collection:o,description:i,name:s,uri:a,propertyKeys:c,propertyTypes:f,propertyValues:p}=r,l=f?.map(h=>Ui[h]);return await tt({aptosConfig:e,sender:n.accountAddress,data:{function:"0x4::aptos_token::mint",functionArguments:[o,i,s,a,c??[],l??[],Hw(p??[],l??[])]},options:t})}async function _w(r){let{aptosConfig:e,sender:t,digitalAssetAddress:n,recipient:o,digitalAssetType:i,options:s}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x1::object::transfer",typeArguments:[i??pn],functionArguments:[n,o]},options:s})}async function Cw(r){let{aptosConfig:e,account:t,collection:n,description:o,name:i,uri:s,recipient:a,propertyKeys:c,propertyTypes:f,propertyValues:p,options:l}=r;if(c?.length!==p?.length)throw new Error("Property keys and property values counts do not match");if(f?.length!==p?.length)throw new Error("Property types and property values counts do not match");let w=f?.map(m=>Ui[m]);return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::mint_soul_bound",functionArguments:[n,o,i,s,c??[],w??[],Hw(p??[],w??[]),a]},options:l})}async function Bw(r){let{aptosConfig:e,creator:t,digitalAssetAddress:n,digitalAssetType:o,options:i}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::burn",typeArguments:[o??pn],functionArguments:[n]},options:i})}async function Iw(r){let{aptosConfig:e,creator:t,digitalAssetAddress:n,digitalAssetType:o,options:i}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::freeze_transfer",typeArguments:[o??pn],functionArguments:[n]},options:i})}async function Pw(r){let{aptosConfig:e,creator:t,digitalAssetAddress:n,digitalAssetType:o,options:i}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::unfreeze_transfer",typeArguments:[o??pn],functionArguments:[n]},options:i})}async function Uw(r){let{aptosConfig:e,creator:t,description:n,digitalAssetAddress:o,digitalAssetType:i,options:s}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::set_description",typeArguments:[i??pn],functionArguments:[o,n]},options:s})}async function Rw(r){let{aptosConfig:e,creator:t,name:n,digitalAssetAddress:o,digitalAssetType:i,options:s}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::set_name",typeArguments:[i??pn],functionArguments:[o,n]},options:s})}async function Ow(r){let{aptosConfig:e,creator:t,uri:n,digitalAssetAddress:o,digitalAssetType:i,options:s}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::set_uri",typeArguments:[i??pn],functionArguments:[o,n]},options:s})}async function kw(r){let{aptosConfig:e,creator:t,propertyKey:n,propertyType:o,propertyValue:i,digitalAssetAddress:s,digitalAssetType:a,options:c}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::add_property",typeArguments:[a??pn],functionArguments:[s,n,Ui[o],Rm(i,Ui[o])]},options:c})}async function Nw(r){let{aptosConfig:e,creator:t,propertyKey:n,digitalAssetAddress:o,digitalAssetType:i,options:s}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::remove_property",typeArguments:[i??pn],functionArguments:[o,n]},options:s})}async function Dw(r){let{aptosConfig:e,creator:t,propertyKey:n,propertyType:o,propertyValue:i,digitalAssetAddress:s,digitalAssetType:a,options:c}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::update_property",typeArguments:[a??pn],functionArguments:[s,n,Ui[o],Rm(i,Ui[o])]},options:c})}async function Mw(r){let{aptosConfig:e,creator:t,propertyKey:n,propertyType:o,propertyValue:i,digitalAssetAddress:s,digitalAssetType:a,options:c}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::add_typed_property",typeArguments:[a??pn,Ui[o]],functionArguments:[s,n,i]},options:c})}async function Lw(r){let{aptosConfig:e,creator:t,propertyKey:n,propertyType:o,propertyValue:i,digitalAssetAddress:s,digitalAssetType:a,options:c}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x4::aptos_token::update_typed_property",typeArguments:[a??pn,Ui[o]],functionArguments:[s,n,i]},options:c})}function Hw(r,e){let t=new Array;return e.forEach((n,o)=>{t.push(Rm(r[o],n))}),t}function Rm(r,e){let t=nc(e);return ra(r,t,0,[]).bcsToBytes()}var zu=class{constructor(e){this.config=e}async getCollectionData(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Um({aptosConfig:this.config,...e})}async getCollectionId(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Tw({aptosConfig:this.config,...e})}async getDigitalAssetData(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),xw({aptosConfig:this.config,...e})}async getCurrentDigitalAssetOwnership(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),bw({aptosConfig:this.config,...e})}async getOwnedDigitalAssets(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),ww({aptosConfig:this.config,...e})}async getDigitalAssetActivity(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),vw({aptosConfig:this.config,...e})}async createCollectionTransaction(e){return Sw({aptosConfig:this.config,...e})}async mintDigitalAssetTransaction(e){return Ew({aptosConfig:this.config,...e})}async transferDigitalAssetTransaction(e){return _w({aptosConfig:this.config,...e})}async mintSoulBoundTransaction(e){return Cw({aptosConfig:this.config,...e})}async burnDigitalAssetTransaction(e){return Bw({aptosConfig:this.config,...e})}async freezeDigitalAssetTransaferTransaction(e){return Iw({aptosConfig:this.config,...e})}async unfreezeDigitalAssetTransaferTransaction(e){return Pw({aptosConfig:this.config,...e})}async setDigitalAssetDescriptionTransaction(e){return Uw({aptosConfig:this.config,...e})}async setDigitalAssetNameTransaction(e){return Rw({aptosConfig:this.config,...e})}async setDigitalAssetURITransaction(e){return Ow({aptosConfig:this.config,...e})}async addDigitalAssetPropertyTransaction(e){return kw({aptosConfig:this.config,...e})}async removeDigitalAssetPropertyTransaction(e){return Nw({aptosConfig:this.config,...e})}async updateDigitalAssetPropertyTransaction(e){return Dw({aptosConfig:this.config,...e})}async addDigitalAssetTypedPropertyTransaction(e){return Mw({aptosConfig:this.config,...e})}async updateDigitalAssetTypedPropertyTransaction(e){return Lw({aptosConfig:this.config,...e})}};async function Gw(r){let{accountAddress:e,aptosConfig:t,creationNumber:n,options:o}=r,a={where:{account_address:{_eq:re.from(e).toStringLong()},creation_number:{_eq:n}},pagination:o,orderBy:o?.orderBy};return Vd({aptosConfig:t,options:a})}async function zw(r){let{accountAddress:e,aptosConfig:t,eventType:n,options:o}=r,a={where:{account_address:{_eq:re.from(e).toStringLong()},indexed_type:{_eq:n}},pagination:o,orderBy:o?.orderBy};return Vd({aptosConfig:t,options:a})}async function Vd(r){let{aptosConfig:e,options:t}=r,n={query:N0,variables:{where_condition:t?.where,offset:t?.offset,limit:t?.limit,order_by:t?.orderBy}};return(await Qe({aptosConfig:e,query:n,originMethod:"getEvents"})).events}var Ku=class{constructor(e){this.config=e}async getAccountEventsByCreationNumber(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),Gw({aptosConfig:this.config,...e})}async getAccountEventsByEventType(e){return await st({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),zw({aptosConfig:this.config,...e})}async getEvents(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"events_processor"}),Vd({aptosConfig:this.config,...e})}};async function Kw(r){let{aptosConfig:e,accountAddress:t,amount:n,options:o}=r,i=o?.timeoutSecs||gc,{data:s}=await Sp({aptosConfig:e,path:"fund",body:{address:re.from(t).toString(),amount:n},originMethod:"fundAccount"}),a=s.txn_hashes[0],c=await ma({aptosConfig:e,transactionHash:a,options:{timeoutSecs:i,checkSuccess:o?.checkSuccess}});if(c.type==="user_transaction")return c;throw new Error(`Unexpected transaction received for fund account: ${c.type}`)}var Fu=class{constructor(e){this.config=e}async fundAccount(e){let t=await Kw({aptosConfig:this.config,...e});return e.options?.waitForIndexer!==!1&&await nl({aptosConfig:this.config,minimumLedgerVersion:BigInt(t.version)}),t}};async function Om(r){let{aptosConfig:e,options:t}=r,n={query:M0,variables:{where_condition:t?.where,limit:t?.limit,offset:t?.offset}};return(await Qe({aptosConfig:e,query:n,originMethod:"getFungibleAssetMetadata"})).fungible_asset_metadata}async function Fw(r){let{aptosConfig:e,options:t}=r,n={query:D0,variables:{where_condition:t?.where,limit:t?.limit,offset:t?.offset}};return(await Qe({aptosConfig:e,query:n,originMethod:"getFungibleAssetActivities"})).fungible_asset_activities}async function Vw(r){let{aptosConfig:e,options:t}=r,n={query:O0,variables:{where_condition:t?.where,limit:t?.limit,offset:t?.offset}};return(await Qe({aptosConfig:e,query:n,originMethod:"getCurrentFungibleAssetBalances"})).current_fungible_asset_balances}async function qw(r){let{aptosConfig:e,sender:t,fungibleAssetMetadataAddress:n,recipient:o,amount:i,options:s}=r;return await tt({aptosConfig:e,sender:t.accountAddress,data:{function:"0x1::primary_fungible_store::transfer",typeArguments:["0x1::fungible_asset::Metadata"],functionArguments:[n,o,i]},options:s})}var Vu=class{constructor(e){this.config=e}async getFungibleAssetMetadata(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Om({aptosConfig:this.config,...e})}async getFungibleAssetMetadataByAssetType(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),(await Om({aptosConfig:this.config,options:{where:{asset_type:{_eq:e.assetType}}}}))[0]}async getFungibleAssetActivities(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Fw({aptosConfig:this.config,...e})}async getCurrentFungibleAssetBalances(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),Vw({aptosConfig:this.config,...e})}async transferFungibleAsset(e){return qw({aptosConfig:this.config,...e})}};var qu=class{constructor(e){this.config=e}async getLedgerInfo(){return Qf({aptosConfig:this.config})}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getBlockByVersion(e){return G0({aptosConfig:this.config,...e})}async getBlockByHeight(e){return z0({aptosConfig:this.config,...e})}async getTableItem(e){return Yf({aptosConfig:this.config,...e})}async view(e){return ai({aptosConfig:this.config,...e})}async getChainTopUserTransactions(e){return K0({aptosConfig:this.config,...e})}async queryIndexer(e){return Qe({aptosConfig:this.config,...e})}async getIndexerLastSuccessVersion(){return Jf({aptosConfig:this.config})}async getProcessorStatus(e){return Xf({aptosConfig:this.config,processorType:e})}};var $w=["A name must be between 3 and 63 characters long,","and can only contain lowercase a-z, 0-9, and hyphens.","A name may not start or end with a hyphen."].join(" ");function jw(r){return!(!r||r.length<3||r.length>63||!/^[a-z\d][a-z\d-]{1,61}[a-z\d]$/.test(r))}function Ri(r){let[e,t,...n]=r.replace(/\.apt$/,"").split(".");if(n.length>0)throw new Error(`${r} is invalid. A name can only have two parts, a domain and a subdomain separated by a "."`);if(!jw(e))throw new Error(`${e} is not valid. ${$w}`);if(t&&!jw(t))throw new Error(`${t} is not valid. ${$w}`);return{domainName:t||e,subdomainName:t?e:void 0}}var x_="0x585fc9f0f0c54183b039ffc770ca282ebd87307916c215a3e692f2f8e4305e82",b_={testnet:"0x5f8fd2347449685cf41d4db97926ec3a096eaf381332be4f1318ad4d16a8497c",mainnet:"0x867ed1f6bf916171b1de3ee92849b8978b7d1b9e0a8cc982a3d19d535dfd9c0c",local:x_,custom:null,devnet:null,randomnet:null};function Lo(r){let e=b_[r.network];if(!e)throw new Error(`The ANS contract is not deployed to ${r.network}`);return e}var w_=r=>({vec:[r]}),v_=()=>({vec:[]}),km=r=>r!=null?w_(r):v_(),qd=r=>{if(r&&typeof r=="object"&&"vec"in r&&Array.isArray(r.vec))return r.vec[0]};async function Ww(r){let{aptosConfig:e,name:t}=r,n=Lo(e),{domainName:o,subdomainName:i}=Ri(t),s=await ai({aptosConfig:e,payload:{function:`${n}::router::get_owner_addr`,functionArguments:[o,km(i)]}}),a=qd(s[0]);return a?re.from(a).toString():void 0}async function Qw(r){let{aptosConfig:e,expiration:t,name:n,sender:o,targetAddress:i,toAddress:s,options:a,transferable:c}=r,f=Lo(e),{domainName:p,subdomainName:l}=Ri(n),w=t.policy==="subdomain:independent"||t.policy==="subdomain:follow-domain";if(l&&!w)throw new Error("Subdomains must have an expiration policy of either 'subdomain:independent' or 'subdomain:follow-domain'");if(w&&!l)throw new Error(`Policy is set to ${t.policy} but no subdomain was provided`);if(t.policy==="domain"){let b=t.years??1;if(b!==1)throw new Error("For now, names can only be registered for 1 year at a time");let P=b*31536e3;return await tt({aptosConfig:e,sender:o.accountAddress.toString(),data:{function:`${f}::router::register_domain`,functionArguments:[p,P,i,s]},options:a})}if(!l)throw new Error(`${t.policy} requires a subdomain to be provided.`);let h=await Nm({aptosConfig:e,name:p});if(!h)throw new Error("The domain does not exist");let m=t.policy==="subdomain:independent"?t.expirationDate:h;if(m>h)throw new Error("The subdomain expiration time cannot be greater than the domain expiration time");return await tt({aptosConfig:e,sender:o.accountAddress.toString(),data:{function:`${f}::router::register_subdomain`,functionArguments:[p,l,Math.round(m/1e3),t.policy==="subdomain:follow-domain"?1:0,!!c,i,s]},options:a})}async function Nm(r){let{aptosConfig:e,name:t}=r,n=Lo(e),{domainName:o,subdomainName:i}=Ri(t);try{let s=await ai({aptosConfig:e,payload:{function:`${n}::router::get_expiration`,functionArguments:[o,km(i)]}});return Number(s[0])*1e3}catch{return}}async function Yw(r){let{aptosConfig:e,address:t}=r,n=Lo(e),o=await ai({aptosConfig:e,payload:{function:`${n}::router::get_primary_name`,functionArguments:[re.from(t).toString()]}}),i=qd(o[1]),s=qd(o[0]);if(i)return[s,i].filter(Boolean).join(".")}async function Jw(r){let{aptosConfig:e,sender:t,name:n,options:o}=r,i=Lo(e);if(!n)return await tt({aptosConfig:e,sender:t.accountAddress.toString(),data:{function:`${i}::router::clear_primary_name`,functionArguments:[]},options:o});let{domainName:s,subdomainName:a}=Ri(n);return await tt({aptosConfig:e,sender:t.accountAddress.toString(),data:{function:`${i}::router::set_primary_name`,functionArguments:[s,a]},options:o})}async function Xw(r){let{aptosConfig:e,name:t}=r,n=Lo(e),{domainName:o,subdomainName:i}=Ri(t),s=await ai({aptosConfig:e,payload:{function:`${n}::router::get_target_addr`,functionArguments:[o,km(i)]}}),a=qd(s[0]);return a?re.from(a).toString():void 0}async function Zw(r){let{aptosConfig:e,sender:t,name:n,address:o,options:i}=r,s=Lo(e),{domainName:a,subdomainName:c}=Ri(n);return await tt({aptosConfig:e,sender:t.accountAddress.toString(),data:{function:`${s}::router::set_target_addr`,functionArguments:[a,c,o]},options:i})}async function e1(r){let{aptosConfig:e,name:t}=r,{domainName:n,subdomainName:o=""}=Ri(t),a=(await Qe({aptosConfig:e,query:{query:ha,variables:{where_condition:{domain:{_eq:n},subdomain:{_eq:o}},limit:1}},originMethod:"getName"})).current_aptos_names[0];return a&&(a=$u(a)),a}async function t1(r){let{aptosConfig:e,options:t,accountAddress:n}=r,o=await Dm({aptosConfig:e});return(await Qe({aptosConfig:e,originMethod:"getAccountNames",query:{query:ha,variables:{limit:t?.limit,offset:t?.offset,order_by:t?.orderBy,where_condition:{...r.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:o}}}}})).current_aptos_names.map($u)}async function r1(r){let{aptosConfig:e,options:t,accountAddress:n}=r,o=await Dm({aptosConfig:e});return(await Qe({aptosConfig:e,originMethod:"getAccountDomains",query:{query:ha,variables:{limit:t?.limit,offset:t?.offset,order_by:t?.orderBy,where_condition:{...r.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:o},subdomain:{_eq:""}}}}})).current_aptos_names.map($u)}async function n1(r){let{aptosConfig:e,options:t,accountAddress:n}=r,o=await Dm({aptosConfig:e});return(await Qe({aptosConfig:e,originMethod:"getAccountSubdomains",query:{query:ha,variables:{limit:t?.limit,offset:t?.offset,order_by:t?.orderBy,where_condition:{...r.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:o},subdomain:{_neq:""}}}}})).current_aptos_names.map($u)}async function o1(r){let{aptosConfig:e,options:t,domain:n}=r;return(await Qe({aptosConfig:e,originMethod:"getDomainSubdomains",query:{query:ha,variables:{limit:t?.limit,offset:t?.offset,order_by:t?.orderBy,where_condition:{...r.options?.where??{},domain:{_eq:n},subdomain:{_neq:""}}}}})).current_aptos_names.map($u)}async function Dm(r){let{aptosConfig:e}=r,t=Lo(e),[n]=await ai({aptosConfig:e,payload:{function:`${t}::config::reregistration_grace_sec`,functionArguments:[]}}),o=n/60/60/24,i=()=>new Date;return new Date(i().setDate(i().getDate()-o)).toISOString()}async function i1(r){let{aptosConfig:e,sender:t,name:n,years:o=1,options:i}=r,s=Lo(e),a=o*31536e3,{domainName:c,subdomainName:f}=Ri(n);if(f)throw new Error("Subdomains cannot be renewed");if(o!==1)throw new Error("Currently, only 1 year renewals are supported");return await tt({aptosConfig:e,sender:t.accountAddress.toString(),data:{function:`${s}::router::renew_domain`,functionArguments:[c,a]},options:i})}function $u(r){return{...r,expiration_timestamp:new Date(r.expiration_timestamp).valueOf()}}var ju=class{constructor(e){this.config=e}async getOwnerAddress(e){return Ww({aptosConfig:this.config,...e})}async getExpiration(e){return Nm({aptosConfig:this.config,...e})}async getTargetAddress(e){return Xw({aptosConfig:this.config,...e})}async setTargetAddress(e){return Zw({aptosConfig:this.config,...e})}async getPrimaryName(e){return Yw({aptosConfig:this.config,...e})}async setPrimaryName(e){return Jw({aptosConfig:this.config,...e})}async registerName(e){return Qw({aptosConfig:this.config,...e})}async renewDomain(e){return i1({aptosConfig:this.config,...e})}async getName(e){return e1({aptosConfig:this.config,...e})}async getAccountNames(e){return t1({aptosConfig:this.config,...e})}async getAccountDomains(e){return r1({aptosConfig:this.config,...e})}async getAccountSubdomains(e){return n1({aptosConfig:this.config,...e})}async getDomainSubdomains(e){return o1({aptosConfig:this.config,...e})}};var S_=[Fa.COSEALG.ES256];async function s1(r){let{authenticatorAttachment:e}=r;return ym({...r,authenticatorSelection:{authenticatorAttachment:e,residentKey:"required",userVerification:"required"},supportedAlgorithmIDs:S_})}async function a1(r){return v0(r)}function c1(r){let e=qe.toBuffer(r.response.authenticatorData),t=Cu(e),n=qa(t.credentialPublicKey);return new cr(n)}async function u1(r){let{aptosConfig:e,transaction:t}=r,n=await Hd({...r});return console.log(n),oc({aptosConfig:e,transaction:t,senderAuthenticator:n})}async function f1(r){let{publicKey:e,alg:t}=r,n=t??Fa.COSEALG.ES256,o;switch(n){case Fa.COSEALG.ES256:o=new cr(e);break;default:throw new Error("Algorithm is not supported")}let i=Nr.fromPublicKey({publicKey:o});return re.from(i.toString())}var Wu=class{constructor(e){this.config=e}async signAndSubmitWithPasskey(e){return u1({aptosConfig:this.config,...e})}async getPasskeyAccountAddress(e){return f1(e)}async generateRegistrationOptions(e){return s1(e)}async registerCredential(e){return a1(e)}parsePublicKey(e){return c1(e)}};async function l1(r){let{aptosConfig:e,poolAddress:t}=r,n=re.from(t).toStringLong(),i=await Qe({aptosConfig:e,query:{query:Eh,variables:{where_condition:{pool_address:{_eq:n}}}}});return i.num_active_delegator_per_pool[0]?i.num_active_delegator_per_pool[0].num_active_delegator:0}async function d1(r){let{aptosConfig:e,options:t}=r,n={query:Eh,variables:{order_by:t?.orderBy}};return(await Qe({aptosConfig:e,query:n})).num_active_delegator_per_pool}async function p1(r){let{aptosConfig:e,delegatorAddress:t,poolAddress:n}=r,o={query:k0,variables:{delegatorAddress:re.from(t).toStringLong(),poolAddress:re.from(n).toStringLong()}};return(await Qe({aptosConfig:e,query:o})).delegated_staking_activities}var Qu=class{constructor(e){this.config=e}async getNumberOfDelegators(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"stake_processor"}),l1({aptosConfig:this.config,...e})}async getNumberOfDelegatorsForAllPools(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"stake_processor"}),d1({aptosConfig:this.config,...e})}async getDelegatedStakingActivities(e){return await st({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"stake_processor"}),p1({aptosConfig:this.config,...e})}};var $d=class{constructor(e){this.config=e}async simple(e){return tt({aptosConfig:this.config,...e})}async multiAgent(e){return tt({aptosConfig:this.config,...e})}};function Mm(r,e,t){let n=t.value;return t.value=async function(...o){let[i]=o;if(i.transaction.feePayerAddress&&!i.feePayerAuthenticator)throw new Error("You are submitting a Fee Payer transaction but missing the feePayerAuthenticator");return n.apply(this,o)},t}function Lm(r,e,t){let n=t.value;return t.value=async function(...o){let[i]=o;if(i.transaction.feePayerAddress&&!i.feePayerPublicKey)throw new Error("You are simulating a Fee Payer transaction but missing the feePayerPublicKey");return n.apply(this,o)},t}var ic=class{constructor(e){this.config=e}async simple(e){return Pm({aptosConfig:this.config,...e})}async multiAgent(e){return Pm({aptosConfig:this.config,...e})}};Ar([Lm],ic.prototype,"simple",1),Ar([Lm],ic.prototype,"multiAgent",1);var sc=class{constructor(e){this.config=e}async simple(e){return oc({aptosConfig:this.config,...e})}async multiAgent(e){return oc({aptosConfig:this.config,...e})}};Ar([Mm],sc.prototype,"simple",1),Ar([Mm],sc.prototype,"multiAgent",1);var m1=Vr(y1(),1);var Wd=m1.default;var Qd=()=>Math.floor(Date.now()/1e3),Ju=class{constructor(e,t,n,o,i){this.lastUncommintedNumber=null;this.currentNumber=null;this.lock=!1;this.aptosConfig=e,this.account=t,this.maxWaitTime=n,this.maximumInFlight=o,this.sleepTime=i}async nextSequenceNumber(){for(;this.lock;)await ci(this.sleepTime);this.lock=!0;let e=BigInt(0);try{if((this.lastUncommintedNumber===null||this.currentNumber===null)&&await this.initialize(),this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight){await this.update();let t=Qd();for(;this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight;)await ci(this.sleepTime),Qd()-t>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):await this.update()}e=this.currentNumber,this.currentNumber+=BigInt(1)}catch(t){console.error("error in getting next sequence number for this account",t)}finally{this.lock=!1}return e}async initialize(){let{sequence_number:e}=await Fn({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});this.currentNumber=BigInt(e),this.lastUncommintedNumber=BigInt(e)}async update(){let{sequence_number:e}=await Fn({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});return this.lastUncommintedNumber=BigInt(e),this.lastUncommintedNumber}async synchronize(){if(this.lastUncommintedNumber!==this.currentNumber){for(;this.lock;)await ci(this.sleepTime);this.lock=!0;try{await this.update();let e=Qd();for(;this.lastUncommintedNumber!==this.currentNumber;)Qd()-e>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):(await ci(this.sleepTime),await this.update())}catch(e){console.error("error in synchronizing this account sequence number with the one on chain",e)}finally{this.lock=!1}}}};var ac=class{constructor(){this.queue=[];this.pendingDequeue=[];this.cancelled=!1}enqueue(e){if(this.cancelled=!1,this.pendingDequeue.length>0){this.pendingDequeue.shift()?.resolve(e);return}this.queue.push(e)}async dequeue(){return this.queue.length>0?Promise.resolve(this.queue.shift()):new Promise((e,t)=>{this.pendingDequeue.push({resolve:e,reject:t})})}isEmpty(){return this.queue.length===0}cancel(){this.cancelled=!0,this.pendingDequeue.forEach(async({reject:e})=>{e(new cc("Task cancelled"))}),this.pendingDequeue=[],this.queue.length=0}isCancelled(){return this.cancelled}pendingDequeueLength(){return this.pendingDequeue.length}},cc=class extends Error{};var Gm="fulfilled",zm=(i=>(i.TransactionSent="transactionSent",i.TransactionSendFailed="transactionSendFailed",i.TransactionExecuted="transactionExecuted",i.TransactionExecutionFailed="transactionExecutionFailed",i.ExecutionFinish="executionFinish",i))(zm||{}),Xu=class extends Wd{constructor(t,n,o=30,i=100,s=10){super();this.taskQueue=new ac;this.transactionsQueue=new ac;this.outstandingTransactions=new ac;this.sentTransactions=[];this.executedTransactions=[];this.aptosConfig=t,this.account=n,this.started=!1,this.accountSequnceNumber=new Ju(t,n,o,i,s)}async submitNextTransaction(){try{for(;;){let t=await this.accountSequnceNumber.nextSequenceNumber();if(t===null)return;let n=await this.generateNextTransaction(this.account,t);if(!n)return;let o=Hu({aptosConfig:this.aptosConfig,transaction:n,signer:this.account});await this.outstandingTransactions.enqueue([o,t])}}catch(t){if(t instanceof cc)return;throw new Error(`Submit transaction failed for ${this.account.accountAddress.toString()} with error ${t}`)}}async processTransactions(){try{for(;;){let t=[],n=[],[o,i]=await this.outstandingTransactions.dequeue();for(t.push(o),n.push(i);!this.outstandingTransactions.isEmpty();)[o,i]=await this.outstandingTransactions.dequeue(),t.push(o),n.push(i);let s=await Promise.allSettled(t);for(let a=0;a<s.length&&a<n.length;a+=1){let c=s[a];i=n[a],c.status===Gm?(this.sentTransactions.push([c.value.hash,i,null]),this.emit("transactionSent",{message:`transaction hash ${c.value.hash} has been committed to chain`,transactionHash:c.value.hash}),await this.checkTransaction(c,i)):(this.sentTransactions.push([c.status,i,c.reason]),this.emit("transactionSendFailed",{message:`failed to commit transaction ${this.sentTransactions.length} with error ${c.reason}`,error:c.reason}))}this.emit("executionFinish",{message:`execute ${s.length} transactions finished`})}}catch(t){if(t instanceof cc)return;throw new Error(`Process execution failed for ${this.account.accountAddress.toString()} with error ${t}`)}}async checkTransaction(t,n){try{let o=[];o.push(ma({aptosConfig:this.aptosConfig,transactionHash:t.value.hash}));let i=await Promise.allSettled(o);for(let s=0;s<i.length;s+=1){let a=i[s];a.status===Gm?(this.executedTransactions.push([a.value.hash,n,null]),this.emit("transactionExecuted",{message:`transaction hash ${a.value.hash} has been executed on chain`,transactionHash:t.value.hash})):(this.executedTransactions.push([a.status,n,a.reason]),this.emit("transactionExecutionFailed",{message:`failed to execute transaction ${this.executedTransactions.length} with error ${a.reason}`,error:a.reason}))}}catch(o){throw new Error(`Check transaction failed for ${this.account.accountAddress.toString()} with error ${o}`)}}async push(t,n){await this.transactionsQueue.enqueue([t,n])}async generateNextTransaction(t,n){if(this.transactionsQueue.isEmpty())return;let[o,i]=await this.transactionsQueue.dequeue();return await tt({aptosConfig:this.aptosConfig,sender:t.accountAddress,data:o,options:{...i,accountSequenceNumber:n}})}async run(){try{for(;!this.taskQueue.isCancelled();)await(await this.taskQueue.dequeue())()}catch(t){throw new Error(`Unable to start transaction batching: ${t}`)}}start(){if(this.started)throw new Error("worker has already started");this.started=!0,this.taskQueue.enqueue(()=>this.submitNextTransaction()),this.taskQueue.enqueue(()=>this.processTransactions()),this.run()}stop(){if(this.taskQueue.isCancelled())throw new Error("worker has already stopped");this.started=!1,this.taskQueue.cancel()}};var Yd=class extends Wd{constructor(t){super();this.config=t}start(t){let{sender:n}=t;this.account=n,this.transactionWorker=new Xu(this.config,n),this.transactionWorker.start(),this.registerToEvents()}push(t){let{data:n,options:o}=t;for(let i of n)this.transactionWorker.push(i,o)}registerToEvents(){this.transactionWorker.on("transactionSent",async t=>{this.emit("transactionSent",t)}),this.transactionWorker.on("transactionSendFailed",async t=>{this.emit("transactionSendFailed",t)}),this.transactionWorker.on("transactionExecuted",async t=>{this.emit("transactionExecuted",t)}),this.transactionWorker.on("transactionExecutionFailed",async t=>{this.emit("transactionExecutionFailed",t)}),this.transactionWorker.on("executionFinish",async t=>{this.emit("executionFinish",t)})}forSingleAccount(t){try{let{sender:n,data:o,options:i}=t;this.start({sender:n}),this.push({data:o,options:i})}catch(n){throw new Error(`failed to submit transactions with error: ${n}`)}}};var Zu=class{constructor(e){this.config=e,this.build=new $d(this.config),this.simulate=new ic(this.config),this.submit=new sc(this.config),this.batch=new Yd(this.config)}async getTransactions(e){return nA({aptosConfig:this.config,...e})}async getTransactionByVersion(e){return oA({aptosConfig:this.config,...e})}async getTransactionByHash(e){return rl({aptosConfig:this.config,...e})}async isPendingTransaction(e){return iA({aptosConfig:this.config,...e})}async waitForTransaction(e){return ma({aptosConfig:this.config,...e})}async getGasPriceEstimation(){return tl({aptosConfig:this.config})}getSigningMessage(e){return Kd(e)}async publishPackageTransaction(e){return mw({aptosConfig:this.config,...e})}async rotateAuthKey(e){return gw({aptosConfig:this.config,...e})}sign(e){return Fd({...e})}signAsFeePayer(e){let{signer:t,transaction:n}=e;if(!n.feePayerAddress)throw new Error(`Transaction ${n} is not a Fee Payer transaction`);return n.feePayerAddress=t.accountAddress,Fd({signer:t,transaction:n})}async batchTransactionsForSingleAccount(e){try{let{sender:t,data:n,options:o}=e;this.batch.forSingleAccount({sender:t,data:n,options:o})}catch(t){throw new Error(`failed to submit transactions with error: ${t}`)}}async signAndSubmitTransaction(e){let{signer:t,transaction:n}=e;return Hu({aptosConfig:this.config,signer:t,transaction:n})}};var Cr=class{constructor(e){this.config=new Hc(e),this.account=new Ic(this.config),this.ans=new ju(this.config),this.coin=new Gu(this.config),this.digitalAsset=new zu(this.config),this.event=new Ku(this.config),this.faucet=new Fu(this.config),this.fungibleAsset=new Vu(this.config),this.general=new qu(this.config),this.passkeysBrowser=new Wu(this.config),this.staking=new Qu(this.config),this.transaction=new Zu(this.config)}};function Dn(r,e,t){Object.getOwnPropertyNames(e.prototype).forEach(n=>{let o=Object.getOwnPropertyDescriptor(e.prototype,n);o&&(o.value=function(...i){return this[t][n](...i)},Object.defineProperty(r.prototype,n,o))})}Dn(Cr,Ic,"account");Dn(Cr,ju,"ans");Dn(Cr,Gu,"coin");Dn(Cr,zu,"digitalAsset");Dn(Cr,Ku,"event");Dn(Cr,Fu,"faucet");Dn(Cr,Vu,"fungibleAsset");Dn(Cr,qu,"general");Dn(Cr,Wu,"passkeysBrowser");Dn(Cr,Qu,"staking");Dn(Cr,Zu,"transaction");return E1(__);})();
/*! Bundled license information:

pvtsutils/build/index.js:
  (*!
   * MIT License
   * 
   * Copyright (c) 2017-2022 Peculiar Ventures, LLC
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   * 
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip32/lib/esm/index.js:
  (*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

pvutils/build/utils.es.js:
  (*!
   Copyright (c) Peculiar Ventures, LLC
  *)

asn1js/build/index.es.js:
  (*!
   * Copyright (c) 2014, GMO GlobalSign
   * Copyright (c) 2015-2022, Peculiar Ventures
   * All rights reserved.
   * 
   * Author 2014-2019, Yury Strozhevsky
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   * * Redistributions of source code must retain the above copyright notice, this
   *   list of conditions and the following disclaimer.
   * 
   * * Redistributions in binary form must reproduce the above copyright notice, this
   *   list of conditions and the following disclaimer in the documentation and/or
   *   other materials provided with the distribution.
   * 
   * * Neither the name of the copyright holder nor the names of its
   *   contributors may be used to endorse or promote products derived from
   *   this software without specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
   * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
   * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   *)
*/
//# sourceMappingURL=index.global.js.map